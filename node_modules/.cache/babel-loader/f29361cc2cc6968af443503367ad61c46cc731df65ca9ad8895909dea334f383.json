{"ast":null,"code":"var _jsxFileName = \"/Users/sanjith/ingrediate1/src/CameraDetection.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Camera } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CameraDetection = ({\n  onIngredientsDetected\n}) => {\n  _s();\n  const [isCapturing, setIsCapturing] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const knownIngredients = new Set(['apple', 'banana', 'orange', 'tomato', 'onion', 'garlic', 'potato', 'carrot', 'broccoli', 'pepper', 'cucumber', 'lettuce', 'spinach', 'mushroom', 'lemon', 'lime', 'cheese', 'bread', 'egg', 'chicken', 'beef', 'fish', 'rice', 'pasta', 'beans', 'nuts', 'herbs', 'spices', 'avocado', 'olive oil', 'butter', 'milk', 'yogurt', 'flour', 'sugar', 'salt', 'black pepper']);\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: 'environment'\n        }\n      });\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n      setIsCapturing(true);\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      alert('Unable to access camera. Please ensure you have granted camera permissions.');\n    }\n  };\n  const stopCamera = () => {\n    var _videoRef$current;\n    if ((_videoRef$current = videoRef.current) !== null && _videoRef$current !== void 0 && _videoRef$current.srcObject) {\n      const tracks = videoRef.current.srcObject.getTracks();\n      tracks.forEach(track => track.stop());\n      videoRef.current.srcObject = null;\n    }\n    setIsCapturing(false);\n  };\n  const captureAndDetect = async () => {\n    if (!videoRef.current || !canvasRef.current) return;\n    setProcessing(true);\n    try {\n      const video = videoRef.current;\n      const canvas = canvasRef.current;\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      const ctx = canvas.getContext('2d');\n      ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(video, 0, 0);\n      const blob = await new Promise(resolve => {\n        canvas.toBlob(b => resolve(b), 'image/jpeg', 0.8);\n      });\n      const detectedIngredients = await analyzeImageWithGoogleVision(blob);\n      onIngredientsDetected(detectedIngredients);\n    } catch (err) {\n      console.error('Error during ingredient detection:', err);\n      alert('Error detecting ingredients. Please try again.');\n    } finally {\n      setProcessing(false);\n      stopCamera();\n    }\n  };\n  const analyzeImageWithGoogleVision = async imageBlob => {\n    const apiKey = process.env.REACT_APP_GOOGLE_CLOUD_API_KEY;\n    const apiEndpoint = 'https://vision.googleapis.com/v1/images:annotate';\n    try {\n      var _data$responses$0$lab, _data$responses$0$loc;\n      // Convert blob to base64\n      const base64Image = await new Promise(resolve => {\n        const reader = new FileReader();\n        reader.onloadend = () => resolve(reader.result.split(',')[1]);\n        reader.readAsDataURL(imageBlob);\n      });\n      const requestBody = {\n        requests: [{\n          image: {\n            content: base64Image\n          },\n          features: [{\n            type: 'LABEL_DETECTION',\n            maxResults: 20\n          }, {\n            type: 'OBJECT_LOCALIZATION',\n            maxResults: 20\n          }]\n        }]\n      };\n      const response = await fetch(`${apiEndpoint}?key=${apiKey}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(requestBody)\n      });\n      if (!response.ok) {\n        throw new Error(`Google Vision API Error: ${response.statusText}`);\n      }\n      const data = await response.json();\n      const detectedItems = new Set();\n\n      // Process labels\n      (_data$responses$0$lab = data.responses[0].labelAnnotations) === null || _data$responses$0$lab === void 0 ? void 0 : _data$responses$0$lab.forEach(label => {\n        const name = label.description.toLowerCase();\n        if (knownIngredients.has(name) && label.score > 0.7) {\n          detectedItems.add(name);\n        }\n      });\n\n      // Process objects\n      (_data$responses$0$loc = data.responses[0].localizedObjectAnnotations) === null || _data$responses$0$loc === void 0 ? void 0 : _data$responses$0$loc.forEach(obj => {\n        const name = obj.name.toLowerCase();\n        if (knownIngredients.has(name) && obj.score > 0.7) {\n          detectedItems.add(name);\n        }\n      });\n      return Array.from(detectedItems);\n    } catch (err) {\n      console.error('Google Vision API Error:', err);\n      throw err;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), isCapturing ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aspect-video bg-gray-800 rounded-lg overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          autoPlay: true,\n          playsInline: true,\n          className: \"w-full h-full object-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-24 h-24 rounded-full border-4 border-white opacity-50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-4 left-0 right-0 flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopCamera,\n          className: \"p-3 rounded-full bg-red-500 text-white hover:bg-red-600\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: captureAndDetect,\n          disabled: processing,\n          className: \"p-3 rounded-full bg-green-500 text-white hover:bg-green-600\",\n          style: {\n            backgroundColor: processing ? '#B7B7A4' : '#6B705C'\n          },\n          children: processing ? 'Detecting...' : 'Capture'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: startCamera,\n      className: \"flex items-center justify-center w-full p-3 rounded-lg space-x-2 transition-all hover:scale-105\",\n      style: {\n        backgroundColor: '#B7B7A4'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Camera, {\n        className: \"w-6 h-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Scan Ingredients\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this), processing && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 flex items-center justify-center space-x-2 p-4 rounded-lg\",\n      style: {\n        backgroundColor: '#FFE8D6'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-4 h-4 rounded-full bg-gray-600 animate-pulse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-200\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-2 text-gray-800\",\n        children: \"Processing image...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n};\n_s(CameraDetection, \"1cfN6hIMqYtwiE2LsZDGtTeV/NY=\");\n_c = CameraDetection;\nexport default CameraDetection;\nvar _c;\n$RefreshReg$(_c, \"CameraDetection\");","map":{"version":3,"names":["React","useState","useRef","Camera","jsxDEV","_jsxDEV","CameraDetection","onIngredientsDetected","_s","isCapturing","setIsCapturing","processing","setProcessing","videoRef","canvasRef","knownIngredients","Set","startCamera","stream","navigator","mediaDevices","getUserMedia","video","facingMode","current","srcObject","err","console","error","alert","stopCamera","_videoRef$current","tracks","getTracks","forEach","track","stop","captureAndDetect","canvas","width","videoWidth","height","videoHeight","ctx","getContext","drawImage","blob","Promise","resolve","toBlob","b","detectedIngredients","analyzeImageWithGoogleVision","imageBlob","apiKey","process","env","REACT_APP_GOOGLE_CLOUD_API_KEY","apiEndpoint","_data$responses$0$lab","_data$responses$0$loc","base64Image","reader","FileReader","onloadend","result","split","readAsDataURL","requestBody","requests","image","content","features","type","maxResults","response","fetch","method","headers","body","JSON","stringify","ok","Error","statusText","data","json","detectedItems","responses","labelAnnotations","label","name","description","toLowerCase","has","score","add","localizedObjectAnnotations","obj","Array","from","className","children","ref","style","display","fileName","_jsxFileName","lineNumber","columnNumber","autoPlay","playsInline","onClick","disabled","backgroundColor","_c","$RefreshReg$"],"sources":["/Users/sanjith/ingrediate1/src/CameraDetection.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Camera } from 'lucide-react';\n\ninterface CameraDetectionProps {\n  onIngredientsDetected: (ingredients: string[]) => void;\n}\n\nconst CameraDetection: React.FC<CameraDetectionProps> = ({ onIngredientsDetected }) => {\n  const [isCapturing, setIsCapturing] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  const knownIngredients = new Set([\n    'apple', 'banana', 'orange', 'tomato', 'onion', 'garlic',\n    'potato', 'carrot', 'broccoli', 'pepper', 'cucumber',\n    'lettuce', 'spinach', 'mushroom', 'lemon', 'lime',\n    'cheese', 'bread', 'egg', 'chicken', 'beef', 'fish',\n    'rice', 'pasta', 'beans', 'nuts', 'herbs', 'spices',\n    'avocado', 'olive oil', 'butter', 'milk', 'yogurt',\n    'flour', 'sugar', 'salt', 'black pepper'\n  ]);\n\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        video: { facingMode: 'environment' } \n      });\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n      setIsCapturing(true);\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      alert('Unable to access camera. Please ensure you have granted camera permissions.');\n    }\n  };\n\n  const stopCamera = () => {\n    if (videoRef.current?.srcObject) {\n      const tracks = (videoRef.current.srcObject as MediaStream).getTracks();\n      tracks.forEach(track => track.stop());\n      videoRef.current.srcObject = null;\n    }\n    setIsCapturing(false);\n  };\n\n  const captureAndDetect = async () => {\n    if (!videoRef.current || !canvasRef.current) return;\n\n    setProcessing(true);\n    try {\n      const video = videoRef.current;\n      const canvas = canvasRef.current;\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      const ctx = canvas.getContext('2d');\n      ctx?.drawImage(video, 0, 0);\n\n      const blob = await new Promise<Blob>((resolve) => {\n        canvas.toBlob((b) => resolve(b!), 'image/jpeg', 0.8);\n      });\n\n      const detectedIngredients = await analyzeImageWithGoogleVision(blob);\n      onIngredientsDetected(detectedIngredients);\n      \n    } catch (err) {\n      console.error('Error during ingredient detection:', err);\n      alert('Error detecting ingredients. Please try again.');\n    } finally {\n      setProcessing(false);\n      stopCamera();\n    }\n  };\n\n  const analyzeImageWithGoogleVision = async (imageBlob: Blob): Promise<string[]> => {\n    const apiKey = process.env.REACT_APP_GOOGLE_CLOUD_API_KEY;\n    const apiEndpoint = 'https://vision.googleapis.com/v1/images:annotate';\n\n    try {\n      // Convert blob to base64\n      const base64Image = await new Promise<string>((resolve) => {\n        const reader = new FileReader();\n        reader.onloadend = () => resolve((reader.result as string).split(',')[1]);\n        reader.readAsDataURL(imageBlob);\n      });\n\n      const requestBody = {\n        requests: [{\n          image: {\n            content: base64Image\n          },\n          features: [\n            { type: 'LABEL_DETECTION', maxResults: 20 },\n            { type: 'OBJECT_LOCALIZATION', maxResults: 20 }\n          ]\n        }]\n      };\n\n      const response = await fetch(`${apiEndpoint}?key=${apiKey}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody)\n      });\n\n      if (!response.ok) {\n        throw new Error(`Google Vision API Error: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      const detectedItems = new Set<string>();\n\n      // Process labels\n      data.responses[0].labelAnnotations?.forEach((label: { description: string, score: number }) => {\n        const name = label.description.toLowerCase();\n        if (knownIngredients.has(name) && label.score > 0.7) {\n          detectedItems.add(name);\n        }\n      });\n\n      // Process objects\n      data.responses[0].localizedObjectAnnotations?.forEach((obj: { name: string, score: number }) => {\n        const name = obj.name.toLowerCase();\n        if (knownIngredients.has(name) && obj.score > 0.7) {\n          detectedItems.add(name);\n        }\n      });\n\n      return Array.from(detectedItems);\n\n    } catch (err) {\n      console.error('Google Vision API Error:', err);\n      throw err;\n    }\n  };\n\n  return (\n    <div className=\"w-full\">\n      <canvas ref={canvasRef} style={{ display: 'none' }} />\n      \n      {isCapturing ? (\n        <div className=\"relative\">\n          <div className=\"aspect-video bg-gray-800 rounded-lg overflow-hidden\">\n            <video \n              ref={videoRef}\n              autoPlay \n              playsInline\n              className=\"w-full h-full object-cover\"\n            />\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <div className=\"w-24 h-24 rounded-full border-4 border-white opacity-50\"></div>\n            </div>\n          </div>\n          <div className=\"absolute bottom-4 left-0 right-0 flex justify-center space-x-4\">\n            <button\n              onClick={stopCamera}\n              className=\"p-3 rounded-full bg-red-500 text-white hover:bg-red-600\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={captureAndDetect}\n              disabled={processing}\n              className=\"p-3 rounded-full bg-green-500 text-white hover:bg-green-600\"\n              style={{\n                backgroundColor: processing ? '#B7B7A4' : '#6B705C'\n              }}\n            >\n              {processing ? 'Detecting...' : 'Capture'}\n            </button>\n          </div>\n        </div>\n      ) : (\n        <button\n          onClick={startCamera}\n          className=\"flex items-center justify-center w-full p-3 rounded-lg space-x-2 transition-all hover:scale-105\"\n          style={{ backgroundColor: '#B7B7A4' }}\n        >\n          <Camera className=\"w-6 h-6\" />\n          <span>Scan Ingredients</span>\n        </button>\n      )}\n\n      {processing && (\n        <div className=\"mt-4 flex items-center justify-center space-x-2 p-4 rounded-lg\" \n             style={{ backgroundColor: '#FFE8D6' }}>\n          <div className=\"w-4 h-4 rounded-full bg-gray-600 animate-pulse\"></div>\n          <div className=\"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-100\"></div>\n          <div className=\"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-200\"></div>\n          <span className=\"ml-2 text-gray-800\">Processing image...</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CameraDetection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}