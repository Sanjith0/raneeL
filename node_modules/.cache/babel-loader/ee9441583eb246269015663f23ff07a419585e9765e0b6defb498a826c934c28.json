{"ast":null,"code":"import React,{useState,useRef}from'react';import{Camera,Upload}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CameraDetection=_ref=>{let{onIngredientsDetected}=_ref;const[processing,setProcessing]=useState(false);const fileInputRef=useRef(null);const handleFileUpload=async event=>{var _event$target$files;const file=(_event$target$files=event.target.files)===null||_event$target$files===void 0?void 0:_event$target$files[0];if(!file)return;setProcessing(true);try{// For testing purposes - simulate detection\nsetTimeout(()=>{const mockIngredients=['tomato','onion','garlic'];onIngredientsDetected(mockIngredients);setProcessing(false);},2000);// Reset file input\nif(fileInputRef.current){fileInputRef.current.value='';}}catch(error){console.error('Error processing image:',error);alert('Error processing image. Please try again.');setProcessing(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\"image/*\",capture:\"environment\",onChange:handleFileUpload,className:\"hidden\",id:\"camera-input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"camera-input\",className:\"flex-1 flex items-center justify-center p-3 rounded-lg space-x-2 transition-all hover:scale-105 cursor-pointer\",style:{backgroundColor:'#B7B7A4'},children:[/*#__PURE__*/_jsx(Camera,{className:\"w-6 h-6\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Take Photo\"})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"camera-input\",className:\"flex-1 flex items-center justify-center p-3 rounded-lg space-x-2 transition-all hover:scale-105 cursor-pointer\",style:{backgroundColor:'#B7B7A4'},onClick:()=>{if(fileInputRef.current){fileInputRef.current.removeAttribute('capture');fileInputRef.current.click();fileInputRef.current.setAttribute('capture','environment');}},children:[/*#__PURE__*/_jsx(Upload,{className:\"w-6 h-6\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload Photo\"})]})]}),processing&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-center space-x-2 p-4 rounded-lg\",style:{backgroundColor:'#FFE8D6'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 rounded-full bg-gray-600 animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-100\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-800\",children:\"Processing image...\"})]})]});};export default CameraDetection;","map":{"version":3,"names":["React","useState","useRef","Camera","Upload","jsx","_jsx","jsxs","_jsxs","CameraDetection","_ref","onIngredientsDetected","processing","setProcessing","fileInputRef","handleFileUpload","event","_event$target$files","file","target","files","setTimeout","mockIngredients","current","value","error","console","alert","className","children","ref","type","accept","capture","onChange","id","htmlFor","style","backgroundColor","onClick","removeAttribute","click","setAttribute"],"sources":["/Users/sanjith/ingrediate1/src/CameraDetection.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Camera, Upload } from 'lucide-react';\n\ninterface CameraDetectionProps {\n  onIngredientsDetected: (ingredients: string[]) => void;\n}\n\nconst CameraDetection: React.FC<CameraDetectionProps> = ({ onIngredientsDetected }) => {\n  const [processing, setProcessing] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    setProcessing(true);\n    try {\n      // For testing purposes - simulate detection\n      setTimeout(() => {\n        const mockIngredients = ['tomato', 'onion', 'garlic'];\n        onIngredientsDetected(mockIngredients);\n        setProcessing(false);\n      }, 2000);\n\n      // Reset file input\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    } catch (error) {\n      console.error('Error processing image:', error);\n      alert('Error processing image. Please try again.');\n      setProcessing(false);\n    }\n  };\n\n  return (\n    <div className=\"w-full space-y-4\">\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        capture=\"environment\"\n        onChange={handleFileUpload}\n        className=\"hidden\"\n        id=\"camera-input\"\n      />\n      \n      <div className=\"flex gap-2\">\n        <label\n          htmlFor=\"camera-input\"\n          className=\"flex-1 flex items-center justify-center p-3 rounded-lg space-x-2 transition-all hover:scale-105 cursor-pointer\"\n          style={{ backgroundColor: '#B7B7A4' }}\n        >\n          <Camera className=\"w-6 h-6\" />\n          <span>Take Photo</span>\n        </label>\n\n        <label\n          htmlFor=\"camera-input\"\n          className=\"flex-1 flex items-center justify-center p-3 rounded-lg space-x-2 transition-all hover:scale-105 cursor-pointer\"\n          style={{ backgroundColor: '#B7B7A4' }}\n          onClick={() => {\n            if (fileInputRef.current) {\n              fileInputRef.current.removeAttribute('capture');\n              fileInputRef.current.click();\n              fileInputRef.current.setAttribute('capture', 'environment');\n            }\n          }}\n        >\n          <Upload className=\"w-6 h-6\" />\n          <span>Upload Photo</span>\n        </label>\n      </div>\n\n      {processing && (\n        <div className=\"mt-4 flex items-center justify-center space-x-2 p-4 rounded-lg\" \n             style={{ backgroundColor: '#FFE8D6' }}>\n          <div className=\"w-4 h-4 rounded-full bg-gray-600 animate-pulse\"></div>\n          <div className=\"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-100\"></div>\n          <div className=\"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-200\"></div>\n          <span className=\"ml-2 text-gray-800\">Processing image...</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CameraDetection;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC/C,OAASC,MAAM,CAAEC,MAAM,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAM9C,KAAM,CAAAC,eAA+C,CAAGC,IAAA,EAA+B,IAA9B,CAAEC,qBAAsB,CAAC,CAAAD,IAAA,CAChF,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAAa,YAAY,CAAGZ,MAAM,CAAmB,IAAI,CAAC,CAEnD,KAAM,CAAAa,gBAAgB,CAAG,KAAO,CAAAC,KAA0C,EAAK,KAAAC,mBAAA,CAC7E,KAAM,CAAAC,IAAI,EAAAD,mBAAA,CAAGD,KAAK,CAACG,MAAM,CAACC,KAAK,UAAAH,mBAAA,iBAAlBA,mBAAA,CAAqB,CAAC,CAAC,CACpC,GAAI,CAACC,IAAI,CAAE,OAEXL,aAAa,CAAC,IAAI,CAAC,CACnB,GAAI,CACF;AACAQ,UAAU,CAAC,IAAM,CACf,KAAM,CAAAC,eAAe,CAAG,CAAC,QAAQ,CAAE,OAAO,CAAE,QAAQ,CAAC,CACrDX,qBAAqB,CAACW,eAAe,CAAC,CACtCT,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAAE,IAAI,CAAC,CAER;AACA,GAAIC,YAAY,CAACS,OAAO,CAAE,CACxBT,YAAY,CAACS,OAAO,CAACC,KAAK,CAAG,EAAE,CACjC,CACF,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CE,KAAK,CAAC,2CAA2C,CAAC,CAClDd,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,mBACEL,KAAA,QAAKoB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BvB,IAAA,UACEwB,GAAG,CAAEhB,YAAa,CAClBiB,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,SAAS,CAChBC,OAAO,CAAC,aAAa,CACrBC,QAAQ,CAAEnB,gBAAiB,CAC3Ba,SAAS,CAAC,QAAQ,CAClBO,EAAE,CAAC,cAAc,CAClB,CAAC,cAEF3B,KAAA,QAAKoB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBrB,KAAA,UACE4B,OAAO,CAAC,cAAc,CACtBR,SAAS,CAAC,gHAAgH,CAC1HS,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,CAAAT,QAAA,eAEtCvB,IAAA,CAACH,MAAM,EAACyB,SAAS,CAAC,SAAS,CAAE,CAAC,cAC9BtB,IAAA,SAAAuB,QAAA,CAAM,YAAU,CAAM,CAAC,EAClB,CAAC,cAERrB,KAAA,UACE4B,OAAO,CAAC,cAAc,CACtBR,SAAS,CAAC,gHAAgH,CAC1HS,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,CACtCC,OAAO,CAAEA,CAAA,GAAM,CACb,GAAIzB,YAAY,CAACS,OAAO,CAAE,CACxBT,YAAY,CAACS,OAAO,CAACiB,eAAe,CAAC,SAAS,CAAC,CAC/C1B,YAAY,CAACS,OAAO,CAACkB,KAAK,CAAC,CAAC,CAC5B3B,YAAY,CAACS,OAAO,CAACmB,YAAY,CAAC,SAAS,CAAE,aAAa,CAAC,CAC7D,CACF,CAAE,CAAAb,QAAA,eAEFvB,IAAA,CAACF,MAAM,EAACwB,SAAS,CAAC,SAAS,CAAE,CAAC,cAC9BtB,IAAA,SAAAuB,QAAA,CAAM,cAAY,CAAM,CAAC,EACpB,CAAC,EACL,CAAC,CAELjB,UAAU,eACTJ,KAAA,QAAKoB,SAAS,CAAC,gEAAgE,CAC1ES,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,CAAAT,QAAA,eACzCvB,IAAA,QAAKsB,SAAS,CAAC,gDAAgD,CAAM,CAAC,cACtEtB,IAAA,QAAKsB,SAAS,CAAC,0DAA0D,CAAM,CAAC,cAChFtB,IAAA,QAAKsB,SAAS,CAAC,0DAA0D,CAAM,CAAC,cAChFtB,IAAA,SAAMsB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,qBAAmB,CAAM,CAAC,EAC5D,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}