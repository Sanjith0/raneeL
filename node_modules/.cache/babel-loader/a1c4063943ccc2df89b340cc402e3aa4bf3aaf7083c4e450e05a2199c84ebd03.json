{"ast":null,"code":"var _jsxFileName = \"/Users/sanjith/ingrediate1/src/CameraDetection.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Camera } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CameraDetection = ({\n  onIngredientsDetected\n}) => {\n  _s();\n  const [isCapturing, setIsCapturing] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  const [permissionDenied, setPermissionDenied] = useState(false);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const knownIngredients = new Set(['apple', 'banana', 'orange', 'tomato', 'onion', 'garlic', 'potato', 'carrot', 'broccoli', 'pepper', 'cucumber', 'lettuce', 'spinach', 'mushroom', 'lemon', 'lime', 'cheese', 'bread', 'egg', 'chicken', 'beef', 'fish', 'rice', 'pasta', 'beans', 'nuts', 'herbs', 'spices']);\n  const checkPermissions = async () => {\n    try {\n      // First, check if getUserMedia is supported\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        throw new Error('Camera API is not supported in your browser');\n      }\n\n      // Check if we already have permissions\n      const result = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: 'environment'\n        }\n      });\n\n      // If we get here, permission was granted\n      result.getTracks().forEach(track => track.stop()); // Clean up\n      return true;\n    } catch (err) {\n      console.error('Permission check failed:', err);\n      return false;\n    }\n  };\n  const startCamera = async () => {\n    setPermissionDenied(false);\n    try {\n      const hasPermission = await checkPermissions();\n      if (!hasPermission) {\n        setPermissionDenied(true);\n        return;\n      }\n      const constraints = {\n        video: {\n          facingMode: {\n            ideal: 'environment'\n          },\n          width: {\n            ideal: 1920\n          },\n          height: {\n            ideal: 1080\n          }\n        }\n      };\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        // For iOS Safari, we need to call play() on user interaction\n        videoRef.current.play().catch(err => {\n          console.error('Playback failed:', err);\n        });\n      }\n      setIsCapturing(true);\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      setPermissionDenied(true);\n      alert('Unable to access camera. Please ensure you have granted camera permissions in your browser settings.');\n    }\n  };\n  const stopCamera = () => {\n    var _videoRef$current;\n    if ((_videoRef$current = videoRef.current) !== null && _videoRef$current !== void 0 && _videoRef$current.srcObject) {\n      const tracks = videoRef.current.srcObject.getTracks();\n      tracks.forEach(track => track.stop());\n      videoRef.current.srcObject = null;\n    }\n    setIsCapturing(false);\n  };\n  const captureAndDetect = async () => {\n    if (!videoRef.current || !canvasRef.current) return;\n    setProcessing(true);\n    try {\n      const video = videoRef.current;\n      const canvas = canvasRef.current;\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      const ctx = canvas.getContext('2d');\n      if (!ctx) throw new Error('Could not get canvas context');\n\n      // Capture frame\n      ctx.drawImage(video, 0, 0);\n\n      // For testing purposes, simulate detection\n      // Remove this and uncomment the Google Vision code for production\n      setTimeout(() => {\n        const mockIngredients = ['tomato', 'onion', 'garlic'];\n        onIngredientsDetected(mockIngredients);\n        setProcessing(false);\n        stopCamera();\n      }, 2000);\n\n      /* Uncomment for actual Google Vision API usage\n      const blob = await new Promise<Blob>((resolve) => {\n        canvas.toBlob((b) => resolve(b!), 'image/jpeg', 0.8);\n      });\n       const detectedIngredients = await analyzeImageWithGoogleVision(blob);\n      onIngredientsDetected(detectedIngredients);\n      */\n    } catch (err) {\n      console.error('Error during capture:', err);\n      alert('Error capturing image. Please try again.');\n    } finally {\n      setProcessing(false);\n      stopCamera();\n    }\n  };\n  const handlePermissionError = () => {\n    if (permissionDenied) {\n      const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-4 rounded-lg bg-red-50 border border-red-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-700 font-medium mb-2\",\n          children: \"Camera access was denied\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), isIOS ? /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"text-sm text-red-600 list-decimal pl-4 space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Open iPhone Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Scroll down and tap Safari\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Scroll to \\\"Settings for Websites\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Tap Camera\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Find this website and select \\\"Allow\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Return to this page and refresh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-red-600\",\n          children: \"Please enable camera access in your browser settings and reload the page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.reload(),\n          className: \"mt-3 px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors\",\n          children: \"Refresh Page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), isCapturing ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aspect-video bg-gray-800 rounded-lg overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          autoPlay: true,\n          playsInline: true,\n          muted: true // Required for iOS\n          ,\n          className: \"w-full h-full object-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-24 h-24 rounded-full border-4 border-white opacity-50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-4 left-0 right-0 flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopCamera,\n          className: \"p-3 rounded-full bg-red-500 text-white hover:bg-red-600\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: captureAndDetect,\n          disabled: processing,\n          className: \"p-3 rounded-full text-white hover:opacity-90\",\n          style: {\n            backgroundColor: processing ? '#B7B7A4' : '#6B705C'\n          },\n          children: processing ? 'Detecting...' : 'Capture'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startCamera,\n        className: \"flex items-center justify-center w-full p-3 rounded-lg space-x-2 transition-all hover:scale-105\",\n        style: {\n          backgroundColor: '#B7B7A4'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Camera, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Scan Ingredients\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), handlePermissionError()]\n    }, void 0, true), processing && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 flex items-center justify-center space-x-2 p-4 rounded-lg\",\n      style: {\n        backgroundColor: '#FFE8D6'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-4 h-4 rounded-full bg-gray-600 animate-pulse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-200\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-2 text-gray-800\",\n        children: \"Processing image...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n};\n_s(CameraDetection, \"hMIjDAfRM6qR06/exsn5RaCHOHU=\");\n_c = CameraDetection;\nexport default CameraDetection;\nvar _c;\n$RefreshReg$(_c, \"CameraDetection\");","map":{"version":3,"names":["React","useState","useRef","Camera","jsxDEV","_jsxDEV","Fragment","_Fragment","CameraDetection","onIngredientsDetected","_s","isCapturing","setIsCapturing","processing","setProcessing","permissionDenied","setPermissionDenied","videoRef","canvasRef","knownIngredients","Set","checkPermissions","navigator","mediaDevices","getUserMedia","Error","result","video","facingMode","getTracks","forEach","track","stop","err","console","error","startCamera","hasPermission","constraints","ideal","width","height","stream","current","srcObject","play","catch","alert","stopCamera","_videoRef$current","tracks","captureAndDetect","canvas","videoWidth","videoHeight","ctx","getContext","drawImage","setTimeout","mockIngredients","handlePermissionError","isIOS","test","userAgent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","reload","ref","style","display","autoPlay","playsInline","muted","disabled","backgroundColor","_c","$RefreshReg$"],"sources":["/Users/sanjith/ingrediate1/src/CameraDetection.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Camera } from 'lucide-react';\n\ninterface CameraDetectionProps {\n  onIngredientsDetected: (ingredients: string[]) => void;\n}\n\nconst CameraDetection: React.FC<CameraDetectionProps> = ({ onIngredientsDetected }) => {\n  const [isCapturing, setIsCapturing] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  const [permissionDenied, setPermissionDenied] = useState(false);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  const knownIngredients = new Set([\n    'apple', 'banana', 'orange', 'tomato', 'onion', 'garlic',\n    'potato', 'carrot', 'broccoli', 'pepper', 'cucumber',\n    'lettuce', 'spinach', 'mushroom', 'lemon', 'lime',\n    'cheese', 'bread', 'egg', 'chicken', 'beef', 'fish',\n    'rice', 'pasta', 'beans', 'nuts', 'herbs', 'spices'\n  ]);\n\n  const checkPermissions = async () => {\n    try {\n      // First, check if getUserMedia is supported\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        throw new Error('Camera API is not supported in your browser');\n      }\n\n      // Check if we already have permissions\n      const result = await navigator.mediaDevices.getUserMedia({\n        video: { facingMode: 'environment' }\n      });\n      \n      // If we get here, permission was granted\n      result.getTracks().forEach(track => track.stop()); // Clean up\n      return true;\n    } catch (err) {\n      console.error('Permission check failed:', err);\n      return false;\n    }\n  };\n\n  const startCamera = async () => {\n    setPermissionDenied(false);\n    \n    try {\n      const hasPermission = await checkPermissions();\n      if (!hasPermission) {\n        setPermissionDenied(true);\n        return;\n      }\n\n      const constraints = {\n        video: {\n          facingMode: { ideal: 'environment' },\n          width: { ideal: 1920 },\n          height: { ideal: 1080 }\n        }\n      };\n\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      \n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        // For iOS Safari, we need to call play() on user interaction\n        videoRef.current.play().catch(err => {\n          console.error('Playback failed:', err);\n        });\n      }\n      setIsCapturing(true);\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      setPermissionDenied(true);\n      alert('Unable to access camera. Please ensure you have granted camera permissions in your browser settings.');\n    }\n  };\n\n  const stopCamera = () => {\n    if (videoRef.current?.srcObject) {\n      const tracks = (videoRef.current.srcObject as MediaStream).getTracks();\n      tracks.forEach(track => track.stop());\n      videoRef.current.srcObject = null;\n    }\n    setIsCapturing(false);\n  };\n\n  const captureAndDetect = async () => {\n    if (!videoRef.current || !canvasRef.current) return;\n\n    setProcessing(true);\n    try {\n      const video = videoRef.current;\n      const canvas = canvasRef.current;\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      const ctx = canvas.getContext('2d');\n      if (!ctx) throw new Error('Could not get canvas context');\n\n      // Capture frame\n      ctx.drawImage(video, 0, 0);\n\n      // For testing purposes, simulate detection\n      // Remove this and uncomment the Google Vision code for production\n      setTimeout(() => {\n        const mockIngredients = ['tomato', 'onion', 'garlic'];\n        onIngredientsDetected(mockIngredients);\n        setProcessing(false);\n        stopCamera();\n      }, 2000);\n\n      /* Uncomment for actual Google Vision API usage\n      const blob = await new Promise<Blob>((resolve) => {\n        canvas.toBlob((b) => resolve(b!), 'image/jpeg', 0.8);\n      });\n\n      const detectedIngredients = await analyzeImageWithGoogleVision(blob);\n      onIngredientsDetected(detectedIngredients);\n      */\n      \n    } catch (err) {\n      console.error('Error during capture:', err);\n      alert('Error capturing image. Please try again.');\n    } finally {\n      setProcessing(false);\n      stopCamera();\n    }\n  };\n\n  const handlePermissionError = () => {\n    if (permissionDenied) {\n      const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\n      return (\n        <div className=\"mt-4 p-4 rounded-lg bg-red-50 border border-red-200\">\n          <p className=\"text-red-700 font-medium mb-2\">Camera access was denied</p>\n          {isIOS ? (\n            <ol className=\"text-sm text-red-600 list-decimal pl-4 space-y-1\">\n              <li>Open iPhone Settings</li>\n              <li>Scroll down and tap Safari</li>\n              <li>Scroll to \"Settings for Websites\"</li>\n              <li>Tap Camera</li>\n              <li>Find this website and select \"Allow\"</li>\n              <li>Return to this page and refresh</li>\n            </ol>\n          ) : (\n            <p className=\"text-sm text-red-600\">\n              Please enable camera access in your browser settings and reload the page\n            </p>\n          )}\n          <button\n            onClick={() => window.location.reload()}\n            className=\"mt-3 px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors\"\n          >\n            Refresh Page\n          </button>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"w-full\">\n      <canvas ref={canvasRef} style={{ display: 'none' }} />\n      \n      {isCapturing ? (\n        <div className=\"relative\">\n          <div className=\"aspect-video bg-gray-800 rounded-lg overflow-hidden\">\n            <video \n              ref={videoRef}\n              autoPlay \n              playsInline\n              muted // Required for iOS\n              className=\"w-full h-full object-cover\"\n            />\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <div className=\"w-24 h-24 rounded-full border-4 border-white opacity-50\"></div>\n            </div>\n          </div>\n          <div className=\"absolute bottom-4 left-0 right-0 flex justify-center space-x-4\">\n            <button\n              onClick={stopCamera}\n              className=\"p-3 rounded-full bg-red-500 text-white hover:bg-red-600\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={captureAndDetect}\n              disabled={processing}\n              className=\"p-3 rounded-full text-white hover:opacity-90\"\n              style={{\n                backgroundColor: processing ? '#B7B7A4' : '#6B705C'\n              }}\n            >\n              {processing ? 'Detecting...' : 'Capture'}\n            </button>\n          </div>\n        </div>\n      ) : (\n        <>\n          <button\n            onClick={startCamera}\n            className=\"flex items-center justify-center w-full p-3 rounded-lg space-x-2 transition-all hover:scale-105\"\n            style={{ backgroundColor: '#B7B7A4' }}\n          >\n            <Camera className=\"w-6 h-6\" />\n            <span>Scan Ingredients</span>\n          </button>\n          {handlePermissionError()}\n        </>\n      )}\n\n      {processing && (\n        <div className=\"mt-4 flex items-center justify-center space-x-2 p-4 rounded-lg\" \n             style={{ backgroundColor: '#FFE8D6' }}>\n          <div className=\"w-4 h-4 rounded-full bg-gray-600 animate-pulse\"></div>\n          <div className=\"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-100\"></div>\n          <div className=\"w-4 h-4 rounded-full bg-gray-600 animate-pulse delay-200\"></div>\n          <span className=\"ml-2 text-gray-800\">Processing image...</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CameraDetection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}