{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';// Add these interfaces for better type checking\n/*interface CrimeStats {\n  crimeRate: number;\n  safetyScore: number;\n  violentCrime: number;\n  score: number;\n  details: {\n    assaults: number;\n    robberies: number;\n    burglaries: number;\n    thefts: number;\n    vehicleThefts: number;\n  };\n}*/// Add CrimeDetails interface\n// Add CrimeData interface\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const STATE_HEAT_DATA={\"CT\":{stateName:\"CT\",average:81.1,finalScore:191.33},\"RI\":{stateName:\"RI\",average:77.8,finalScore:184.34},\"NY\":{stateName:\"NY\",average:74.2,finalScore:174.46},\"ME\":{stateName:\"ME\",average:72.4,finalScore:169.16},\"AK\":{stateName:\"AK\",average:69.7,finalScore:164.34},\"IL\":{stateName:\"IL\",average:67.1,finalScore:158.07},\"MA\":{stateName:\"MA\",average:66.8,finalScore:156.87},\"ND\":{stateName:\"ND\",average:66.6,finalScore:157.11},\"MN\":{stateName:\"MN\",average:64.3,finalScore:150.60},\"NJ\":{stateName:\"NJ\",average:62.4,finalScore:148.67},\"WI\":{stateName:\"WI\",average:61.7,finalScore:144.34},\"VA\":{stateName:\"VA\",average:60.5,finalScore:143.37},\"NH\":{stateName:\"NH\",average:59.8,finalScore:140.48},\"MD\":{stateName:\"MD\",average:59.7,finalScore:141.93},\"PA\":{stateName:\"PA\",average:59.5,finalScore:140.48},\"OH\":{stateName:\"OH\",average:59.4,finalScore:138.31},\"MI\":{stateName:\"MI\",average:59.4,finalScore:137.83},\"CA\":{stateName:\"CA\",average:57.9,finalScore:136.14},\"VT\":{stateName:\"VT\",average:56.7,finalScore:133.01},\"NM\":{stateName:\"NM\",average:56.1,finalScore:133.73},\"WV\":{stateName:\"WV\",average:55.7,finalScore:131.57},\"SD\":{stateName:\"SD\",average:54.3,finalScore:128.19},\"DE\":{stateName:\"DE\",average:54.0,finalScore:128.43},\"KS\":{stateName:\"KS\",average:52.0,finalScore:121.93},\"UT\":{stateName:\"UT\",average:51.7,finalScore:122.65},\"NV\":{stateName:\"NV\",average:51.3,finalScore:121.45},\"MO\":{stateName:\"MO\",average:50.7,finalScore:119.52},\"WY\":{stateName:\"WY\",average:49.6,finalScore:114.70},\"WA\":{stateName:\"WA\",average:48.9,finalScore:114.46},\"IA\":{stateName:\"IA\",average:48.3,finalScore:112.53},\"CO\":{stateName:\"CO\",average:47.0,finalScore:110.12},\"IN\":{stateName:\"IN\",average:46.3,finalScore:107.71},\"NE\":{stateName:\"NE\",average:45.8,finalScore:106.02},\"AZ\":{stateName:\"AZ\",average:45.7,finalScore:109.16},\"ID\":{stateName:\"ID\",average:44.9,finalScore:104.82},\"OR\":{stateName:\"OR\",average:44.5,finalScore:104.34},\"LA\":{stateName:\"LA\",average:43.7,finalScore:104.10},\"GA\":{stateName:\"GA\",average:43.7,finalScore:102.65},\"MS\":{stateName:\"MS\",average:43.6,finalScore:104.10},\"AR\":{stateName:\"AR\",average:43.1,finalScore:102.89},\"AL\":{stateName:\"AL\",average:42.3,finalScore:99.76},\"OK\":{stateName:\"OK\",average:42.0,finalScore:99.76},\"NC\":{stateName:\"NC\",average:42.0,finalScore:98.07},\"TX\":{stateName:\"TX\",average:39.9,finalScore:94.46},\"MT\":{stateName:\"MT\",average:39.7,finalScore:92.29},\"HI\":{stateName:\"HI\",average:38.6,finalScore:90.60},\"KY\":{stateName:\"KY\",average:37.5,finalScore:87.95},\"TN\":{stateName:\"TN\",average:35.9,finalScore:84.58},\"SC\":{stateName:\"SC\",average:35.4,finalScore:84.10},\"FL\":{stateName:\"FL\",average:32.8,finalScore:78.31}};const FBI_API_KEY='KGCHD5QLxYmLrqKeuZrqnvBzx58e0ZhyRqW1jXYP';const fetchCrimeData=async(location,FBI_API_KEY)=>{try{// Get ORI (agency identifier) based on location\nconst oriResponse=await fetch(`https://api.usa.gov/crime/fbi/cde/agencies/geocoded/${location.lat}/${location.lng}?API_KEY=${FBI_API_KEY}`);const oriData=await oriResponse.json();const ori=oriData.results[0].ori;// Get crime data for the agency\nconst crimeResponse=await fetch(`https://api.usa.gov/crime/fbi/cde/arrest/agencies/${ori}/all/2019/2023?API_KEY=${FBI_API_KEY}`);const crimeData=await fetchCrimeData(location,FBI_API_KEY);// Calculate crime metrics\nconst population=crimeData.results[0].population;const violentCrime=crimeData.results[0].violent_crime||0;const propertyCrime=crimeData.results[0].property_crime||0;const crimeRate=(violentCrime+propertyCrime)/population*100000;const safetyScore=Math.max(0,100-crimeRate/50);// Calculate score out of 200\nconst score=Math.round(safetyScore/100*200);return{crimeRate:Math.round(crimeRate),safetyScore:Math.round(safetyScore),violentCrime,score,details:{assaults:crimeData.results[0].aggravated_assault||0,robberies:crimeData.results[0].robbery||0,burglaries:crimeData.results[0].burglary||0,thefts:crimeData.results[0].larceny||0,vehicleThefts:crimeData.results[0].motor_vehicle_theft||0}};}catch(error){console.error('Error fetching crime data:',error);return{crimeRate:0,safetyScore:0,violentCrime:0,score:0,details:{assaults:0,robberies:0,burglaries:0,thefts:0,vehicleThefts:0}};}};const getStateFromAddress=address=>{// Try to match state in various formats\nconst patterns=[/,\\s*([A-Z]{2})\\s*\\d{5}/,// Matches \", TX 75019\"\n/,\\s*([A-Z]{2})\\s*,/,// Matches \", TX,\"\n/,\\s*([A-Z]{2})\\s*$/,// Matches \", TX\" at end\n/\\b([A-Z]{2})\\s*\\d{5}/// Matches \"TX 75019\"\n];for(const pattern of patterns){const match=address.match(pattern);if(match&&match[1]){return match[1];}}// Additional check for common state names\nconst stateNames=Object.keys(STATE_HEAT_DATA);for(const state of stateNames){if(address.toUpperCase().includes(state)){return state;}}console.warn('No state found in address:',address);return'';};// Add these helper functions\nconst handleMapError=error=>{console.error('Map error:',error);let errorMessage='An error occurred with the map.';switch(error.code){case'ZERO_RESULTS':errorMessage='No results found for this location.';break;case'OVER_QUERY_LIMIT':errorMessage='Too many requests. Please try again later.';break;case'REQUEST_DENIED':errorMessage='Map request was denied. Please check your API key.';break;case'INVALID_REQUEST':errorMessage='Invalid map request.';break;default:if(error.message){errorMessage=error.message;}}return errorMessage;};const retryMapOperation=async function(operation){let maxRetries=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;let delay=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1000;for(let i=0;i<maxRetries;i++){try{return await operation();}catch(error){if(i===maxRetries-1)throw error;await new Promise(resolve=>setTimeout(resolve,delay*(i+1)));}}};// Define specific place types we care about\nconst IMPORTANT_PLACES={// Shopping\n'grocery_or_supermarket':5,// Kroger, Walmart, etc.\n'supermarket':5,// Additional tag for supermarkets\n'shopping_mall':5,// Major shopping centers\n'convenience_store':2,// Lower weight for convenience stores\n// Restaurants\n'restaurant':3,// Regular restaurants\n'cafe':2,// Cafes\n'meal_takeaway':2,// Take-out places\n//schools\n// Schools\n'primary_school':8,// Elementary schools\n'secondary_school':8,// Middle/High schools\n'school':8,// General schools\n// Parks\n'park':1,// Public parks\n'playground':2,// Playgrounds\n// Transport\n'transit_station':5,// Major transit stations\n'bus_station':3,// Bus stops\n'train_station':5// Train stations\n};// Type definitions\n// Update your results interface\n// Component props interfaces\n// Custom components with TypeScript support\nconst Card=_ref=>{let{children,className=''}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:`bg-white rounded-lg shadow p-4 ${className}`,children:children});};const Input=props=>/*#__PURE__*/_jsx(\"input\",{...props,className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"});const getMarketDescription=(stateCode,marketType)=>{switch(marketType){case'Buyer':return`Favorable buyer's market in ${stateCode}. High negotiation power for Buyers.`;case'Seller':return`Strong seller's market in ${stateCode}. Property values trending higher than average.`;default:return`Balanced market conditions in ${stateCode}. Normal negotiation power for both parties.`;}};const Button=_ref2=>{let{onClick,children,disabled,className=''}=_ref2;return/*#__PURE__*/_jsx(\"button\",{onClick:onClick,className:`px-4 py-2 rounded-lg text-white font-medium ${disabled?'bg-gray-400 cursor-not-allowed':'bg-blue-500 hover:bg-blue-600 active:bg-blue-700'} ${className}`,disabled:disabled,children:children});};const Select=props=>/*#__PURE__*/_jsx(\"select\",{...props,className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"});const Slider=_ref3=>{let{value,onChange,min,max,step,label}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:label}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[value,\"m\"]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:min,max:max,step:step,value:value,onChange:onChange,className:\"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer\"})]});};const MapControls=_ref4=>{let{searchRadius,onRadiusChange,onTogglePOIMarkers,showPOIMarkers,mapType,onMapTypeChange,onResetView}=_ref4;return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Map Controls\"}),/*#__PURE__*/_jsx(Slider,{value:searchRadius,onChange:e=>onRadiusChange(Number(e.target.value)),min:1000,max:5000,step:100,label:\"Search Radius\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Map Type:\"}),/*#__PURE__*/_jsxs(Select,{value:mapType,onChange:e=>onMapTypeChange(e.target.value),className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"roadmap\",children:\"Roadmap\"}),/*#__PURE__*/_jsx(\"option\",{value:\"satellite\",children:\"Satellite\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hybrid\",children:\"Hybrid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"terrain\",children:\"Terrain\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showPOIMarkers,onChange:e=>onTogglePOIMarkers(e.target.checked),className:\"rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Show POI Markers\"})]}),/*#__PURE__*/_jsx(Button,{onClick:onResetView,className:\"px-3 py-1 text-sm\",children:\"Reset View\"})]})]});};const CategoryIcon=_ref5=>{let{category}=_ref5;const icons={shopping:'🏪',restaurant:'🍽️',school:'🏫',park:'🌳',transport:'🚉'};return/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:icons[category]});};const PropertyAssessmentTool=()=>{const[searchInput,setSearchInput]=useState('');const[loading,setLoading]=useState(false);const[results,setResults]=useState(null);const[error,setError]=useState('');const[googleLoaded,setGoogleLoaded]=useState(false);const[map,setMap]=useState(null);const[marker,setMarker]=useState(null);const[searchCircle,setSearchCircle]=useState(null);const[poiMarkers,setPoiMarkers]=useState([]);const[showPOIMarkers,setShowPOIMarkers]=useState(true);const[mapType,setMapType]=useState('roadmap');// Change from google.maps.MapTypeId to string\nconst[searchRadius,setSearchRadius]=useState(1500);const mapRef=useRef(null);const GOOGLE_API_KEY='AIzaSyBf5WWjQksCtxIziKvs7kFq4qjPCf6SoZQ';const getSafetyColor=score=>{if(score>=80)return'#22c55e';// green-500\nif(score>=60)return'#84cc16';// lime-500\nif(score>=40)return'#eab308';// yellow-500\nif(score>=20)return'#f97316';// orange-500\nreturn'#ef4444';// red-500\n};const getCrimeRateLevel=rate=>{if(rate<2000)return'Very Low';if(rate<3000)return'Low';if(rate<4000)return'Moderate';if(rate<5000)return'High';return'Very High';};const getViolentCrimeLevel=count=>{if(count<50)return'Very Low';if(count<100)return'Low';if(count<200)return'Moderate';if(count<300)return'High';return'Very High';};const getViolentCrimeColor=count=>{if(count<50)return'text-green-600';if(count<100)return'text-lime-600';if(count<200)return'text-yellow-600';if(count<300)return'text-orange-600';return'text-red-600';};const getSafetyAnalysis=(safetyScore,crimeRate)=>{if(safetyScore>=80){return`This area demonstrates exceptional safety standards with a remarkably low crime rate of ${crimeRate} per 100,000 residents. The community benefits from effective law enforcement and strong neighborhood safety programs.`;}if(safetyScore>=60){return`The area maintains good safety levels with a moderate crime rate of ${crimeRate} per 100,000 residents. While generally safe, standard precautions are recommended.`;}if(safetyScore>=40){return`Safety in this area is moderate with a crime rate of ${crimeRate} per 100,000 residents. Additional security measures and awareness are recommended.`;}return`The area shows elevated crime levels with a rate of ${crimeRate} per 100,000 residents. Comprehensive security measures and increased caution are strongly advised.`;};const getPoliceResponse=safetyScore=>{if(safetyScore>=80)return'Excellent';if(safetyScore>=60)return'Good';if(safetyScore>=40)return'Average';return'Below Average';};const getCommunityRating=safetyScore=>{if(safetyScore>=80)return'Very Safe';if(safetyScore>=60)return'Safe';if(safetyScore>=40)return'Moderate';return'Caution Advised';};useEffect(()=>{const loadGoogleMaps=()=>{if(window.google){setGoogleLoaded(true);initMap();return;}const script=document.createElement('script');script.src=`https://maps.googleapis.com/maps/api/js?key=${GOOGLE_API_KEY}&libraries=places`;script.async=true;script.defer=true;script.onload=()=>{setGoogleLoaded(true);initMap();};document.head.appendChild(script);return()=>{// Only remove the script if it exists\nconst script=document.querySelector(`script[src*=\"maps.googleapis.com\"]`);if(script){document.head.removeChild(script);}};};loadGoogleMaps();},[]);useEffect(()=>{if(map&&window.google){map.setMapTypeId(mapType);}},[mapType,map]);// Update the MapControls props interface\nuseEffect(()=>{if(searchCircle){searchCircle.setRadius(searchRadius);}},[searchRadius,searchCircle]);useEffect(()=>{poiMarkers.forEach(marker=>{marker.setVisible(showPOIMarkers);});},[showPOIMarkers,poiMarkers]);// Continue with the rest of your component implementation...\n// I'll continue with the remaining functions in the next part.\nconst getStateRanking=stateCode=>{const states=Object.entries(STATE_HEAT_DATA).sort((_ref6,_ref7)=>{let[,a]=_ref6;let[,b]=_ref7;return b.average-a.average;}).map(_ref8=>{let[code]=_ref8;return code;});return states.indexOf(stateCode)+1;};const clearPOIMarkers=()=>{poiMarkers.forEach(marker=>marker.setMap(null));setPoiMarkers([]);};const getPriceTrend=average=>{// Calculate price trend based on market average\nif(average>=60)return 8.5;if(average<=40)return 2.5;return 5.5;};const getAverageDays=average=>{// Calculate average days on market based on market average\nif(average>=60)return 25;if(average<=40)return 75;return 45;};const getInventoryLevel=average=>{if(average>=60)return'Low';if(average<=40)return'High';return'Moderate';};const createPOIMarker=(place,category)=>{var _place$geometry;if(!map||!((_place$geometry=place.geometry)!==null&&_place$geometry!==void 0&&_place$geometry.location)){throw new Error('Invalid place data or map not initialized');}const marker=new google.maps.Marker({position:place.geometry.location,map:showPOIMarkers?map:null,title:place.name||'',icon:{url:`https://maps.google.com/mapfiles/ms/icons/${getPOIColor(category)}-dot.png`,scaledSize:new google.maps.Size(32,32)}});const infoWindow=new google.maps.InfoWindow({content:`\n          <div class=\"p-2\">\n            <strong>${place.name||''}</strong><br/>\n            Type: ${category}<br/>\n            ${place.vicinity||''}\n          </div>\n        `});marker.addListener('click',()=>{infoWindow.open(map,marker);});return marker;};const getPOIColor=category=>{const colors={shopping:'yellow',restaurant:'red',school:'blue',park:'green',transport:'purple'};return colors[category];};const initMap=()=>{if(!mapRef.current)return;const defaultLocation={lat:32.9612,lng:-96.9902};// Centered on Coppell, TX\nconst mapInstance=new window.google.maps.Map(mapRef.current,{zoom:12,center:defaultLocation,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:true,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},zoomControl:true,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},scaleControl:true,streetViewControl:true,fullscreenControl:true});mapInstance.addListener('click',e=>{if(e.latLng){const clickedLocation={lat:e.latLng.lat(),lng:e.latLng.lng()};updateMarkerAndCircle(clickedLocation);void analyzeLocation(clickedLocation);}});setMap(mapInstance);};const updateMarkerAndCircle=location=>{if(!map)return;// Update or create marker\nif(marker){marker.setPosition(location);}else{const newMarker=new google.maps.Marker({position:location,map:map,draggable:true});newMarker.addListener('dragend',()=>{var _newMarker$getPositio,_newMarker$getPositio2;const newLocation={lat:((_newMarker$getPositio=newMarker.getPosition())===null||_newMarker$getPositio===void 0?void 0:_newMarker$getPositio.lat())||0,lng:((_newMarker$getPositio2=newMarker.getPosition())===null||_newMarker$getPositio2===void 0?void 0:_newMarker$getPositio2.lng())||0};updateMarkerAndCircle(newLocation);void analyzeLocation(newLocation);});setMarker(newMarker);}// Update or create search radius circle\nif(searchCircle){searchCircle.setCenter(location);}else{const newCircle=new google.maps.Circle({map:map,center:location,radius:searchRadius,fillColor:'#4299e1',fillOpacity:0.15,strokeColor:'#4299e1',strokeWeight:2});setSearchCircle(newCircle);}map.panTo(location);map.setZoom(14);};const determineMarketType=average=>{if(average<=40)return'Buyer';if(average>=60)return'Seller';return'Balanced';};const getHeatMapColor=average=>{// Higher values are more blue (seller's market)\n// Lower values are more red (buyer's market)\nconst normalizedValue=(average-32.8)/(81.1-32.8);// Normalize based on min/max from data\nconst red=Math.round(255*(1-normalizedValue));const blue=Math.round(255*normalizedValue);return`rgb(${red}, ${Math.min(red,blue)/2}, ${blue})`;};const analyzeLocation=async location=>{const service=new google.maps.places.PlacesService(map);const geocoder=new google.maps.Geocoder();const geocodeResult=await new Promise((resolve,reject)=>{geocoder.geocode({location},(results,status)=>{if(status==='OK'&&results!==null&&results!==void 0&&results[0]){resolve(results[0]);}else{reject(new Error('Geocoding failed'));}});});//const stateCode = getStateFromAddress(geocodeResult.formatted_address);\n//const stateData = STATE_HEAT_DATA[stateCode];\nconst stateCode=getStateFromAddress(geocodeResult.formatted_address);let heatMapAnalysis;if(stateCode&&STATE_HEAT_DATA[stateCode]){const stateData=STATE_HEAT_DATA[stateCode];const marketType=determineMarketType(stateData.average);heatMapAnalysis={score:stateData.finalScore,details:{stateCode:stateCode,average:stateData.average,score:stateData.finalScore,marketType:marketType,trend:stateData.average<=40?'Falling':stateData.average>=60?'Rising':'Stable'}};}else{console.error('State not found in address:',geocodeResult.formatted_address);heatMapAnalysis={score:0,details:{stateCode:'N/A',average:0,score:0,marketType:'Balanced',trend:'Stable'}};}const analyzeSentiment=async(service,location,radius)=>{try{// Get nearby places with their reviews\nconst places=await new Promise((resolve,reject)=>{service.nearbySearch({location,radius,type:['establishment']},(results,status)=>{if(status==='OK'&&results)resolve(results);else if(status==='ZERO_RESULTS')resolve([]);else reject(new Error(`Places search failed: ${status}`));});});let totalRating=0;let totalReviews=0;let recentReviews=[];let priceSum=0;let priceCount=0;const keywords=new Map();// Analyze each place\nfor(const place of places){if(!place.place_id)continue;// Get detailed place information including reviews\nconst details=await new Promise((resolve,reject)=>{service.getDetails({placeId:place.place_id,fields:['rating','review','user_ratings_total','price_level']},(result,status)=>{if(status==='OK'&&result)resolve(result);else reject(new Error(`Place details failed: ${status}`));});});if(details.rating){totalRating+=details.rating;totalReviews+=details.user_ratings_total||0;}if(details.price_level!==undefined){priceSum+=details.price_level;priceCount++;}// Process reviews\nif(details.reviews){recentReviews.push(...details.reviews.map(review=>({rating:review.rating,text:review.text,time:review.time})));// Extract keywords from reviews\ndetails.reviews.forEach(review=>{const words=review.text.toLowerCase().split(/\\W+/).filter(word=>word.length>3).filter(word=>!['this','that','with','from','they','have'].includes(word));words.forEach(word=>{keywords.set(word,(keywords.get(word)||0)+1);});});}}// Calculate averages and scores\nconst averageRating=totalReviews>0?totalRating/places.length:0;const averagePrice=priceCount>0?priceSum/priceCount:0;// Analyze review sentiment\nconst sentimentCounts={positive:recentReviews.filter(r=>r.rating>=4).length,neutral:recentReviews.filter(r=>r.rating===3).length,negative:recentReviews.filter(r=>r.rating<=2).length};// Calculate recent trend\nconst recentTrend=calculateReviewTrend(recentReviews);// Get top keywords\nconst topKeywords=[...keywords.entries()].sort((a,b)=>b[1]-a[1]).slice(0,5).map(_ref9=>{let[word]=_ref9;return word;});// Calculate final sentiment score (out of 200)\nconst sentimentScore=calculateSentimentScore({averageRating,totalReviews,recentTrend,sentimentCounts,averagePrice});return{score:sentimentScore,reviews:sentimentCounts,details:{averageRating:averageRating.toFixed(1),totalReviews,communityEngagement:getCommunityEngagement(totalReviews),recentTrend,priceLevel:Math.round(averagePrice),topKeywords}};}catch(error){console.error('Sentiment analysis error:',error);return getDefaultSentimentAnalysis();}};const calculateReviewTrend=reviews=>{if(reviews.length<2)return'stable';const sortedReviews=[...reviews].sort((a,b)=>b.time-a.time);const recentReviews=sortedReviews.slice(0,Math.ceil(sortedReviews.length/2));const olderReviews=sortedReviews.slice(Math.ceil(sortedReviews.length/2));const recentAvg=recentReviews.reduce((sum,r)=>sum+r.rating,0)/recentReviews.length;const olderAvg=olderReviews.reduce((sum,r)=>sum+r.rating,0)/olderReviews.length;if(recentAvg>olderAvg+0.3)return'improving';if(recentAvg<olderAvg-0.3)return'declining';return'stable';};const calculateSentimentScore=_ref10=>{let{averageRating,totalReviews,recentTrend,sentimentCounts,averagePrice}=_ref10;let score=0;// Rating score (max 100)\nscore+=averageRating/5*100;// Review volume score (max 30)\nscore+=Math.min(30,totalReviews/10);// Trend bonus (max 20)\nif(recentTrend==='improving')score+=20;else if(recentTrend==='stable')score+=10;// Sentiment ratio score (max 30)\nconst totalSentiments=sentimentCounts.positive+sentimentCounts.neutral+sentimentCounts.negative;if(totalSentiments>0){const positiveRatio=sentimentCounts.positive/totalSentiments;score+=positiveRatio*30;}// Price level adjustment (max 20)\nconst priceScore=20-averagePrice*5;// Lower prices get higher scores\nscore+=Math.max(0,priceScore);return Math.round(Math.min(200,score));};const getCommunityEngagement=totalReviews=>{if(totalReviews>500)return'Very High';if(totalReviews>200)return'High';if(totalReviews>100)return'Medium';if(totalReviews>50)return'Low';return'Very Low';};const getDefaultSentimentAnalysis=()=>({score:0,reviews:{positive:0,neutral:0,negative:0},details:{averageRating:'0.0',totalReviews:0,communityEngagement:'Low',recentTrend:'stable',priceLevel:0,topKeywords:[]}});if(!map)return;setLoading(true);setError('');clearPOIMarkers();try{const[crimeAnalysis,geocodeResult]=await Promise.all([fetchCrimeData(location,FBI_API_KEY),new Promise((resolve,reject)=>{const geocoder=new google.maps.Geocoder();geocoder.geocode({location},(results,status)=>{if(status==='OK'&&results!==null&&results!==void 0&&results[0]){resolve(results[0]);}else{reject(new Error('Geocoding failed'));}});})]);// Get place details and address first\nconst poiCategories={shopping:0,restaurant:0,school:0,park:0,transport:0};const poiScores={shopping:0,restaurant:0,school:0,park:0,transport:0};const newMarkers=[];const processedPlaces=new Set();// Search for each important place type\nfor(const[placeType,weight]of Object.entries(IMPORTANT_PLACES)){try{const places=await new Promise((resolve,reject)=>{service.nearbySearch({location,radius:searchRadius,type:placeType},(results,status)=>{if(status==='OK'&&results)resolve(results);else if(status==='ZERO_RESULTS')resolve([]);else reject(new Error(`Places search failed: ${status}`));});});places.forEach(place=>{if(!place.place_id||processedPlaces.has(place.place_id))return;processedPlaces.add(place.place_id);let category=null;let score=weight;if(placeType.includes('supermarket')||placeType.includes('shopping')){var _place$name;category='shopping';if((_place$name=place.name)!==null&&_place$name!==void 0&&_place$name.match(/walmart|kroger|target|tom thumb|costco|sam's club|whole foods/i)){score*=2;}}else if(placeType.includes('restaurant')||placeType.includes('cafe')){category='restaurant';}else if(placeType.includes('school')){var _place$name2;category='school';if((_place$name2=place.name)!==null&&_place$name2!==void 0&&_place$name2.match(/elementary|middle|high school/i)){score*=1.5;}}else if(placeType.includes('park')||placeType.includes('playground')){var _place$name3;category='park';if((_place$name3=place.name)!==null&&_place$name3!==void 0&&_place$name3.match(/community|regional|municipal/i)){score*=1.5;}}else if(placeType.includes('station')){category='transport';}if(category){poiCategories[category]++;poiScores[category]+=score;newMarkers.push(createPOIMarker(place,category));}});await new Promise(resolve=>setTimeout(resolve,200));}catch(error){console.warn(`Error searching for ${placeType}:`,error);}}setPoiMarkers(newMarkers);const MAX_CATEGORY_SCORES={shopping:50,// Major focus on retail availability\nrestaurant:38,// Important but not critical\nschool:10,// High importance for families\npark:25,// Good for community value\ntransport:75// Helpful but not crucial\n};// Calculate final category scores\nconst finalScores={shopping:Math.min(200,poiScores.shopping/MAX_CATEGORY_SCORES.shopping*200),restaurant:Math.min(200,poiScores.restaurant/MAX_CATEGORY_SCORES.restaurant*200),school:Math.min(200,poiScores.school/MAX_CATEGORY_SCORES.school*200),park:Math.min(200,poiScores.park/MAX_CATEGORY_SCORES.park*200),transport:Math.min(200,poiScores.transport/MAX_CATEGORY_SCORES.transport*200)};// Calculate overall POI score\nconst poiScore=Math.round(Math.min(200,Object.values(finalScores).reduce((a,b)=>a+b,0)/5));// Mock sentiment data (replace with real data in production)\nconst min=100;const max=200;const sentimentScore=Math.floor(Math.random()*(max-min+1))+min;let mockRating=Math.random()*(5-2.9+1)+2;mockRating=Math.round(mockRating*10)/10;const totalRatings=Math.floor(Math.random()*(max-min+1))+min;;// Set final results\nsetResults({poi:{score:poiScore,details:poiCategories},sentiment:{score:sentimentScore,details:{averageRating:mockRating.toString(),totalReviews:totalRatings,communityEngagement:totalRatings>100?'High':totalRatings>50?'Medium':'Low'}},heatMap:heatMapAnalysis,// Add heat map data\ncrime:crimeAnalysis,propertyDetails:{address:geocodeResult.formatted_address,coordinates:location,nearbyPOIs:newMarkers.length,searchRadius:searchRadius}});}catch(error){console.error('Analysis error:',error);setError('Error analyzing location. Please try a different location or adjust the search radius.');}finally{setLoading(false);}};const handleSearchSubmit=async()=>{if(!searchInput.trim()){setError('Please enter an address or coordinates');return;}try{const geocoder=new google.maps.Geocoder();const result=await new Promise((resolve,reject)=>{geocoder.geocode({address:searchInput},(results,status)=>{if(status==='OK'&&results!==null&&results!==void 0&&results[0]){resolve(results[0]);}else{reject(new Error('Geocoding failed'));}});});const location={lat:result.geometry.location.lat(),lng:result.geometry.location.lng()};updateMarkerAndCircle(location);void analyzeLocation(location);}catch(error){setError('Could not find location. Please check the address.');console.error('Search error:',error);}};// ... continuing from previous parts\nconst calculateTotalScore=results=>{return results.poi.score+results.sentiment.score+results.heatMap.score+results.crime.score;;};const renderAssessmentSummary=score=>{if(score>=750){return/*#__PURE__*/_jsx(\"div\",{className:\"text-green-600\",children:\"Excellent location! High potential for development with strong community features.\"});}else if(score>=500){return/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-600\",children:\"Good location with balanced amenities and growth potential.\"});}else if(score>=250){return/*#__PURE__*/_jsx(\"div\",{className:\"text-yellow-600\",children:\"Moderate potential. Consider future development plans in the area.\"});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600\",children:\"Limited amenities. May require significant infrastructure development.\"});}};if(!googleLoaded){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-semibold\",children:\"Loading Google Maps...\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Select Location\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Enter address or coordinates (lat,lng)\",value:searchInput,onChange:e=>setSearchInput(e.target.value)}),/*#__PURE__*/_jsx(Button,{onClick:()=>void handleSearchSubmit(),disabled:loading,children:loading?'Analyzing...':'Search'})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-sm\",children:error})]})]}),/*#__PURE__*/_jsx(MapControls,{searchRadius:searchRadius,onRadiusChange:setSearchRadius,onTogglePOIMarkers:setShowPOIMarkers,showPOIMarkers:showPOIMarkers,mapType:mapType,onMapTypeChange:setMapType,onResetView:()=>{if(marker&&map){const position=marker.getPosition();if(position){map.setCenter(position);map.setZoom(14);}}}}),/*#__PURE__*/_jsx(\"div\",{ref:mapRef,className:\"w-full h-[600px] rounded-lg shadow-lg border border-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium mb-2\",children:\"Map Legend:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2\",children:Object.entries({shopping:'yellow',restaurant:'red',school:'blue',park:'green',transport:'purple'}).map(_ref11=>{let[category,color]=_ref11;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-4 h-4 rounded-full\",style:{backgroundColor:color}}),/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:category})]},category);})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:results&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Location Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Address:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-right\",children:results.propertyDetails.address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Coordinates:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[results.propertyDetails.coordinates.lat.toFixed(6),\",\",results.propertyDetails.coordinates.lng.toFixed(6)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Search Radius:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[results.propertyDetails.searchRadius,\"m\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Total POIs Found:\"}),/*#__PURE__*/_jsx(\"span\",{children:results.propertyDetails.nearbyPOIs})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Points of Interest\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold\",children:[results.poi.score,\"/200\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:Object.entries(results.poi.details).map(_ref12=>{let[category,count]=_ref12;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(CategoryIcon,{category:category}),/*#__PURE__*/_jsxs(\"span\",{className:\"capitalize\",children:[category,\": \",count]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[Math.round(count*(category==='school'?20:category==='park'?12:10)),\"-Data-Points\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-3 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:`h-full rounded-full ${category==='shopping'?'bg-yellow-500':category==='restaurant'?'bg-red-500':category==='school'?'bg-blue-500':category==='park'?'bg-green-500':'bg-purple-500'}`,style:{width:`${Math.min(100,count*20)}%`}})})]},category);})})]}),results.heatMap&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Market Heat Map\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold\",children:[results.heatMap.score.toFixed(2),\"/200\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"State Market Index\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",style:{color:getHeatMapColor(results.heatMap.details.average)},children:[results.heatMap.details.stateCode,\" - \",results.heatMap.details.average.toFixed(1)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-6 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full rounded-full transition-all duration-300\",style:{width:`${(results.heatMap.details.average-32.8)/(81.1-32.8)*100}%`,backgroundColor:getHeatMapColor(results.heatMap.details.average)}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Buyer's Market (<40)\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Balanced (40-60)\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Seller's Market (>60)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Market Type\"}),/*#__PURE__*/_jsxs(\"span\",{className:`px-3 py-1 rounded-full text-sm font-medium ${results.heatMap.details.marketType==='Seller'?'bg-blue-100 text-blue-800':results.heatMap.details.marketType==='Buyer'?'bg-red-100 text-red-800':'bg-yellow-100 text-yellow-800'}`,children:[results.heatMap.details.marketType,\" Market\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Demand Level\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-3 h-3 rounded-full ${results.heatMap.details.average>=60?'bg-blue-500':results.heatMap.details.average<=40?'bg-red-500':'bg-yellow-500'}`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:results.heatMap.details.average>=60?'High Demand':results.heatMap.details.average<=40?'Low Demand':'Moderate Demand'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:\"State Ranking\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-5xl font-bold\",children:[\"#\",getStateRanking(results.heatMap.details.stateCode),\"/50\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Among all US states\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:\"Price Trend\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-green-600\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-6xl font-bold\",children:[getPriceTrend(results.heatMap.details.average),\"%\"]}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 10l7-7m0 0l7 7m-7-7v18\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Annual appreciation\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:\"Market Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:results.heatMap.details.marketType==='Seller'?`Strong seller's market in ${results.heatMap.details.stateCode}. Property values are trending significantly higher than average, with sellers having strong negotiating power. Current market conditions favor quick sales and competitive pricing.`:results.heatMap.details.marketType==='Buyer'?`Favorable buyer's market in ${results.heatMap.details.stateCode}. Current conditions present good opportunities for property investment, with buyers having increased negotiating power. Properties may stay on market longer, allowing for more thorough evaluation.`:`Balanced market conditions in ${results.heatMap.details.stateCode}. Market shows healthy equilibrium between buyers and sellers, with stable pricing and reasonable negotiation opportunities for both parties.`}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Avg. Days on Market: \"}),getAverageDays(results.heatMap.details.average),\" days\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Inventory Level: \"}),getInventoryLevel(results.heatMap.details.average)]})]})]})]})]}),results&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Crime Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold\",children:[results.crime.score,\"/200\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Safety Score\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",style:{color:getSafetyColor(results.crime.safetyScore)},children:[results.crime.safetyScore,\"/100\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-2 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full rounded-full transition-all duration-300\",style:{width:`${results.crime.safetyScore}%`,backgroundColor:getSafetyColor(results.crime.safetyScore)}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Crime Rate\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold\",children:[results.crime.crimeRate.toLocaleString(),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-normal text-gray-500 ml-1\",children:\"per 100k\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:getCrimeRateLevel(results.crime.crimeRate)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Violent Crime\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold\",children:[results.crime.violentCrime.toLocaleString(),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-normal text-gray-500 ml-1\",children:\"incidents\"})]}),/*#__PURE__*/_jsx(\"div\",{className:`text-sm ${getViolentCrimeColor(results.crime.violentCrime)}`,children:getViolentCrimeLevel(results.crime.violentCrime)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:\"Crime Breakdown\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:Object.entries(results.crime.details).map(_ref13=>{let[type,count]=_ref13;return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:type.replace(/([A-Z])/g,' $1').trim()}),/*#__PURE__*/_jsxs(\"span\",{children:[count.toLocaleString(),\" incidents\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-blue-500 rounded-full\",style:{width:`${count/Math.max(...Object.values(results.crime.details))*100}%`}})})]})},type);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:\"Safety Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:getSafetyAnalysis(results.crime.safetyScore,results.crime.crimeRate)}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Police Response: \"}),getPoliceResponse(results.crime.safetyScore)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Community Rating: \"}),getCommunityRating(results.crime.safetyScore)]})]})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Area Sentiment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold\",children:[results.sentiment.score,\"/200\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Rating\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[results.sentiment.details.averageRating,\" / 5.0\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-3 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-yellow-400 rounded-full\",style:{width:`${parseFloat(results.sentiment.details.averageRating)/5*100}%`}})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-2 rounded text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-600\",children:\"Positive\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:Math.floor(Math.random()*(30-20+1))+20})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-2 rounded text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-yellow-600\",children:\"Neutral\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:Math.floor(Math.random()*(15-4+1))+12})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 p-2 rounded text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-red-600\",children:\"Negative\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:Math.floor(Math.random()*(10-6+1))+4})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Reviews:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:results.sentiment.details.totalReviews})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Community Engagement:\"}),/*#__PURE__*/_jsx(\"div\",{className:`px-2 py-1 rounded-full text-sm ${results.sentiment.details.communityEngagement==='High'?'bg-green-100 text-green-600':results.sentiment.details.communityEngagement==='Medium'?'bg-yellow-100 text-yellow-600':'bg-red-100 text-red-600'}`,children:results.sentiment.details.communityEngagement})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Trend:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-green-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Improving\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-3 rounded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-blue-800 mb-2\",children:\"Area Highlights\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\",children:\"Family Friendly\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\",children:\"Quiet\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\",children:\"Safe\"})]})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Overall Assessment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-4xl font-bold text-center\",children:[calculateTotalScore(results),\"/1000\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-4 bg-gray-200 rounded-full overflow-hidden mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-blue-500 rounded-full transition-all duration-500\",style:{width:`${calculateTotalScore(results)/1000*100}%`}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-1 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"250\"}),/*#__PURE__*/_jsx(\"span\",{children:\"500\"}),/*#__PURE__*/_jsx(\"span\",{children:\"750\"}),/*#__PURE__*/_jsx(\"span\",{children:\"1000\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2\",children:\"Assessment Summary:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 text-sm\",children:renderAssessmentSummary(calculateTotalScore(results))})]})]})]})})]})});};export default PropertyAssessmentTool;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","STATE_HEAT_DATA","stateName","average","finalScore","FBI_API_KEY","fetchCrimeData","location","oriResponse","fetch","lat","lng","oriData","json","ori","results","crimeResponse","crimeData","population","violentCrime","violent_crime","propertyCrime","property_crime","crimeRate","safetyScore","Math","max","score","round","details","assaults","aggravated_assault","robberies","robbery","burglaries","burglary","thefts","larceny","vehicleThefts","motor_vehicle_theft","error","console","getStateFromAddress","address","patterns","pattern","match","stateNames","Object","keys","state","toUpperCase","includes","warn","handleMapError","errorMessage","code","message","retryMapOperation","operation","maxRetries","arguments","length","undefined","delay","i","Promise","resolve","setTimeout","IMPORTANT_PLACES","Card","_ref","children","className","Input","props","getMarketDescription","stateCode","marketType","Button","_ref2","onClick","disabled","Select","Slider","_ref3","value","onChange","min","step","label","type","MapControls","_ref4","searchRadius","onRadiusChange","onTogglePOIMarkers","showPOIMarkers","mapType","onMapTypeChange","onResetView","e","Number","target","checked","CategoryIcon","_ref5","category","icons","shopping","restaurant","school","park","transport","PropertyAssessmentTool","searchInput","setSearchInput","loading","setLoading","setResults","setError","googleLoaded","setGoogleLoaded","map","setMap","marker","setMarker","searchCircle","setSearchCircle","poiMarkers","setPoiMarkers","setShowPOIMarkers","setMapType","setSearchRadius","mapRef","GOOGLE_API_KEY","getSafetyColor","getCrimeRateLevel","rate","getViolentCrimeLevel","count","getViolentCrimeColor","getSafetyAnalysis","getPoliceResponse","getCommunityRating","loadGoogleMaps","window","google","initMap","script","document","createElement","src","async","defer","onload","head","appendChild","querySelector","removeChild","setMapTypeId","setRadius","forEach","setVisible","getStateRanking","states","entries","sort","_ref6","_ref7","a","b","_ref8","indexOf","clearPOIMarkers","getPriceTrend","getAverageDays","getInventoryLevel","createPOIMarker","place","_place$geometry","geometry","Error","maps","Marker","position","title","name","icon","url","getPOIColor","scaledSize","Size","infoWindow","InfoWindow","content","vicinity","addListener","open","colors","current","defaultLocation","mapInstance","Map","zoom","center","mapTypeId","MapTypeId","ROADMAP","mapTypeControl","mapTypeControlOptions","style","MapTypeControlStyle","DROPDOWN_MENU","zoomControl","zoomControlOptions","ControlPosition","RIGHT_TOP","scaleControl","streetViewControl","fullscreenControl","latLng","clickedLocation","updateMarkerAndCircle","analyzeLocation","setPosition","newMarker","draggable","_newMarker$getPositio","_newMarker$getPositio2","newLocation","getPosition","setCenter","newCircle","Circle","radius","fillColor","fillOpacity","strokeColor","strokeWeight","panTo","setZoom","determineMarketType","getHeatMapColor","normalizedValue","red","blue","service","places","PlacesService","geocoder","Geocoder","geocodeResult","reject","geocode","status","formatted_address","heatMapAnalysis","stateData","trend","analyzeSentiment","nearbySearch","totalRating","totalReviews","recentReviews","priceSum","priceCount","keywords","place_id","getDetails","placeId","fields","result","rating","user_ratings_total","price_level","reviews","push","review","text","time","words","toLowerCase","split","filter","word","set","get","averageRating","averagePrice","sentimentCounts","positive","r","neutral","negative","recentTrend","calculateReviewTrend","topKeywords","slice","_ref9","sentimentScore","calculateSentimentScore","toFixed","communityEngagement","getCommunityEngagement","priceLevel","getDefaultSentimentAnalysis","sortedReviews","ceil","olderReviews","recentAvg","reduce","sum","olderAvg","_ref10","totalSentiments","positiveRatio","priceScore","crimeAnalysis","all","poiCategories","poiScores","newMarkers","processedPlaces","Set","placeType","weight","has","add","_place$name","_place$name2","_place$name3","MAX_CATEGORY_SCORES","finalScores","poiScore","values","floor","random","mockRating","totalRatings","poi","sentiment","toString","heatMap","crime","propertyDetails","coordinates","nearbyPOIs","handleSearchSubmit","trim","calculateTotalScore","renderAssessmentSummary","placeholder","ref","_ref11","color","backgroundColor","_ref12","width","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","toLocaleString","_ref13","replace","parseFloat"],"sources":["/Users/sanjith/Documents/GitHub/ranneL/src/GenerateRecipesPage.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n// Add these interfaces for better type checking\ninterface POIWeights {\n  readonly [key: string]: number;\n}\n\ninterface POIMaxScores {\n  readonly [key: string]: number;\n}\n\ninterface StateHeatData {\n  stateName: string;\n  average: number;\n  finalScore: number;\n}\n\ninterface HeatMapDetails {\n  stateCode: string;\n  average: number;\n  score: number;\n  marketType: 'Buyer' | 'Balanced' | 'Seller';\n  trend: 'Rising' | 'Stable' | 'Falling';\n}\n\ninterface HeatMapAnalysis {\n  score: number;\n  details: HeatMapDetails;\n}\n\n\n\ninterface MapError extends Error {\n  code?: string;\n}\ninterface CrimeApiResponse {\n  results: Array<{\n    population: number;\n    violent_crime: number;\n    property_crime: number;\n    aggravated_assault: number;\n    robbery: number;\n    burglary: number;\n    larceny: number;\n    motor_vehicle_theft: number;\n  }>;\n}\n\ninterface CrimeStats {\n  crimeRate: number;\n  safetyScore: number;\n  violentCrime: number;\n  score: number;\n  details: CrimeDetails;\n}\n/*interface CrimeStats {\n  crimeRate: number;\n  safetyScore: number;\n  violentCrime: number;\n  score: number;\n  details: {\n    assaults: number;\n    robberies: number;\n    burglaries: number;\n    thefts: number;\n    vehicleThefts: number;\n  };\n}*/\n\n// Add CrimeDetails interface\ninterface CrimeDetails {\n  assaults: number;\n  robberies: number;\n  burglaries: number;\n  thefts: number;\n  vehicleThefts: number;\n}\n\n// Add CrimeData interface\ninterface CrimeData {\n  score: number;\n  crimeRate: number;\n  safetyScore: number;\n  violentCrime: number;\n  details: CrimeDetails;\n}\n\nconst STATE_HEAT_DATA: Record<string, StateHeatData> = {\n  \"CT\": { stateName: \"CT\", average: 81.1, finalScore: 191.33 },\n  \"RI\": { stateName: \"RI\", average: 77.8, finalScore: 184.34 },\n  \"NY\": { stateName: \"NY\", average: 74.2, finalScore: 174.46 },\n  \"ME\": { stateName: \"ME\", average: 72.4, finalScore: 169.16 },\n  \"AK\": { stateName: \"AK\", average: 69.7, finalScore: 164.34 },\n  \"IL\": { stateName: \"IL\", average: 67.1, finalScore: 158.07 },\n  \"MA\": { stateName: \"MA\", average: 66.8, finalScore: 156.87 },\n  \"ND\": { stateName: \"ND\", average: 66.6, finalScore: 157.11 },\n  \"MN\": { stateName: \"MN\", average: 64.3, finalScore: 150.60 },\n  \"NJ\": { stateName: \"NJ\", average: 62.4, finalScore: 148.67 },\n  \"WI\": { stateName: \"WI\", average: 61.7, finalScore: 144.34 },\n  \"VA\": { stateName: \"VA\", average: 60.5, finalScore: 143.37 },\n  \"NH\": { stateName: \"NH\", average: 59.8, finalScore: 140.48 },\n  \"MD\": { stateName: \"MD\", average: 59.7, finalScore: 141.93 },\n  \"PA\": { stateName: \"PA\", average: 59.5, finalScore: 140.48 },\n  \"OH\": { stateName: \"OH\", average: 59.4, finalScore: 138.31 },\n  \"MI\": { stateName: \"MI\", average: 59.4, finalScore: 137.83 },\n  \"CA\": { stateName: \"CA\", average: 57.9, finalScore: 136.14 },\n  \"VT\": { stateName: \"VT\", average: 56.7, finalScore: 133.01 },\n  \"NM\": { stateName: \"NM\", average: 56.1, finalScore: 133.73 },\n  \"WV\": { stateName: \"WV\", average: 55.7, finalScore: 131.57 },\n  \"SD\": { stateName: \"SD\", average: 54.3, finalScore: 128.19 },\n  \"DE\": { stateName: \"DE\", average: 54.0, finalScore: 128.43 },\n  \"KS\": { stateName: \"KS\", average: 52.0, finalScore: 121.93 },\n  \"UT\": { stateName: \"UT\", average: 51.7, finalScore: 122.65 },\n  \"NV\": { stateName: \"NV\", average: 51.3, finalScore: 121.45 },\n  \"MO\": { stateName: \"MO\", average: 50.7, finalScore: 119.52 },\n  \"WY\": { stateName: \"WY\", average: 49.6, finalScore: 114.70 },\n  \"WA\": { stateName: \"WA\", average: 48.9, finalScore: 114.46 },\n  \"IA\": { stateName: \"IA\", average: 48.3, finalScore: 112.53 },\n  \"CO\": { stateName: \"CO\", average: 47.0, finalScore: 110.12 },\n  \"IN\": { stateName: \"IN\", average: 46.3, finalScore: 107.71 },\n  \"NE\": { stateName: \"NE\", average: 45.8, finalScore: 106.02 },\n  \"AZ\": { stateName: \"AZ\", average: 45.7, finalScore: 109.16 },\n  \"ID\": { stateName: \"ID\", average: 44.9, finalScore: 104.82 },\n  \"OR\": { stateName: \"OR\", average: 44.5, finalScore: 104.34 },\n  \"LA\": { stateName: \"LA\", average: 43.7, finalScore: 104.10 },\n  \"GA\": { stateName: \"GA\", average: 43.7, finalScore: 102.65 },\n  \"MS\": { stateName: \"MS\", average: 43.6, finalScore: 104.10 },\n  \"AR\": { stateName: \"AR\", average: 43.1, finalScore: 102.89 },\n  \"AL\": { stateName: \"AL\", average: 42.3, finalScore: 99.76 },\n  \"OK\": { stateName: \"OK\", average: 42.0, finalScore: 99.76 },\n  \"NC\": { stateName: \"NC\", average: 42.0, finalScore: 98.07 },\n  \"TX\": { stateName: \"TX\", average: 39.9, finalScore: 94.46 },\n  \"MT\": { stateName: \"MT\", average: 39.7, finalScore: 92.29 },\n  \"HI\": { stateName: \"HI\", average: 38.6, finalScore: 90.60 },\n  \"KY\": { stateName: \"KY\", average: 37.5, finalScore: 87.95 },\n  \"TN\": { stateName: \"TN\", average: 35.9, finalScore: 84.58 },\n  \"SC\": { stateName: \"SC\", average: 35.4, finalScore: 84.10 },\n  \"FL\": { stateName: \"FL\", average: 32.8, finalScore: 78.31 }\n};\nconst FBI_API_KEY = 'KGCHD5QLxYmLrqKeuZrqnvBzx58e0ZhyRqW1jXYP';\nconst fetchCrimeData = async (location: { lat: number; lng: number }, FBI_API_KEY: string): Promise<CrimeStats> => {\n  try {\n    // Get ORI (agency identifier) based on location\n    const oriResponse = await fetch(\n      `https://api.usa.gov/crime/fbi/cde/agencies/geocoded/${location.lat}/${location.lng}?API_KEY=${FBI_API_KEY}`\n    );\n    const oriData = await oriResponse.json();\n    const ori = oriData.results[0].ori;\n\n    // Get crime data for the agency\n    const crimeResponse = await fetch(\n      `https://api.usa.gov/crime/fbi/cde/arrest/agencies/${ori}/all/2019/2023?API_KEY=${FBI_API_KEY}`\n    );\n    const crimeData = await fetchCrimeData(location, FBI_API_KEY);\n\n\n    // Calculate crime metrics\n    const population = crimeData.results[0].population;\n    const violentCrime = crimeData.results[0].violent_crime || 0;\n    const propertyCrime = crimeData.results[0].property_crime || 0;\n\n    const crimeRate = ((violentCrime + propertyCrime) / population) * 100000;\n    const safetyScore = Math.max(0, 100 - (crimeRate / 50));\n\n    // Calculate score out of 200\n    const score = Math.round((safetyScore / 100) * 200);\n\n    return {\n      crimeRate: Math.round(crimeRate),\n      safetyScore: Math.round(safetyScore),\n      violentCrime,\n      score,\n      details: {\n        assaults: crimeData.results[0].aggravated_assault || 0,\n        robberies: crimeData.results[0].robbery || 0,\n        burglaries: crimeData.results[0].burglary || 0,\n        thefts: crimeData.results[0].larceny || 0,\n        vehicleThefts: crimeData.results[0].motor_vehicle_theft || 0\n      }\n    };\n  } catch (error) {\n    console.error('Error fetching crime data:', error);\n    return {\n      crimeRate: 0,\n      safetyScore: 0,\n      violentCrime: 0,\n      score: 0,\n      details: {\n        assaults: 0,\n        robberies: 0,\n        burglaries: 0,\n        thefts: 0,\n        vehicleThefts: 0\n      }\n    };\n  }\n};\nconst getStateFromAddress = (address: string): string => {\n  // Try to match state in various formats\n  const patterns = [\n    /,\\s*([A-Z]{2})\\s*\\d{5}/, // Matches \", TX 75019\"\n    /,\\s*([A-Z]{2})\\s*,/, // Matches \", TX,\"\n    /,\\s*([A-Z]{2})\\s*$/, // Matches \", TX\" at end\n    /\\b([A-Z]{2})\\s*\\d{5}/, // Matches \"TX 75019\"\n  ];\n\n  for (const pattern of patterns) {\n    const match = address.match(pattern);\n    if (match && match[1]) {\n      return match[1];\n    }\n  }\n\n  // Additional check for common state names\n  const stateNames = Object.keys(STATE_HEAT_DATA);\n  for (const state of stateNames) {\n    if (address.toUpperCase().includes(state)) {\n      return state;\n    }\n  }\n\n  console.warn('No state found in address:', address);\n  return '';\n};\n\n// Add these helper functions\nconst handleMapError = (error: MapError) => {\n  console.error('Map error:', error);\n  let errorMessage = 'An error occurred with the map.';\n  \n  switch (error.code) {\n    case 'ZERO_RESULTS':\n      errorMessage = 'No results found for this location.';\n      break;\n    case 'OVER_QUERY_LIMIT':\n      errorMessage = 'Too many requests. Please try again later.';\n      break;\n    case 'REQUEST_DENIED':\n      errorMessage = 'Map request was denied. Please check your API key.';\n      break;\n    case 'INVALID_REQUEST':\n      errorMessage = 'Invalid map request.';\n      break;\n    default:\n      if (error.message) {\n        errorMessage = error.message;\n      }\n  }\n  \n  return errorMessage;\n};\n\nconst retryMapOperation = async (\n  operation: () => Promise<any>,\n  maxRetries: number = 3,\n  delay: number = 1000\n): Promise<any> => {\n  for (let i = 0; i < maxRetries; i++) {\n    try {\n      return await operation();\n    } catch (error) {\n      if (i === maxRetries - 1) throw error;\n      await new Promise(resolve => setTimeout(resolve, delay * (i + 1)));\n    }\n  }\n};\n\n// Define specific place types we care about\nconst IMPORTANT_PLACES: POIWeights = {\n  // Shopping\n  'grocery_or_supermarket': 5,    // Kroger, Walmart, etc.\n  'supermarket': 5,               // Additional tag for supermarkets\n  'shopping_mall': 5,              // Major shopping centers\n  'convenience_store': 2,          // Lower weight for convenience stores\n  \n  // Restaurants\n  'restaurant': 3,                 // Regular restaurants\n  'cafe': 2,                       // Cafes\n  'meal_takeaway': 2,              // Take-out places\n  //schools\n  // Schools\n  'primary_school': 8,             // Elementary schools\n  'secondary_school': 8,           // Middle/High schools\n  'school': 8,                     // General schools\n  \n  // Parks\n  'park': 1,                       // Public parks\n  'playground': 2,                 // Playgrounds\n  \n  // Transport\n  'transit_station': 5,            // Major transit stations\n  'bus_station': 3,                // Bus stops\n  'train_station': 5,              // Train stations\n};\n\n\n// Type definitions\ninterface PoiCategories {\n  shopping: number;\n  restaurant: number;\n  school: number;\n  park: number;\n  transport: number;\n}\n\ninterface PropertyDetails {\n  address: string;\n  coordinates: { lat: number; lng: number };\n  nearbyPOIs: number;\n  searchRadius: number;\n}\n\ninterface SentimentDetails {\n  averageRating: string;\n  totalReviews: number;\n  communityEngagement: 'High' | 'Medium' | 'Low';\n  trend?: 'improving' | 'stable' | 'declining';\n  positiveReviews?: number;\n  neutralReviews?: number;\n  negativeReviews?: number;\n  highlights?: string[];\n}\n\ninterface SentimentData {\n  score: number;\n  details: SentimentDetails;\n}\n\n// Update your results interface\ninterface AnalysisResults {\n  poi: {\n    score: number;\n    details: PoiCategories;\n  };\n  heatMap?: {\n    score: number;\n    details: HeatMapDetails;\n  };\n  crime: CrimeData;\n  sentiment: SentimentData;\n  propertyDetails: PropertyDetails;\n  \n}\n\n// Component props interfaces\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\ninterface ButtonProps {\n  onClick: () => void;\n  children: React.ReactNode;\n  disabled?: boolean;\n  className?: string;\n}\n\ninterface SliderProps {\n  value: number;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  min: number;\n  max: number;\n  step: number;\n  label: string;\n}\n\ninterface MapControlsProps {\n  searchRadius: number;\n  onRadiusChange: (value: number) => void;\n  onTogglePOIMarkers: (value: boolean) => void;\n  showPOIMarkers: boolean;\n  mapType: google.maps.MapTypeId | string;\n  onMapTypeChange: (value: string) => void;\n  onResetView: () => void;\n}\n\n// Custom components with TypeScript support\nconst Card: React.FC<CardProps> = ({ children, className = '' }) => (\n  <div className={`bg-white rounded-lg shadow p-4 ${className}`}>\n    {children}\n  </div>\n);\n\nconst Input: React.FC<React.InputHTMLAttributes<HTMLInputElement>> = (props) => (\n  <input\n    {...props}\n    className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n  />\n);\n\nconst getMarketDescription = (stateCode: string, marketType: string): string => {\n  switch (marketType) {\n    case 'Buyer':\n      return `Favorable buyer's market in ${stateCode}. High negotiation power for Buyers.`;\n    case 'Seller':\n      return `Strong seller's market in ${stateCode}. Property values trending higher than average.`;\n    default:\n      return `Balanced market conditions in ${stateCode}. Normal negotiation power for both parties.`;\n  }\n};\n\nconst Button: React.FC<ButtonProps> = ({ onClick, children, disabled, className = '' }) => (\n  <button\n    onClick={onClick}\n    className={`px-4 py-2 rounded-lg text-white font-medium ${\n      disabled \n        ? 'bg-gray-400 cursor-not-allowed' \n        : 'bg-blue-500 hover:bg-blue-600 active:bg-blue-700'\n    } ${className}`}\n    disabled={disabled}\n  >\n    {children}\n  </button>\n);\n\nconst Select: React.FC<React.SelectHTMLAttributes<HTMLSelectElement>> = (props) => (\n  <select\n    {...props}\n    className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n  />\n);\n\nconst Slider: React.FC<SliderProps> = ({ value, onChange, min, max, step, label }) => (\n  <div className=\"space-y-2\">\n    <div className=\"flex justify-between\">\n      <label className=\"text-sm font-medium\">{label}</label>\n      <span className=\"text-sm text-gray-600\">{value}m</span>\n    </div>\n    <input\n      type=\"range\"\n      min={min}\n      max={max}\n      step={step}\n      value={value}\n      onChange={onChange}\n      className=\"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer\"\n    />\n  </div>\n);\n\nconst MapControls: React.FC<MapControlsProps> = ({ \n  searchRadius,\n  onRadiusChange,\n  onTogglePOIMarkers,\n  showPOIMarkers,\n  mapType,\n  onMapTypeChange,\n  onResetView\n}) => (\n  <Card>\n    <h3 className=\"font-semibold\">Map Controls</h3>\n    \n    <Slider\n      value={searchRadius}\n      onChange={(e) => onRadiusChange(Number(e.target.value))}\n      min={1000}\n      max={5000}\n      step={100}\n      label=\"Search Radius\"\n    />\n    \n    <div className=\"flex items-center gap-2\">\n      <label className=\"text-sm font-medium\">Map Type:</label>\n      <Select \n        value={mapType} \n        onChange={(e) => onMapTypeChange(e.target.value)}\n        className=\"flex-1\"\n      >\n        <option value=\"roadmap\">Roadmap</option>\n        <option value=\"satellite\">Satellite</option>\n        <option value=\"hybrid\">Hybrid</option>\n        <option value=\"terrain\">Terrain</option>\n      </Select>\n    </div>\n    \n    <div className=\"flex items-center justify-between\">\n      <label className=\"flex items-center gap-2\">\n        <input\n          type=\"checkbox\"\n          checked={showPOIMarkers}\n          onChange={(e) => onTogglePOIMarkers(e.target.checked)}\n          className=\"rounded\"\n        />\n        <span className=\"text-sm font-medium\">Show POI Markers</span>\n      </label>\n      \n      <Button onClick={onResetView} className=\"px-3 py-1 text-sm\">\n        Reset View\n      </Button>\n    </div>\n  </Card>\n);\n\n\n\nconst CategoryIcon: React.FC<{ category: keyof PoiCategories }> = ({ category }) => {\n  const icons: Record<keyof PoiCategories, string> = {\n    shopping: '🏪',\n    restaurant: '🍽️',\n    school: '🏫',\n    park: '🌳',\n    transport: '🚉'\n  };\n  \n  return <span className=\"text-lg\">{icons[category]}</span>;\n};\nconst PropertyAssessmentTool: React.FC = () => {\n  const [searchInput, setSearchInput] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(false);\n  const [results, setResults] = useState<AnalysisResults | null>(null);\n  const [error, setError] = useState<string>('');\n  const [googleLoaded, setGoogleLoaded] = useState<boolean>(false);\n  const [map, setMap] = useState<google.maps.Map | null>(null);\n  const [marker, setMarker] = useState<google.maps.Marker | null>(null);\n  const [searchCircle, setSearchCircle] = useState<google.maps.Circle | null>(null);\n  const [poiMarkers, setPoiMarkers] = useState<google.maps.Marker[]>([]);\n  const [showPOIMarkers, setShowPOIMarkers] = useState<boolean>(true);\n  const [mapType, setMapType] = useState<string>('roadmap'); // Change from google.maps.MapTypeId to string\n\n  const [searchRadius, setSearchRadius] = useState<number>(1500);\n  const mapRef = useRef<HTMLDivElement>(null);\n\n  const GOOGLE_API_KEY = 'AIzaSyBf5WWjQksCtxIziKvs7kFq4qjPCf6SoZQ';\n\n  const getSafetyColor = (score: number): string => {\n    if (score >= 80) return '#22c55e'; // green-500\n    if (score >= 60) return '#84cc16'; // lime-500\n    if (score >= 40) return '#eab308'; // yellow-500\n    if (score >= 20) return '#f97316'; // orange-500\n    return '#ef4444'; // red-500\n  };\n  \n  const getCrimeRateLevel = (rate: number): string => {\n    if (rate < 2000) return 'Very Low';\n    if (rate < 3000) return 'Low';\n    if (rate < 4000) return 'Moderate';\n    if (rate < 5000) return 'High';\n    return 'Very High';\n  };\n  \n  const getViolentCrimeLevel = (count: number): string => {\n    if (count < 50) return 'Very Low';\n    if (count < 100) return 'Low';\n    if (count < 200) return 'Moderate';\n    if (count < 300) return 'High';\n    return 'Very High';\n  };\n  \n  const getViolentCrimeColor = (count: number): string => {\n    if (count < 50) return 'text-green-600';\n    if (count < 100) return 'text-lime-600';\n    if (count < 200) return 'text-yellow-600';\n    if (count < 300) return 'text-orange-600';\n    return 'text-red-600';\n  };\n  \n  const getSafetyAnalysis = (safetyScore: number, crimeRate: number): string => {\n    if (safetyScore >= 80) {\n      return `This area demonstrates exceptional safety standards with a remarkably low crime rate of ${crimeRate} per 100,000 residents. The community benefits from effective law enforcement and strong neighborhood safety programs.`;\n    }\n    if (safetyScore >= 60) {\n      return `The area maintains good safety levels with a moderate crime rate of ${crimeRate} per 100,000 residents. While generally safe, standard precautions are recommended.`;\n    }\n    if (safetyScore >= 40) {\n      return `Safety in this area is moderate with a crime rate of ${crimeRate} per 100,000 residents. Additional security measures and awareness are recommended.`;\n    }\n    return `The area shows elevated crime levels with a rate of ${crimeRate} per 100,000 residents. Comprehensive security measures and increased caution are strongly advised.`;\n  };\n  \n  const getPoliceResponse = (safetyScore: number): string => {\n    if (safetyScore >= 80) return 'Excellent';\n    if (safetyScore >= 60) return 'Good';\n    if (safetyScore >= 40) return 'Average';\n    return 'Below Average';\n  };\n  \n  const getCommunityRating = (safetyScore: number): string => {\n    if (safetyScore >= 80) return 'Very Safe';\n    if (safetyScore >= 60) return 'Safe';\n    if (safetyScore >= 40) return 'Moderate';\n    return 'Caution Advised';\n  };\n\n  useEffect(() => {\n    const loadGoogleMaps = () => {\n      if (window.google) {\n        setGoogleLoaded(true);\n        initMap();\n        return;\n      }\n  \n      const script = document.createElement('script');\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_API_KEY}&libraries=places`;\n      script.async = true;\n      script.defer = true;\n      \n      script.onload = () => {\n        setGoogleLoaded(true);\n        initMap();\n      };\n  \n      document.head.appendChild(script);\n  \n      return () => {\n        // Only remove the script if it exists\n        const script = document.querySelector(`script[src*=\"maps.googleapis.com\"]`);\n        if (script) {\n          document.head.removeChild(script);\n        }\n      };\n    };\n  \n    loadGoogleMaps();\n  }, []);\n\n  useEffect(() => {\n    if (map && window.google) {\n      map.setMapTypeId(mapType as google.maps.MapTypeId);\n    }\n  }, [mapType, map]);\n  \n  // Update the MapControls props interface\n  interface MapControlsProps {\n    searchRadius: number;\n    onRadiusChange: (value: number) => void;\n    onTogglePOIMarkers: (value: boolean) => void;\n    showPOIMarkers: boolean;\n    mapType: string; // Change from google.maps.MapTypeId to string\n    onMapTypeChange: (value: string) => void;\n    onResetView: () => void;\n  }\n\n  useEffect(() => {\n    if (searchCircle) {\n      searchCircle.setRadius(searchRadius);\n    }\n  }, [searchRadius, searchCircle]);\n\n  useEffect(() => {\n    poiMarkers.forEach(marker => {\n      marker.setVisible(showPOIMarkers);\n    });\n  }, [showPOIMarkers, poiMarkers]);\n\n  // Continue with the rest of your component implementation...\n  // I'll continue with the remaining functions in the next part.\n  interface Location {\n    lat: number;\n    lng: number;\n  }\n  \n  const getStateRanking = (stateCode: string): number => {\n    const states = Object.entries(STATE_HEAT_DATA)\n      .sort(([, a], [, b]) => b.average - a.average)\n      .map(([code]) => code);\n    return states.indexOf(stateCode) + 1;\n  };\n\n  interface PlaceGeometry {\n    location: google.maps.LatLng;\n    viewport?: google.maps.LatLngBounds;\n  }\n  \n  interface PlaceResult extends google.maps.places.PlaceResult {\n    geometry: PlaceGeometry;\n    types: string[];\n    vicinity?: string;\n  }\n  \n  interface PlaceReview {\n    rating: number;\n    text: string;\n    time: number;\n  }\n  \n  interface SentimentAnalysis {\n    score: number;\n    reviews: {\n      positive: number;\n      neutral: number;\n      negative: number;\n    };\n    details: {\n      averageRating: string;\n      totalReviews: number;\n      communityEngagement: string;\n      recentTrend: 'improving' | 'stable' | 'declining';\n      priceLevel: number;\n      topKeywords: string[];\n    };\n  }\n  \n  \n    const clearPOIMarkers = (): void => {\n      poiMarkers.forEach(marker => marker.setMap(null));\n      setPoiMarkers([]);\n    };\n\n    const getPriceTrend = (average: number): number => {\n      // Calculate price trend based on market average\n      if (average >= 60) return 8.5;\n      if (average <= 40) return 2.5;\n      return 5.5;\n    };\n    \n    const getAverageDays = (average: number): number => {\n      // Calculate average days on market based on market average\n      if (average >= 60) return 25;\n      if (average <= 40) return 75;\n      return 45;\n    };\n    \n    const getInventoryLevel = (average: number): string => {\n      if (average >= 60) return 'Low';\n      if (average <= 40) return 'High';\n      return 'Moderate';\n    };\n  \n    const createPOIMarker = (place: PlaceResult, category: keyof PoiCategories): google.maps.Marker => {\n      if (!map || !place.geometry?.location) {\n        throw new Error('Invalid place data or map not initialized');\n      }\n  \n      const marker = new google.maps.Marker({\n        position: place.geometry.location,\n        map: showPOIMarkers ? map : null,\n        title: place.name || '',\n        icon: {\n          url: `https://maps.google.com/mapfiles/ms/icons/${getPOIColor(category)}-dot.png`,\n          scaledSize: new google.maps.Size(32, 32)\n        }\n      });\n\n\n      \n      \n  \n      const infoWindow = new google.maps.InfoWindow({\n        content: `\n          <div class=\"p-2\">\n            <strong>${place.name || ''}</strong><br/>\n            Type: ${category}<br/>\n            ${place.vicinity || ''}\n          </div>\n        `\n      });\n  \n      marker.addListener('click', () => {\n        infoWindow.open(map, marker);\n      });\n  \n      return marker;\n    };\n  \n    const getPOIColor = (category: keyof PoiCategories): string => {\n      const colors: Record<keyof PoiCategories, string> = {\n        shopping: 'yellow',\n        restaurant: 'red',\n        school: 'blue',\n        park: 'green',\n        transport: 'purple'\n      };\n      return colors[category];\n    };\n  \n    const initMap = (): void => {\n      if (!mapRef.current) return;\n    \n      const defaultLocation = { lat: 32.9612, lng: -96.9902 }; // Centered on Coppell, TX\n      \n      const mapInstance = new window.google.maps.Map(mapRef.current, {\n        zoom: 12,\n        center: defaultLocation,\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        mapTypeControl: true,\n        mapTypeControlOptions: {\n          style: google.maps.MapTypeControlStyle.DROPDOWN_MENU\n        },\n        zoomControl: true,\n        zoomControlOptions: {\n          position: google.maps.ControlPosition.RIGHT_TOP\n        },\n        scaleControl: true,\n        streetViewControl: true,\n        fullscreenControl: true\n      });\n    \n      mapInstance.addListener('click', (e: google.maps.MapMouseEvent) => {\n        if (e.latLng) {\n          const clickedLocation = {\n            lat: e.latLng.lat(),\n            lng: e.latLng.lng()\n          };\n          updateMarkerAndCircle(clickedLocation);\n          void analyzeLocation(clickedLocation);\n        }\n      });\n    \n      setMap(mapInstance);\n    };\n  \n    const updateMarkerAndCircle = (location: Location): void => {\n      if (!map) return;\n  \n      // Update or create marker\n      if (marker) {\n        marker.setPosition(location);\n      } else {\n        const newMarker = new google.maps.Marker({\n          position: location,\n          map: map,\n          draggable: true\n        });\n        \n        newMarker.addListener('dragend', () => {\n          const newLocation = {\n            lat: newMarker.getPosition()?.lat() || 0,\n            lng: newMarker.getPosition()?.lng() || 0\n          };\n          updateMarkerAndCircle(newLocation);\n          void analyzeLocation(newLocation);\n        });\n        \n        setMarker(newMarker);\n      }\n  \n      // Update or create search radius circle\n      if (searchCircle) {\n        searchCircle.setCenter(location);\n      } else {\n        const newCircle = new google.maps.Circle({\n          map: map,\n          center: location,\n          radius: searchRadius,\n          fillColor: '#4299e1',\n          fillOpacity: 0.15,\n          strokeColor: '#4299e1',\n          strokeWeight: 2\n        });\n        setSearchCircle(newCircle);\n      }\n  \n      map.panTo(location);\n      map.setZoom(14);\n    };\n\n    const determineMarketType = (average: number): 'Buyer' | 'Balanced' | 'Seller' => {\n      if (average <= 40) return 'Buyer';\n      if (average >= 60) return 'Seller';\n      return 'Balanced';\n    };\n    \n    const getHeatMapColor = (average: number): string => {\n      // Higher values are more blue (seller's market)\n      // Lower values are more red (buyer's market)\n      const normalizedValue = (average - 32.8) / (81.1 - 32.8); // Normalize based on min/max from data\n      const red = Math.round(255 * (1 - normalizedValue));\n      const blue = Math.round(255 * normalizedValue);\n      return `rgb(${red}, ${Math.min(red, blue) / 2}, ${blue})`;\n    };\n  \n    const analyzeLocation = async (location: Location): Promise<void> => {\n      \n      const service = new google.maps.places.PlacesService(map as google.maps.Map);\n      const geocoder = new google.maps.Geocoder();\n      const geocodeResult = await new Promise<google.maps.GeocoderResult>((resolve, reject) => {\n        geocoder.geocode({ location }, (results, status) => {\n          if (status === 'OK' && results?.[0]) {\n            resolve(results[0]);\n          } else {\n            reject(new Error('Geocoding failed'));\n          }\n        });\n      });\n\n      //const stateCode = getStateFromAddress(geocodeResult.formatted_address);\n      //const stateData = STATE_HEAT_DATA[stateCode];\n      const stateCode = getStateFromAddress(geocodeResult.formatted_address);\n      let heatMapAnalysis: HeatMapAnalysis;\n\n      if (stateCode && STATE_HEAT_DATA[stateCode]) {\n        const stateData = STATE_HEAT_DATA[stateCode];\n        const marketType = determineMarketType(stateData.average);\n\n        heatMapAnalysis = {\n          score: stateData.finalScore,\n          details: {\n            stateCode: stateCode,\n            average: stateData.average,\n            score: stateData.finalScore,\n            marketType: marketType as 'Buyer' | 'Balanced' | 'Seller',\n            trend: stateData.average <= 40 ? 'Falling' : stateData.average >= 60 ? 'Rising' : 'Stable'\n          }\n        };\n      } else {\n        console.error('State not found in address:', geocodeResult.formatted_address);\n        heatMapAnalysis = {\n          score: 0,\n          details: {\n            stateCode: 'N/A',\n            average: 0,\n            score: 0,\n            marketType: 'Balanced',\n            trend: 'Stable'\n          }\n        };\n      }\n      \n\n      const analyzeSentiment = async (\n        service: google.maps.places.PlacesService,\n        location: Location,\n        radius: number\n      ): Promise<SentimentAnalysis> => {\n        try {\n          // Get nearby places with their reviews\n          const places = await new Promise<google.maps.places.PlaceResult[]>((resolve, reject) => {\n            service.nearbySearch({\n              location,\n              radius,\n              type: ['establishment']\n            }, (results, status) => {\n              if (status === 'OK' && results) resolve(results);\n              else if (status === 'ZERO_RESULTS') resolve([]);\n              else reject(new Error(`Places search failed: ${status}`));\n            });\n          });\n      \n          let totalRating = 0;\n          let totalReviews = 0;\n          let recentReviews: PlaceReview[] = [];\n          let priceSum = 0;\n          let priceCount = 0;\n          const keywords = new Map<string, number>();\n      \n          // Analyze each place\n          for (const place of places) {\n            if (!place.place_id) continue;\n      \n            // Get detailed place information including reviews\n            const details = await new Promise<google.maps.places.PlaceResult>((resolve, reject) => {\n              service.getDetails({\n                placeId: place.place_id,\n                fields: ['rating', 'review', 'user_ratings_total', 'price_level']\n              }, (result, status) => {\n                if (status === 'OK' && result) resolve(result);\n                else reject(new Error(`Place details failed: ${status}`));\n              });\n            });\n      \n            if (details.rating) {\n              totalRating += details.rating;\n              totalReviews += details.user_ratings_total || 0;\n            }\n      \n            if (details.price_level !== undefined) {\n              priceSum += details.price_level;\n              priceCount++;\n            }\n      \n            // Process reviews\n            if (details.reviews) {\n              recentReviews.push(...details.reviews.map(review => ({\n                rating: review.rating,\n                text: review.text,\n                time: review.time\n              })));\n      \n              // Extract keywords from reviews\n              details.reviews.forEach(review => {\n                const words = review.text.toLowerCase()\n                  .split(/\\W+/)\n                  .filter(word => word.length > 3)\n                  .filter(word => !['this', 'that', 'with', 'from', 'they', 'have'].includes(word));\n      \n                words.forEach(word => {\n                  keywords.set(word, (keywords.get(word) || 0) + 1);\n                });\n              });\n            }\n          }\n      \n          // Calculate averages and scores\n          const averageRating = totalReviews > 0 ? totalRating / places.length : 0;\n          const averagePrice = priceCount > 0 ? priceSum / priceCount : 0;\n      \n          // Analyze review sentiment\n          const sentimentCounts = {\n            positive: recentReviews.filter(r => r.rating >= 4).length,\n            neutral: recentReviews.filter(r => r.rating === 3).length,\n            negative: recentReviews.filter(r => r.rating <= 2).length\n          };\n      \n          // Calculate recent trend\n          const recentTrend = calculateReviewTrend(recentReviews);\n      \n          // Get top keywords\n          const topKeywords = [...keywords.entries()]\n            .sort((a, b) => b[1] - a[1])\n            .slice(0, 5)\n            .map(([word]) => word);\n      \n          // Calculate final sentiment score (out of 200)\n          const sentimentScore = calculateSentimentScore({\n            averageRating,\n            totalReviews,\n            recentTrend,\n            sentimentCounts,\n            averagePrice\n          });\n      \n          return {\n            score: sentimentScore,\n            reviews: sentimentCounts,\n            details: {\n              averageRating: averageRating.toFixed(1),\n              totalReviews,\n              communityEngagement: getCommunityEngagement(totalReviews),\n              recentTrend,\n              priceLevel: Math.round(averagePrice),\n              topKeywords\n            }\n          };\n        } catch (error) {\n          console.error('Sentiment analysis error:', error);\n          return getDefaultSentimentAnalysis();\n        }\n      };\n      \n      const calculateReviewTrend = (reviews: PlaceReview[]): 'improving' | 'stable' | 'declining' => {\n        if (reviews.length < 2) return 'stable';\n      \n        const sortedReviews = [...reviews].sort((a, b) => b.time - a.time);\n        const recentReviews = sortedReviews.slice(0, Math.ceil(sortedReviews.length / 2));\n        const olderReviews = sortedReviews.slice(Math.ceil(sortedReviews.length / 2));\n      \n        const recentAvg = recentReviews.reduce((sum, r) => sum + r.rating, 0) / recentReviews.length;\n        const olderAvg = olderReviews.reduce((sum, r) => sum + r.rating, 0) / olderReviews.length;\n      \n        if (recentAvg > olderAvg + 0.3) return 'improving';\n        if (recentAvg < olderAvg - 0.3) return 'declining';\n        return 'stable';\n      };\n      \n      const calculateSentimentScore = ({\n        averageRating,\n        totalReviews,\n        recentTrend,\n        sentimentCounts,\n        averagePrice\n      }: {\n        averageRating: number;\n        totalReviews: number;\n        recentTrend: string;\n        sentimentCounts: { positive: number; neutral: number; negative: number };\n        averagePrice: number;\n      }): number => {\n        let score = 0;\n      \n        // Rating score (max 100)\n        score += (averageRating / 5) * 100;\n      \n        // Review volume score (max 30)\n        score += Math.min(30, totalReviews / 10);\n      \n        // Trend bonus (max 20)\n        if (recentTrend === 'improving') score += 20;\n        else if (recentTrend === 'stable') score += 10;\n      \n        // Sentiment ratio score (max 30)\n        const totalSentiments = sentimentCounts.positive + sentimentCounts.neutral + sentimentCounts.negative;\n        if (totalSentiments > 0) {\n          const positiveRatio = sentimentCounts.positive / totalSentiments;\n          score += positiveRatio * 30;\n        }\n      \n        // Price level adjustment (max 20)\n        const priceScore = 20 - (averagePrice * 5); // Lower prices get higher scores\n        score += Math.max(0, priceScore);\n      \n        return Math.round(Math.min(200, score));\n      };\n      \n      const getCommunityEngagement = (totalReviews: number): string => {\n        if (totalReviews > 500) return 'Very High';\n        if (totalReviews > 200) return 'High';\n        if (totalReviews > 100) return 'Medium';\n        if (totalReviews > 50) return 'Low';\n        return 'Very Low';\n      };\n      \n      const getDefaultSentimentAnalysis = (): SentimentAnalysis => ({\n        score: 0,\n        reviews: { positive: 0, neutral: 0, negative: 0 },\n        details: {\n          averageRating: '0.0',\n          totalReviews: 0,\n          communityEngagement: 'Low',\n          recentTrend: 'stable',\n          priceLevel: 0,\n          topKeywords: []\n        }\n      });\n      if (!map) return;\n    \n      setLoading(true);\n      setError('');\n      clearPOIMarkers();\n    \n      try {\n        const [crimeAnalysis, geocodeResult] = await Promise.all([\n          fetchCrimeData(location,FBI_API_KEY),\n          new Promise<google.maps.GeocoderResult>((resolve, reject) => {\n            const geocoder = new google.maps.Geocoder();\n            geocoder.geocode({ location }, (results, status) => {\n              if (status === 'OK' && results?.[0]) {\n                resolve(results[0]);\n              } else {\n                reject(new Error('Geocoding failed'));\n              }\n            });\n          })\n        ]);\n    \n        // Get place details and address first\n        \n    \n        const poiCategories: PoiCategories = {\n          shopping: 0,\n          restaurant: 0,\n          school: 0,\n          park: 0,\n          transport: 0\n        };\n    \n        const poiScores: PoiCategories = {\n          shopping: 0,\n          restaurant: 0,\n          school: 0,\n          park: 0,\n          transport: 0\n        };\n    \n        const newMarkers: google.maps.Marker[] = [];\n        const processedPlaces = new Set<string>();\n    \n        // Search for each important place type\n        for (const [placeType, weight] of Object.entries(IMPORTANT_PLACES)) {\n          try {\n            const places = await new Promise<google.maps.places.PlaceResult[]>((resolve, reject) => {\n              service.nearbySearch({\n                location,\n                radius: searchRadius,\n                type: placeType as google.maps.places.PlaceType,\n              }, (results, status) => {\n                if (status === 'OK' && results) resolve(results);\n                else if (status === 'ZERO_RESULTS') resolve([]);\n                else reject(new Error(`Places search failed: ${status}`));\n              });\n            });\n    \n            places.forEach(place => {\n              if (!place.place_id || processedPlaces.has(place.place_id)) return;\n              processedPlaces.add(place.place_id);\n    \n              let category: keyof PoiCategories | null = null;\n              let score = weight;\n    \n              if (placeType.includes('supermarket') || placeType.includes('shopping')) {\n                category = 'shopping';\n                if (place.name?.match(/walmart|kroger|target|tom thumb|costco|sam's club|whole foods/i)) {\n                  score *= 2;\n                }\n              } else if (placeType.includes('restaurant') || placeType.includes('cafe')) {\n                category = 'restaurant';\n              } else if (placeType.includes('school')) {\n                category = 'school';\n                if (place.name?.match(/elementary|middle|high school/i)) {\n                  score *= 1.5;\n                }\n              } else if (placeType.includes('park') || placeType.includes('playground')) {\n                category = 'park';\n                if (place.name?.match(/community|regional|municipal/i)) {\n                  score *= 1.5;\n                }\n              } else if (placeType.includes('station')) {\n                category = 'transport';\n              }\n    \n              if (category) {\n                poiCategories[category]++;\n                poiScores[category] += score;\n                newMarkers.push(createPOIMarker(place, category));\n              }\n            });\n    \n            await new Promise(resolve => setTimeout(resolve, 200));\n    \n          } catch (error) {\n            console.warn(`Error searching for ${placeType}:`, error);\n          }\n        }\n    \n        setPoiMarkers(newMarkers);\n    \n        const MAX_CATEGORY_SCORES: POIMaxScores = {\n          shopping: 50,      // Major focus on retail availability\n          restaurant: 38,    // Important but not critical\n          school: 10,        // High importance for families\n          park: 25,          // Good for community value\n          transport: 75      // Helpful but not crucial\n        };\n        // Calculate final category scores\n        const finalScores = {\n          shopping: Math.min(200, (poiScores.shopping / MAX_CATEGORY_SCORES.shopping) * 200),\n          restaurant: Math.min(200, (poiScores.restaurant / MAX_CATEGORY_SCORES.restaurant) * 200),\n          school: Math.min(200, (poiScores.school / MAX_CATEGORY_SCORES.school) * 200),\n          park: Math.min(200, (poiScores.park / MAX_CATEGORY_SCORES.park) * 200),\n          transport: Math.min(200, (poiScores.transport / MAX_CATEGORY_SCORES.transport) * 200)\n        };\n    \n        // Calculate overall POI score\n        const poiScore = Math.round(Math.min(200, \n          Object.values(finalScores).reduce((a, b) => a + b, 0) / 5\n        ));\n    \n        // Mock sentiment data (replace with real data in production)\n        const min = 100;\n        const max = 200;\n        const sentimentScore = Math.floor(Math.random() * (max - min + 1)) + min;\n        let mockRating = (Math.random() * (5 - 2.9 + 1)) + 2;\n        mockRating = Math.round(mockRating * 10) / 10;\n        const totalRatings = Math.floor(Math.random() * (max - min + 1)) + min;;\n    \n        // Set final results\n        setResults({\n          poi: {\n            score: poiScore,\n            details: poiCategories\n          },\n          sentiment: {\n            score: sentimentScore,\n            details: {\n              averageRating: mockRating.toString(),\n              totalReviews: totalRatings,\n              communityEngagement: totalRatings > 100 ? 'High' : totalRatings > 50 ? 'Medium' : 'Low'\n            }\n          },\n          heatMap: heatMapAnalysis,  // Add heat map data\n          crime: crimeAnalysis,\n          propertyDetails: {\n            address: geocodeResult.formatted_address,\n            coordinates: location,\n            nearbyPOIs: newMarkers.length,\n            searchRadius: searchRadius\n          }\n        });\n    \n      } catch (error) {\n        console.error('Analysis error:', error);\n        setError('Error analyzing location. Please try a different location or adjust the search radius.');\n      } finally {\n        setLoading(false);\n      }\n    };\n  \n    const handleSearchSubmit = async (): Promise<void> => {\n      if (!searchInput.trim()) {\n        setError('Please enter an address or coordinates');\n        return;\n      }\n  \n      try {\n        const geocoder = new google.maps.Geocoder();\n        const result = await new Promise<google.maps.GeocoderResult>((resolve, reject) => {\n          geocoder.geocode({ address: searchInput }, (results, status) => {\n            if (status === 'OK' && results?.[0]) {\n              resolve(results[0]);\n            } else {\n              reject(new Error('Geocoding failed'));\n            }\n          });\n        });\n  \n        const location: Location = {\n          lat: result.geometry.location.lat(),\n          lng: result.geometry.location.lng()\n        };\n  \n        updateMarkerAndCircle(location);\n        void analyzeLocation(location);\n      } catch (error) {\n        setError('Could not find location. Please check the address.');\n        console.error('Search error:', error);\n      }\n    };\n    // ... continuing from previous parts\n\n  const calculateTotalScore = (results: AnalysisResults): number => {\n    return results.poi.score + results.sentiment.score + results.heatMap.score + results.crime.score;;\n  };\n\n  const renderAssessmentSummary = (score: number): JSX.Element => {\n    if (score >= 750) {\n      return (\n        <div className=\"text-green-600\">\n          Excellent location! High potential for development with strong community features.\n        </div>\n      );\n    } else if (score >= 500) {\n      return (\n        <div className=\"text-blue-600\">\n          Good location with balanced amenities and growth potential.\n        </div>\n      );\n    } else if (score >= 250) {\n      return (\n        <div className=\"text-yellow-600\">\n          Moderate potential. Consider future development plans in the area.\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"text-red-600\">\n          Limited amenities. May require significant infrastructure development.\n        </div>\n      );\n    }\n  };\n\n  if (!googleLoaded) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-xl font-semibold\">Loading Google Maps...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-4\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {/* Left column: Map and controls */}\n        <div className=\"space-y-4\">\n          <Card>\n            <h2 className=\"text-2xl font-bold mb-4\">Select Location</h2>\n            <div className=\"flex flex-col gap-4\">\n              <div className=\"flex gap-4\">\n                <Input\n                  type=\"text\"\n                  placeholder=\"Enter address or coordinates (lat,lng)\"\n                  value={searchInput}\n                  onChange={(e) => setSearchInput(e.target.value)}\n                />\n                <Button\n                  onClick={() => void handleSearchSubmit()}\n                  disabled={loading}\n                >\n                  {loading ? 'Analyzing...' : 'Search'}\n                </Button>\n              </div>\n              {error && (\n                <div className=\"text-red-500 text-sm\">{error}</div>\n              )}\n            </div>\n            \n          </Card>\n          \n          <MapControls\n            searchRadius={searchRadius}\n            onRadiusChange={setSearchRadius}\n            onTogglePOIMarkers={setShowPOIMarkers}\n            showPOIMarkers={showPOIMarkers}\n            mapType={mapType}\n            onMapTypeChange={setMapType}\n            onResetView={() => {\n              if (marker && map) {\n                const position = marker.getPosition();\n                if (position) {\n                  map.setCenter(position);\n                  map.setZoom(14);\n                }\n              }\n            }}\n          />\n          \n          <div \n            ref={mapRef} \n            className=\"w-full h-[600px] rounded-lg shadow-lg border border-gray-200\"\n          ></div>\n          \n          <div className=\"text-sm text-gray-600\">\n            <div className=\"font-medium mb-2\">Map Legend:</div>\n            <div className=\"grid grid-cols-2 gap-2\">\n              {Object.entries({\n                shopping: 'yellow',\n                restaurant: 'red',\n                school: 'blue',\n                park: 'green',\n                transport: 'purple'\n              }).map(([category, color]) => (\n                <div key={category} className=\"flex items-center gap-2\">\n                  <span \n                    className=\"w-4 h-4 rounded-full\" \n                    style={{ backgroundColor: color }}\n                  ></span>\n                  <span className=\"capitalize\">{category}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Right column: Results */}\n        <div className=\"space-y-4\">\n          {results && (\n            <>\n              <Card>\n                <h3 className=\"text-xl font-bold mb-4\">Location Details</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"font-medium\">Address:</span>\n                    <span className=\"text-right\">{results.propertyDetails.address}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"font-medium\">Coordinates:</span>\n                    <span>\n                      {results.propertyDetails.coordinates.lat.toFixed(6)}, \n                      {results.propertyDetails.coordinates.lng.toFixed(6)}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"font-medium\">Search Radius:</span>\n                    <span>{results.propertyDetails.searchRadius}m</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"font-medium\">Total POIs Found:</span>\n                    <span>{results.propertyDetails.nearbyPOIs}</span>\n                  </div>\n                </div>\n              </Card>\n\n              <Card>\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h3 className=\"text-lg font-semibold\">Points of Interest</h3>\n                  <div className=\"text-2xl font-bold\">{results.poi.score}/200</div>\n                </div>\n                <div className=\"space-y-3\">\n                  {(Object.entries(results.poi.details) as [keyof PoiCategories, number][]).map(([category, count]) => (\n                    <div key={category} className=\"relative\">\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <div className=\"flex items-center gap-2\">\n                          <CategoryIcon category={category} />\n                          <span className=\"capitalize\">\n                            {category}: {count}\n                          </span>\n                        </div>\n                        <span className=\"text-sm text-gray-600\">\n                          {Math.round((count * (\n                            category === 'school' ? 20 : \n                            category === 'park' ? 12 : 10\n                          )))}\n                           -Data-Points\n                        </span>\n                      </div>\n                      <div className=\"w-full h-3 bg-gray-200 rounded-full overflow-hidden\">\n                        <div \n                          className={`h-full rounded-full ${\n                            category === 'shopping' ? 'bg-yellow-500' :\n                            category === 'restaurant' ? 'bg-red-500' :\n                            category === 'school' ? 'bg-blue-500' :\n                            category === 'park' ? 'bg-green-500' :\n                            'bg-purple-500'\n                          }`}\n                          style={{ \n                            width: `${Math.min(100, (count * 20))}%`\n                          }}\n                        ></div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </Card>\n\n              {results.heatMap && (\n                <Card>\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-lg font-semibold\">Market Heat Map</h3>\n                    <div className=\"text-2xl font-bold\">{results.heatMap.score.toFixed(2)}/200</div>\n                  </div>\n                \n                  <div className=\"space-y-4\">\n                    {/* State Score */}\n                    <div>\n                      <div className=\"flex justify-between mb-1\">\n                        <span>State Market Index</span>\n                        <span className=\"font-medium\" style={{ \n                          color: getHeatMapColor(results.heatMap.details.average) \n                        }}>\n                          {results.heatMap.details.stateCode} - {results.heatMap.details.average.toFixed(1)}\n                        </span>\n                      </div>\n                      <div className=\"w-full h-6 bg-gray-200 rounded-full overflow-hidden\">\n                        <div \n                          className=\"h-full rounded-full transition-all duration-300\"\n                          style={{ \n                            width: `${((results.heatMap.details.average - 32.8) / (81.1 - 32.8)) * 100}%`,\n                            backgroundColor: getHeatMapColor(results.heatMap.details.average)\n                          }}\n                        />\n                      </div>\n                      <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\n                        <span>Buyer's Market (&lt;40)</span>\n                        <span>Balanced (40-60)</span>\n                        <span>Seller's Market (&gt;60)</span>\n                      </div>\n                    </div>\n                \n                    {/* Market Stats Grid */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"text-sm text-gray-600 mb-1\">Market Type</div>\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${\n                          results.heatMap.details.marketType === 'Seller' \n                            ? 'bg-blue-100 text-blue-800'\n                            : results.heatMap.details.marketType === 'Buyer'\n                            ? 'bg-red-100 text-red-800'\n                            : 'bg-yellow-100 text-yellow-800'\n                        }`}>\n                          {results.heatMap.details.marketType} Market\n                        </span>\n                      </div>\n                \n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"text-sm text-gray-600 mb-1\">Demand Level</div>\n                        <div className=\"flex items-center gap-2\">\n                          <div className={`w-3 h-3 rounded-full ${\n                            results.heatMap.details.average >= 60 ? 'bg-blue-500' :\n                            results.heatMap.details.average <= 40 ? 'bg-red-500' :\n                            'bg-yellow-500'\n                          }`}></div>\n                          <span className=\"text-sm font-medium\">\n                            {results.heatMap.details.average >= 60 ? 'High Demand' :\n                             results.heatMap.details.average <= 40 ? 'Low Demand' :\n                             'Moderate Demand'}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                \n                    {/* Market Metrics */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"space-y-2\">\n                        <div className=\"text-sm font-medium\">State Ranking</div>\n                        <div className=\"text-5xl font-bold\">\n                          #{getStateRanking(results.heatMap.details.stateCode)}/50\n                        </div>\n                        <div className=\"text-xs text-gray-500\">\n                          Among all US states\n                        </div>\n                      </div>\n                      \n                      <div className=\"space-y-2\">\n                        <div className=\"text-sm font-medium\">Price Trend</div>\n                        <div className=\"flex items-center gap-1 text-green-600\">\n                          <span className=\"text-6xl font-bold\">\n                            {getPriceTrend(results.heatMap.details.average)}%\n                          </span>\n                          <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 10l7-7m0 0l7 7m-7-7v18\" />\n                          </svg>\n                        </div>\n                        <div className=\"text-xs text-gray-500\">Annual appreciation</div>\n                      </div>\n                    </div>\n                \n                    {/* Market Analysis */}\n                    <div className=\"bg-gray-50 p-4 rounded-lg space-y-3\">\n                      <div className=\"font-medium\">Market Analysis</div>\n                      <div className=\"text-sm text-gray-600\">\n                        {results.heatMap.details.marketType === 'Seller' \n                          ? `Strong seller's market in ${results.heatMap.details.stateCode}. Property values are trending significantly higher than average, with sellers having strong negotiating power. Current market conditions favor quick sales and competitive pricing.`\n                          : results.heatMap.details.marketType === 'Buyer'\n                          ? `Favorable buyer's market in ${results.heatMap.details.stateCode}. Current conditions present good opportunities for property investment, with buyers having increased negotiating power. Properties may stay on market longer, allowing for more thorough evaluation.`\n                          : `Balanced market conditions in ${results.heatMap.details.stateCode}. Market shows healthy equilibrium between buyers and sellers, with stable pricing and reasonable negotiation opportunities for both parties.`}\n                      </div>\n                      <div className=\"grid grid-cols-2 gap-2 mt-2\">\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Avg. Days on Market: </span>\n                          {getAverageDays(results.heatMap.details.average)} days\n                        </div>\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Inventory Level: </span>\n                          {getInventoryLevel(results.heatMap.details.average)}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </Card>\n              )}\n              \n              {results && (\n                <Card>\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-lg font-semibold\">Crime Analysis</h3>\n                    <div className=\"text-2xl font-bold\">{results.crime.score}/200</div>\n                  </div>\n\n                  <div className=\"space-y-4\">\n                    {/* Safety Score */}\n                    <div>\n                      <div className=\"flex justify-between mb-1\">\n                        <span>Safety Score</span>\n                        <span className=\"font-medium\" style={{ \n                          color: getSafetyColor(results.crime.safetyScore) \n                        }}>\n                          {results.crime.safetyScore}/100\n                        </span>\n                      </div>\n                      <div className=\"w-full h-2 bg-gray-200 rounded-full overflow-hidden\">\n                        <div \n                          className=\"h-full rounded-full transition-all duration-300\"\n                          style={{ \n                            width: `${results.crime.safetyScore}%`,\n                            backgroundColor: getSafetyColor(results.crime.safetyScore)\n                          }}\n                        />\n                      </div>\n                    </div>\n\n                    {/* Crime Stats Grid */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"text-sm text-gray-600 mb-1\">Crime Rate</div>\n                        <div className=\"text-xl font-bold\">\n                          {results.crime.crimeRate.toLocaleString()}\n                          <span className=\"text-sm font-normal text-gray-500 ml-1\">per 100k</span>\n                        </div>\n                        <div className=\"text-sm text-gray-500\">\n                          {getCrimeRateLevel(results.crime.crimeRate)}\n                        </div>\n                      </div>\n\n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"text-sm text-gray-600 mb-1\">Violent Crime</div>\n                        <div className=\"text-xl font-bold\">\n                          {results.crime.violentCrime.toLocaleString()}\n                          <span className=\"text-sm font-normal text-gray-500 ml-1\">incidents</span>\n                        </div>\n                        <div className={`text-sm ${getViolentCrimeColor(results.crime.violentCrime)}`}>\n                          {getViolentCrimeLevel(results.crime.violentCrime)}\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Crime Breakdown */}\n                    <div className=\"bg-gray-50 p-4 rounded-lg space-y-3\">\n                      <div className=\"font-medium\">Crime Breakdown</div>\n                      <div className=\"space-y-2\">\n                        {(Object.entries(results.crime.details) as [keyof CrimeDetails, number][]).map(([type, count]) => (\n                          <div key={type} className=\"flex items-center gap-2\">\n                            <div className=\"w-full\">\n                              <div className=\"flex justify-between text-sm mb-1\">\n                                <span className=\"capitalize\">{type.replace(/([A-Z])/g, ' $1').trim()}</span>\n                                <span>{count.toLocaleString()} incidents</span>\n                              </div>\n                              <div className=\"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden\">\n                                <div \n                                  className=\"h-full bg-blue-500 rounded-full\"\n                                  style={{ \n                                    width: `${(count / Math.max(...Object.values(results.crime.details))) * 100}%`\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Safety Analysis */}\n                    <div className=\"bg-gray-50 p-4 rounded-lg space-y-2\">\n                      <div className=\"font-medium\">Safety Analysis</div>\n                      <div className=\"text-sm text-gray-600\">\n                        {getSafetyAnalysis(results.crime.safetyScore, results.crime.crimeRate)}\n                      </div>\n                      <div className=\"grid grid-cols-2 gap-2 mt-2\">\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Police Response: </span>\n                          {getPoliceResponse(results.crime.safetyScore)}\n                        </div>\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Community Rating: </span>\n                          {getCommunityRating(results.crime.safetyScore)}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </Card>\n              )}\n              <Card>\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h3 className=\"text-lg font-semibold\">Area Sentiment</h3>\n                  <div className=\"text-2xl font-bold\">{results.sentiment.score}/200</div>\n                </div>\n                <div className=\"space-y-4\">\n                  {/* Rating Section */}\n                  <div className=\"flex items-center gap-2 mb-3\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex justify-between mb-1\">\n                        <span>Rating</span>\n                        <span className=\"font-medium\">\n                          {results.sentiment.details.averageRating} / 5.0\n                        </span>\n                      </div>\n                      <div className=\"w-full h-3 bg-gray-200 rounded-full overflow-hidden\">\n                        <div \n                          className=\"h-full bg-yellow-400 rounded-full\"\n                          style={{ \n                            width: `${(parseFloat(results.sentiment.details.averageRating) / 5) * 100}%`\n                          }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Review Stats */}\n                  <div className=\"grid grid-cols-3 gap-2\">\n                    <div className=\"bg-green-50 p-2 rounded text-center\">\n                      <div className=\"text-sm text-green-600\">Positive</div>\n                      <div className=\"font-medium\">{Math.floor(Math.random() * (30 - 20 + 1)) + 20}</div>\n                    </div>\n                    <div className=\"bg-yellow-50 p-2 rounded text-center\">\n                      <div className=\"text-sm text-yellow-600\">Neutral</div>\n                      <div className=\"font-medium\">{Math.floor(Math.random() * (15 - 4 + 1)) + 12}</div>\n                    </div>\n                    <div className=\"bg-red-50 p-2 rounded text-center\">\n                      <div className=\"text-sm text-red-600\">Negative</div>\n                      <div className=\"font-medium\">{Math.floor(Math.random() * (10 - 6 + 1)) + 4}</div>\n                    </div>\n                  </div>\n\n                  {/* Community Stats */}\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between items-center\">\n                      <span>Total Reviews:</span>\n                      <span className=\"font-medium\">\n                        {results.sentiment.details.totalReviews}\n                      </span>\n                    </div>\n                    \n                    <div className=\"flex justify-between items-center\">\n                      <span>Community Engagement:</span>\n                      <div \n                        className={`px-2 py-1 rounded-full text-sm ${\n                          results.sentiment.details.communityEngagement === 'High' \n                            ? 'bg-green-100 text-green-600' \n                            : results.sentiment.details.communityEngagement === 'Medium'\n                            ? 'bg-yellow-100 text-yellow-600'\n                            : 'bg-red-100 text-red-600'\n                        }`}\n                      >\n                        {results.sentiment.details.communityEngagement}\n                      </div>\n                    </div>\n\n                    <div className=\"flex justify-between items-center\">\n                      <span>Trend:</span>\n                      <div className=\"flex items-center gap-1 text-green-600\">\n                        <span className=\"text-sm\">Improving</span>\n                        <svg \n                          className=\"w-4 h-4\" \n                          fill=\"none\" \n                          stroke=\"currentColor\" \n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path \n                            strokeLinecap=\"round\" \n                            strokeLinejoin=\"round\" \n                            strokeWidth={2} \n                            d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" \n                          />\n                        </svg>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Area Highlights */}\n                  <div className=\"bg-blue-50 p-3 rounded\">\n                    <div className=\"text-sm font-medium text-blue-800 mb-2\">Area Highlights</div>\n                    <div className=\"flex flex-wrap gap-2\">\n                      <span className=\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\">Family Friendly</span>\n                      <span className=\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\">Quiet</span>\n                      <span className=\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\">Safe</span>\n                    </div>\n                  </div>\n                </div>\n              </Card>\n              \n              <Card>\n                <h3 className=\"text-xl font-bold mb-4\">Overall Assessment</h3>\n                <div className=\"relative mb-6\">\n                  <div className=\"text-4xl font-bold text-center\">\n                    {calculateTotalScore(results)}/1000\n                  </div>\n                  <div className=\"w-full h-4 bg-gray-200 rounded-full overflow-hidden mt-4\">\n                    <div \n                      className=\"h-full bg-blue-500 rounded-full transition-all duration-500\"\n                      style={{ \n                        width: `${(calculateTotalScore(results) / 1000) * 100}%`\n                      }}\n                    ></div>\n                  </div>\n                  <div className=\"flex justify-between mt-1 text-sm text-gray-600\">\n                    <span>0</span>\n                    <span>250</span>\n                    <span>500</span>\n                    <span>750</span>\n                    <span>1000</span>\n                  </div>\n                </div>\n                \n                <div className=\"bg-blue-50 p-4 rounded-lg\">\n                  <h4 className=\"font-semibold mb-2\">Assessment Summary:</h4>\n                  <div className=\"space-y-2 text-sm\">\n                    {renderAssessmentSummary(calculateTotalScore(results))}\n                  </div>\n                </div>\n              </Card>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default PropertyAssessmentTool;\n\n\n    "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}