{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WaveAnimation=()=>/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 pointer-events-none overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 opacity-20\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 wave-animation\"})})});// Add these interfaces for better type checking\nconst generateMockFloodData=location=>{// Generate a random score with bias towards higher scores (lower flood risk)\n// Using triangular distribution for more realistic data\nconst generateScore=()=>{const min=50;const max=200;const peak=175;// Bias towards higher scores\nconst random=Math.random();if(random<(peak-min)/(max-min)){return Math.round(min+Math.sqrt(random*(max-min)*(peak-min)));}else{return Math.round(max-Math.sqrt((1-random)*(max-min)*(max-peak)));}};const score=generateScore();const riskLevel=getRiskLevel(score);// Generate zone type based on score\nconst getZoneType=score=>{if(score>150)return'X';if(score>100)return'X PROTECTED BY LEVEE';if(score>50)return'AE';return'VE';};const zoneType=getZoneType(score);return{score,riskLevel,details:{zoneType,annualChance:getAnnualChance(score),baseFloodElevation:getBaseFloodElevation(score),insuranceRequired:score<150,communityRating:getCommunityRating(score),protectionLevel:getProtectionLevel(score),description:getZoneDescription(score)}};};// Helper functions for mock data\nconst getRiskLevel=score=>{if(score>=150)return'Minimal';if(score>=100)return'Low';if(score>=50)return'Moderate';return'High';};const getAnnualChance=score=>{if(score>=150)return'Less than 0.2% Annual Chance';if(score>=100)return'0.2% Annual Chance';if(score>=50)return'1% Annual Chance';return'1% Annual Chance with Velocity';};const getBaseFloodElevation=score=>{if(score<150){const elevation=Math.round(Math.random()*15+5);return`${elevation} ft`;}return'N/A';};const getCommunityRating=score=>{if(score>=150)return'Excellent';if(score>=100)return'Good';if(score>=50)return'Fair';return'Poor';};const getProtectionLevel=score=>{if(score>=150)return'Excellent';if(score>=100)return'Good';if(score>=50)return'Moderate';return'Minimal';};const getZoneDescription=score=>{if(score>=150){return'Area of minimal flood hazard with very low risk of flooding. Standard precautions recommended.';}if(score>=100){return'Area protected by flood control systems with moderate protection. Basic flood insurance may be recommended.';}if(score>=50){return'Area with moderate flood risk. Consider flood protection measures and insurance coverage.';}return'High-risk flood area with significant flood concerns. Comprehensive flood protection measures strongly advised.';};/*interface CrimeStats {\n  crimeRate: number;\n  safetyScore: number;\n  violentCrime: number;\n  score: number;\n  details: {\n    assaults: number;\n    robberies: number;\n    burglaries: number;\n    thefts: number;\n    vehicleThefts: number;\n  };\n}*/// Add CrimeDetails interface\n// Add CrimeData interface\nconst STATE_HEAT_DATA={\"CT\":{stateName:\"CT\",average:81.1,finalScore:191.33},\"RI\":{stateName:\"RI\",average:77.8,finalScore:184.34},\"NY\":{stateName:\"NY\",average:74.2,finalScore:174.46},\"ME\":{stateName:\"ME\",average:72.4,finalScore:169.16},\"AK\":{stateName:\"AK\",average:69.7,finalScore:164.34},\"IL\":{stateName:\"IL\",average:67.1,finalScore:158.07},\"MA\":{stateName:\"MA\",average:66.8,finalScore:156.87},\"ND\":{stateName:\"ND\",average:66.6,finalScore:157.11},\"MN\":{stateName:\"MN\",average:64.3,finalScore:150.60},\"NJ\":{stateName:\"NJ\",average:62.4,finalScore:148.67},\"WI\":{stateName:\"WI\",average:61.7,finalScore:144.34},\"VA\":{stateName:\"VA\",average:60.5,finalScore:143.37},\"NH\":{stateName:\"NH\",average:59.8,finalScore:140.48},\"MD\":{stateName:\"MD\",average:59.7,finalScore:141.93},\"PA\":{stateName:\"PA\",average:59.5,finalScore:140.48},\"OH\":{stateName:\"OH\",average:59.4,finalScore:138.31},\"MI\":{stateName:\"MI\",average:59.4,finalScore:137.83},\"CA\":{stateName:\"CA\",average:57.9,finalScore:136.14},\"VT\":{stateName:\"VT\",average:56.7,finalScore:133.01},\"NM\":{stateName:\"NM\",average:56.1,finalScore:133.73},\"WV\":{stateName:\"WV\",average:55.7,finalScore:131.57},\"SD\":{stateName:\"SD\",average:54.3,finalScore:128.19},\"DE\":{stateName:\"DE\",average:54.0,finalScore:128.43},\"KS\":{stateName:\"KS\",average:52.0,finalScore:121.93},\"UT\":{stateName:\"UT\",average:51.7,finalScore:122.65},\"NV\":{stateName:\"NV\",average:51.3,finalScore:121.45},\"MO\":{stateName:\"MO\",average:50.7,finalScore:119.52},\"WY\":{stateName:\"WY\",average:49.6,finalScore:114.70},\"WA\":{stateName:\"WA\",average:48.9,finalScore:114.46},\"IA\":{stateName:\"IA\",average:48.3,finalScore:112.53},\"CO\":{stateName:\"CO\",average:47.0,finalScore:110.12},\"IN\":{stateName:\"IN\",average:46.3,finalScore:107.71},\"NE\":{stateName:\"NE\",average:45.8,finalScore:106.02},\"AZ\":{stateName:\"AZ\",average:45.7,finalScore:109.16},\"ID\":{stateName:\"ID\",average:44.9,finalScore:104.82},\"OR\":{stateName:\"OR\",average:44.5,finalScore:104.34},\"LA\":{stateName:\"LA\",average:43.7,finalScore:104.10},\"GA\":{stateName:\"GA\",average:43.7,finalScore:102.65},\"MS\":{stateName:\"MS\",average:43.6,finalScore:104.10},\"AR\":{stateName:\"AR\",average:43.1,finalScore:102.89},\"AL\":{stateName:\"AL\",average:42.3,finalScore:99.76},\"OK\":{stateName:\"OK\",average:42.0,finalScore:99.76},\"NC\":{stateName:\"NC\",average:42.0,finalScore:98.07},\"TX\":{stateName:\"TX\",average:39.9,finalScore:94.46},\"MT\":{stateName:\"MT\",average:39.7,finalScore:92.29},\"HI\":{stateName:\"HI\",average:38.6,finalScore:90.60},\"KY\":{stateName:\"KY\",average:37.5,finalScore:87.95},\"TN\":{stateName:\"TN\",average:35.9,finalScore:84.58},\"SC\":{stateName:\"SC\",average:35.4,finalScore:84.10},\"FL\":{stateName:\"FL\",average:32.8,finalScore:78.31}};const FBI_API_KEY='KGCHD5QLxYmLrqKeuZrqnvBzx58e0ZhyRqW1jXYP';const fetchFloodZoneData=async location=>{// Simulate API delay\nawait new Promise(resolve=>setTimeout(resolve,500));return generateMockFloodData(location);};const getFloodZoneColor=score=>{if(score>=150)return'#22c55e';// green\nif(score>=100)return'#84cc16';// light green\nif(score>=50)return'#eab308';// yellow\nreturn'#ef4444';// red\n};// Example usage in your analyzeLocation function\nconst analyzeLocation=async location=>{setLoading(true);try{const floodData=await fetchFloodZoneData(location);setFloodData(floodData);// Update visualization on the map\nif(map&&floodData.score<150){// Create a circle to represent flood risk area\nconst radius=Math.max(100,(200-floodData.score)*10);// Higher risk = larger circle\nconst floodCircle=new google.maps.Circle({strokeColor:getFloodZoneColor(floodData.score),strokeOpacity:0.8,strokeWeight:2,fillColor:getFloodZoneColor(floodData.score),fillOpacity:0.35,map,center:location,radius:radius// meters\n});// Store reference to remove later if needed\nif(floodZoneOverlay){floodZoneOverlay.setMap(null);}setFloodZoneOverlay(floodCircle);}}catch(error){console.error('Error in flood analysis:',error);}finally{setLoading(false);}};const processFloodZone=attributes=>{return{zoneId:attributes.FLD_ZONE,subtype:attributes.ZONE_SUBTY||'',isSpecialFloodHazardArea:attributes.SFHA_TF==='T',baseFloodElevation:attributes.STATIC_BFE,depth:attributes.DEPTH,velocity:attributes.VELOCITY};};const calculateFloodScore=attributes=>{let baseScore=200;// Start with max score (safest)\n// Special Flood Hazard Area is the biggest factor\nif(attributes.isSpecialFloodHazardArea){baseScore-=100;}// Zone-specific adjustments\nswitch(attributes.zoneId){case'V':case'VE':baseScore-=75;// Coastal high-velocity wave action\nbreak;case'A':case'AE':case'AH':case'AO':baseScore-=50;// 1% annual chance flood areas\nbreak;case'X':if(attributes.subtype==='0.2 PCT ANNUAL CHANCE FLOOD HAZARD'){baseScore-=25;// 0.2% annual chance flood areas\n}break;}// Adjust for depth if available\nif(attributes.depth){baseScore-=Math.min(25,attributes.depth*5);}// Adjust for velocity if available\nif(attributes.velocity){baseScore-=Math.min(25,attributes.velocity*2);}// Ensure score stays within 0-200 range\nreturn Math.max(0,Math.min(200,baseScore));};const determineRiskLevel=score=>{if(score<=50)return'High';if(score<=100)return'Moderate';if(score<=150)return'Low';return'Minimal';};const fetchCrimeData=async location=>{try{var _agencyData$data,_agencyData$data$agen,_agencyData$data$agen2,_violentCrime$data,_violentCrime$data$;// Updated base URL and endpoint\nconst baseUrl='https://api.usa.gov/crime/fbi/cde';const apiKey='YOUR_NEW_API_KEY';// Replace with your new API key\n// First get the agency data\nconst agencyUrl=`${baseUrl}/agencies/byLocation?lat=${location.lat}&lng=${location.lng}&api_key=${apiKey}`;console.log('Fetching agency data:',agencyUrl);const agencyResponse=await fetch(agencyUrl,{headers:{'Accept':'application/json'}});if(!agencyResponse.ok){const errorText=await agencyResponse.text();console.error('Agency API Error:',errorText);throw new Error(`Agency API Error: ${agencyResponse.status}`);}const agencyData=await agencyResponse.json();console.log('Agency Data:',agencyData);if(!(agencyData!==null&&agencyData!==void 0&&(_agencyData$data=agencyData.data)!==null&&_agencyData$data!==void 0&&(_agencyData$data$agen=_agencyData$data.agencies)!==null&&_agencyData$data$agen!==void 0&&(_agencyData$data$agen2=_agencyData$data$agen[0])!==null&&_agencyData$data$agen2!==void 0&&_agencyData$data$agen2.ori)){console.warn('No agency found for location');return getDefaultCrimeStats();}const ori=agencyData.data.agencies[0].ori;const startYear=2019;const endYear=2023;// Function to fetch specific crime type data\nconst fetchCrimeType=async offense=>{const url=`${baseUrl}/offense/agencies/${ori}/${offense}/${startYear}/${endYear}?api_key=${apiKey}`;console.log(`Fetching ${offense} data:`,url);const response=await fetch(url,{headers:{'Accept':'application/json'}});if(!response.ok){const errorText=await response.text();console.error(`${offense} API Error:`,errorText);throw new Error(`${offense} API Error: ${response.status}`);}return response.json();};// Fetch all crime types\nconst[violentCrime,propertyCrime,assaults,robberies,burglaries,thefts,vehicleThefts]=await Promise.all([fetchCrimeType('violent-crime'),fetchCrimeType('property-crime'),fetchCrimeType('aggravated-assault'),fetchCrimeType('robbery'),fetchCrimeType('burglary'),fetchCrimeType('larceny'),fetchCrimeType('motor-vehicle-theft')]);// Get most recent year's data\nconst getRecentData=data=>{var _data$data;if(!(data!==null&&data!==void 0&&(_data$data=data.data)!==null&&_data$data!==void 0&&_data$data.length))return 0;const validData=data.data.filter(d=>d.actual!==undefined&&d.population>0);return validData.length>0?validData[validData.length-1].actual:0;};const population=(violentCrime===null||violentCrime===void 0?void 0:(_violentCrime$data=violentCrime.data)===null||_violentCrime$data===void 0?void 0:(_violentCrime$data$=_violentCrime$data[0])===null||_violentCrime$data$===void 0?void 0:_violentCrime$data$.population)||100000;const totalViolentCrime=getRecentData(violentCrime);const totalPropertyCrime=getRecentData(propertyCrime);// Calculate crime rate per 100,000 residents\nconst crimeRate=(totalViolentCrime+totalPropertyCrime)/population*100000;// Calculate safety score (inverse relationship with crime rate)\nconst safetyScore=Math.max(0,Math.min(100,100-crimeRate/50));// Calculate final score out of 200\nconst score=Math.round(safetyScore/100*200);return{crimeRate:Math.round(crimeRate),safetyScore:Math.round(safetyScore),violentCrime:totalViolentCrime,score,details:{assaults:getRecentData(assaults),robberies:getRecentData(robberies),burglaries:getRecentData(burglaries),thefts:getRecentData(thefts),vehicleThefts:getRecentData(vehicleThefts)}};}catch(error){console.error('Error fetching crime data:',error);// Return mock data as fallback\nreturn{crimeRate:3592,safetyScore:65,violentCrime:150,score:130,details:{assaults:85,robberies:25,burglaries:120,thefts:450,vehicleThefts:65}};}};const searchNearbyPlaces=async(service,location,radius,type)=>{return new Promise((resolve,reject)=>{service.nearbySearch({location,radius,type:type// Now passing a single string instead of array\n},(results,status)=>{if(status==='OK'&&results){resolve(results);}else if(status==='ZERO_RESULTS'){resolve([]);}else{reject(new Error(`Places search failed: ${status}`));}});});};const getDefaultCrimeStats=()=>({crimeRate:0,safetyScore:0,violentCrime:0,score:0,details:{assaults:0,robberies:0,burglaries:0,thefts:0,vehicleThefts:0}});const getStateFromAddress=address=>{// Try to match state in various formats\nconst patterns=[/,\\s*([A-Z]{2})\\s*\\d{5}/,// Matches \", TX 75019\"\n/,\\s*([A-Z]{2})\\s*,/,// Matches \", TX,\"\n/,\\s*([A-Z]{2})\\s*$/,// Matches \", TX\" at end\n/\\b([A-Z]{2})\\s*\\d{5}/// Matches \"TX 75019\"\n];for(const pattern of patterns){const match=address.match(pattern);if(match&&match[1]){return match[1];}}// Additional check for common state names\nconst stateNames=Object.keys(STATE_HEAT_DATA);for(const state of stateNames){if(address.toUpperCase().includes(state)){return state;}}console.warn('No state found in address:',address);return'';};// Add these helper functions\nconst handleMapError=error=>{console.error('Map error:',error);let errorMessage='An error occurred with the map.';switch(error.code){case'ZERO_RESULTS':errorMessage='No results found for this location.';break;case'OVER_QUERY_LIMIT':errorMessage='Too many requests. Please try again later.';break;case'REQUEST_DENIED':errorMessage='Map request was denied. Please check your API key.';break;case'INVALID_REQUEST':errorMessage='Invalid map request.';break;default:if(error.message){errorMessage=error.message;}}return errorMessage;};const retryMapOperation=async function(operation){let maxRetries=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;let delay=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1000;for(let i=0;i<maxRetries;i++){try{return await operation();}catch(error){if(i===maxRetries-1)throw error;await new Promise(resolve=>setTimeout(resolve,delay*(i+1)));}}};// Define specific place types we care about\nconst IMPORTANT_PLACES={// Shopping\n'grocery_or_supermarket':5,// Kroger, Walmart, etc.\n'supermarket':5,// Additional tag for supermarkets\n'shopping_mall':5,// Major shopping centers\n'convenience_store':2,// Lower weight for convenience stores\n// Restaurants\n'restaurant':3,// Regular restaurants\n'cafe':2,// Cafes\n'meal_takeaway':2,// Take-out places\n//schools\n// Schools\n'primary_school':8,// Elementary schools\n'secondary_school':8,// Middle/High schools\n'school':8,// General schools\n// Parks\n'park':1,// Public parks\n'playground':2,// Playgrounds\n// Transport\n'transit_station':5,// Major transit stations\n'bus_station':3,// Bus stops\n'train_station':5// Train stations\n};// Type definitions\nconst getDefaultFloodData=()=>({score:0,riskLevel:'High',details:{zoneType:'Unknown',description:'Unable to determine flood zone',annualChance:'Unknown'}});// Update your results interface\n// Component props interfaces\n// Custom components with TypeScript support\nconst Card=_ref=>{let{children,className=''}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:`bg-white rounded-lg shadow p-4 ${className}`,children:children});};const Input=props=>/*#__PURE__*/_jsx(\"input\",{...props,className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"});const getMarketDescription=(stateCode,marketType)=>{switch(marketType){case'Buyer':return`Favorable buyer's market in ${stateCode}. High negotiation power for Buyers.`;case'Seller':return`Strong seller's market in ${stateCode}. Property values trending higher than average.`;default:return`Balanced market conditions in ${stateCode}. Normal negotiation power for both parties.`;}};const Button=_ref2=>{let{onClick,children,disabled,className=''}=_ref2;return/*#__PURE__*/_jsx(\"button\",{onClick:onClick,className:`px-4 py-2 rounded-lg text-white font-medium ${disabled?'bg-gray-400 cursor-not-allowed':'bg-blue-500 hover:bg-blue-600 active:bg-blue-700'} ${className}`,disabled:disabled,children:children});};const Select=props=>/*#__PURE__*/_jsx(\"select\",{...props,className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"});const Slider=_ref3=>{let{value,onChange,min,max,step,label}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:label}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[value,\"m\"]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:min,max:max,step:step,value:value,onChange:onChange,className:\"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer\"})]});};const MapControls=_ref4=>{let{searchRadius,onRadiusChange,onTogglePOIMarkers,showPOIMarkers,mapType,onMapTypeChange,onResetView}=_ref4;return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Map Controls\"}),/*#__PURE__*/_jsx(Slider,{value:searchRadius,onChange:e=>onRadiusChange(Number(e.target.value)),min:1000,max:5000,step:100,label:\"Search Radius\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Map Type:\"}),/*#__PURE__*/_jsxs(Select,{value:mapType,onChange:e=>onMapTypeChange(e.target.value),className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"roadmap\",children:\"Roadmap\"}),/*#__PURE__*/_jsx(\"option\",{value:\"satellite\",children:\"Satellite\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hybrid\",children:\"Hybrid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"terrain\",children:\"Terrain\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showPOIMarkers,onChange:e=>onTogglePOIMarkers(e.target.checked),className:\"rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Show POI Markers\"})]}),/*#__PURE__*/_jsx(Button,{onClick:onResetView,className:\"px-3 py-1 text-sm\",children:\"Reset View\"})]})]});};const CategoryIcon=_ref5=>{let{category}=_ref5;const icons={shopping:'🏪',restaurant:'🍽️',school:'🏫',park:'🌳',transport:'🚉'};return/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:icons[category]});};const PropertyAssessmentTool=()=>{const[searchInput,setSearchInput]=useState('');const[loading,setLoading]=useState(false);const[results,setResults]=useState(null);const[error,setError]=useState('');const[googleLoaded,setGoogleLoaded]=useState(false);const[map,setMap]=useState(null);const[marker,setMarker]=useState(null);const[searchCircle,setSearchCircle]=useState(null);const[poiMarkers,setPoiMarkers]=useState([]);const[showPOIMarkers,setShowPOIMarkers]=useState(true);const[mapType,setMapType]=useState('roadmap');// Change from google.maps.MapTypeId to string\nconst[searchRadius,setSearchRadius]=useState(1500);const mapRef=useRef(null);const GOOGLE_API_KEY='AIzaSyBf5WWjQksCtxIziKvs7kFq4qjPCf6SoZQ';const[floodZoneOverlay,setFloodZoneOverlay]=useState(null);const[floodData,setFloodData]=useState(null);// Add this function to fetch and analyze flood data\nconst createFloodZonePolygon=center=>{const points=[];const radius=0.01;// Roughly 1km\nconst sides=8;for(let i=0;i<sides;i++){const angle=i/sides*2*Math.PI;points.push({lat:center.lat+radius*Math.cos(angle),lng:center.lng+radius*Math.sin(angle)});}return points;};const getSafetyColor=score=>{if(score>=80)return'#22c55e';// green-500\nif(score>=60)return'#84cc16';// lime-500\nif(score>=40)return'#eab308';// yellow-500\nif(score>=20)return'#f97316';// orange-500\nreturn'#ef4444';// red-500\n};const getCrimeRateLevel=rate=>{if(rate<2000)return'Very Low';if(rate<3000)return'Low';if(rate<4000)return'Moderate';if(rate<5000)return'High';return'Very High';};const getViolentCrimeLevel=count=>{if(count<50)return'Very Low';if(count<100)return'Low';if(count<200)return'Moderate';if(count<300)return'High';return'Very High';};const getViolentCrimeColor=count=>{if(count<50)return'text-green-600';if(count<100)return'text-lime-600';if(count<200)return'text-yellow-600';if(count<300)return'text-orange-600';return'text-red-600';};const getSafetyAnalysis=(safetyScore,crimeRate)=>{if(safetyScore>=80){return`This area demonstrates exceptional safety standards with a remarkably low crime rate of ${crimeRate} per 100,000 residents. The community benefits from effective law enforcement and strong neighborhood safety programs.`;}if(safetyScore>=60){return`The area maintains good safety levels with a moderate crime rate of ${crimeRate} per 100,000 residents. While generally safe, standard precautions are recommended.`;}if(safetyScore>=40){return`Safety in this area is moderate with a crime rate of ${crimeRate} per 100,000 residents. Additional security measures and awareness are recommended.`;}return`The area shows elevated crime levels with a rate of ${crimeRate} per 100,000 residents. Comprehensive security measures and increased caution are strongly advised.`;};const getPoliceResponse=safetyScore=>{if(safetyScore>=80)return'Excellent';if(safetyScore>=60)return'Good';if(safetyScore>=40)return'Average';return'Below Average';};const getCommunityRating=safetyScore=>{if(safetyScore>=80)return'Very Safe';if(safetyScore>=60)return'Safe';if(safetyScore>=40)return'Moderate';return'Caution Advised';};useEffect(()=>{const loadGoogleMaps=()=>{// Check if Google Maps is already loaded\nconst googleMapsScript=document.querySelector('script[src*=\"maps.googleapis.com\"]');if(googleMapsScript){document.head.removeChild(googleMapsScript);}const script=document.createElement('script');script.src=`https://maps.googleapis.com/maps/api/js?key=${GOOGLE_API_KEY}&libraries=places,drawing`;script.async=true;script.defer=true;script.onload=()=>{setGoogleLoaded(true);if(mapRef.current){initMap();}};document.head.appendChild(script);};loadGoogleMaps();return()=>{const script=document.querySelector('script[src*=\"maps.googleapis.com\"]');if(script){document.head.removeChild(script);}};},[]);useEffect(()=>{if(map&&window.google){map.setMapTypeId(mapType);}},[mapType,map]);// Update the MapControls props interface\nuseEffect(()=>{if(searchCircle){searchCircle.setRadius(searchRadius);}},[searchRadius,searchCircle]);useEffect(()=>{poiMarkers.forEach(marker=>{marker.setVisible(showPOIMarkers);});},[showPOIMarkers,poiMarkers]);// Continue with the rest of your component implementation...\n// I'll continue with the remaining functions in the next part.\nconst getStateRanking=stateCode=>{const states=Object.entries(STATE_HEAT_DATA).sort((_ref6,_ref7)=>{let[,a]=_ref6;let[,b]=_ref7;return b.average-a.average;}).map(_ref8=>{let[code]=_ref8;return code;});return states.indexOf(stateCode)+1;};const clearPOIMarkers=()=>{poiMarkers.forEach(marker=>marker.setMap(null));setPoiMarkers([]);};const getPriceTrend=average=>{// Calculate price trend based on market average\nif(average>=60)return 8.5;if(average<=40)return 2.5;return 5.5;};const getAverageDays=average=>{// Calculate average days on market based on market average\nif(average>=60)return 25;if(average<=40)return 75;return 45;};const getInventoryLevel=average=>{if(average>=60)return'Low';if(average<=40)return'High';return'Moderate';};const createPOIMarker=(place,category)=>{var _place$geometry;if(!map||!((_place$geometry=place.geometry)!==null&&_place$geometry!==void 0&&_place$geometry.location)){throw new Error('Invalid place data or map not initialized');}const marker=new google.maps.Marker({position:place.geometry.location,map:showPOIMarkers?map:null,title:place.name||'',icon:{url:`https://maps.google.com/mapfiles/ms/icons/${getPOIColor(category)}-dot.png`,scaledSize:new google.maps.Size(32,32)}});return marker;};const getPOIColor=category=>{const colors={shopping:'yellow',restaurant:'red',school:'blue',park:'green',transport:'purple'};return colors[category];};const initMap=()=>{if(!mapRef.current)return;const defaultLocation={lat:32.9612,lng:-96.9902};// Centered on Coppell, TX\nconst mapInstance=new window.google.maps.Map(mapRef.current,{zoom:12,center:defaultLocation,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:true,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},zoomControl:true,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},scaleControl:true,streetViewControl:true,fullscreenControl:true});mapInstance.addListener('click',e=>{if(e.latLng){const clickedLocation={lat:e.latLng.lat(),lng:e.latLng.lng()};updateMarkerAndCircle(clickedLocation);void analyzeLocation(clickedLocation);}});setMap(mapInstance);};const updateMarkerAndCircle=location=>{if(!map)return;// Update or create marker\nif(marker){marker.setPosition(location);}else{const newMarker=new google.maps.Marker({position:location,map:map,draggable:true});newMarker.addListener('dragend',()=>{var _newMarker$getPositio,_newMarker$getPositio2;const newLocation={lat:((_newMarker$getPositio=newMarker.getPosition())===null||_newMarker$getPositio===void 0?void 0:_newMarker$getPositio.lat())||0,lng:((_newMarker$getPositio2=newMarker.getPosition())===null||_newMarker$getPositio2===void 0?void 0:_newMarker$getPositio2.lng())||0};updateMarkerAndCircle(newLocation);void analyzeLocation(newLocation);});setMarker(newMarker);}// Update or create search radius circle\nif(searchCircle){searchCircle.setCenter(location);}else{const newCircle=new google.maps.Circle({map:map,center:location,radius:searchRadius,fillColor:'#4299e1',fillOpacity:0.15,strokeColor:'#4299e1',strokeWeight:2});setSearchCircle(newCircle);}map.panTo(location);map.setZoom(14);};const determineMarketType=average=>{if(average<=40)return'Buyer';if(average>=60)return'Seller';return'Balanced';};const getHeatMapColor=average=>{// Higher values are more blue (seller's market)\n// Lower values are more red (buyer's market)\nconst normalizedValue=(average-32.8)/(81.1-32.8);// Normalize based on min/max from data\nconst red=Math.round(255*(1-normalizedValue));const blue=Math.round(255*normalizedValue);return`rgb(${red}, ${Math.min(red,blue)/2}, ${blue})`;};const analyzeLocation=async location=>{const service=new google.maps.places.PlacesService(map);const geocoder=new google.maps.Geocoder();const geocodeResult=await new Promise((resolve,reject)=>{geocoder.geocode({location},(results,status)=>{if(status==='OK'&&results!==null&&results!==void 0&&results[0]){resolve(results[0]);}else{reject(new Error('Geocoding failed'));}});});//const stateCode = getStateFromAddress(geocodeResult.formatted_address);\n//const stateData = STATE_HEAT_DATA[stateCode];\nconst stateCode=getStateFromAddress(geocodeResult.formatted_address);let heatMapAnalysis;if(stateCode&&STATE_HEAT_DATA[stateCode]){const stateData=STATE_HEAT_DATA[stateCode];const marketType=determineMarketType(stateData.average);heatMapAnalysis={score:stateData.finalScore,details:{stateCode:stateCode,average:stateData.average,score:stateData.finalScore,marketType:marketType,trend:stateData.average<=40?'Falling':stateData.average>=60?'Rising':'Stable'}};}else{console.error('State not found in address:',geocodeResult.formatted_address);heatMapAnalysis={score:0,details:{stateCode:'N/A',average:0,score:0,marketType:'Balanced',trend:'Stable'}};}const analyzeSentiment=async(service,location,radius)=>{try{// Get nearby places with their reviews\nconst places=await new Promise((resolve,reject)=>{service.nearbySearch({location,radius,type:['establishment']},(results,status)=>{if(status==='OK'&&results)resolve(results);else if(status==='ZERO_RESULTS')resolve([]);else reject(new Error(`Places search failed: ${status}`));});});let totalRating=0;let totalReviews=0;let recentReviews=[];let priceSum=0;let priceCount=0;const keywords=new Map();// Analyze each place\nfor(const place of places){if(!place.place_id)continue;// Get detailed place information including reviews\nconst details=await new Promise((resolve,reject)=>{service.getDetails({placeId:place.place_id,fields:['rating','review','user_ratings_total','price_level']},(result,status)=>{if(status==='OK'&&result)resolve(result);else reject(new Error(`Place details failed: ${status}`));});});if(details.rating){totalRating+=details.rating;totalReviews+=details.user_ratings_total||0;}if(details.price_level!==undefined){priceSum+=details.price_level;priceCount++;}// Process reviews\nif(details.reviews){recentReviews.push(...details.reviews.map(review=>({rating:review.rating,text:review.text,time:review.time})));// Extract keywords from reviews\ndetails.reviews.forEach(review=>{const words=review.text.toLowerCase().split(/\\W+/).filter(word=>word.length>3).filter(word=>!['this','that','with','from','they','have'].includes(word));words.forEach(word=>{keywords.set(word,(keywords.get(word)||0)+1);});});}}// Calculate averages and scores\nconst averageRating=totalReviews>0?totalRating/places.length:0;const averagePrice=priceCount>0?priceSum/priceCount:0;// Analyze review sentiment\nconst sentimentCounts={positive:recentReviews.filter(r=>r.rating>=4).length,neutral:recentReviews.filter(r=>r.rating===3).length,negative:recentReviews.filter(r=>r.rating<=2).length};// Calculate recent trend\nconst recentTrend=calculateReviewTrend(recentReviews);// Get top keywords\nconst topKeywords=[...keywords.entries()].sort((a,b)=>b[1]-a[1]).slice(0,5).map(_ref9=>{let[word]=_ref9;return word;});// Calculate final sentiment score (out of 200)\nconst sentimentScore=calculateSentimentScore({averageRating,totalReviews,recentTrend,sentimentCounts,averagePrice});return{score:sentimentScore,reviews:sentimentCounts,details:{averageRating:averageRating.toFixed(1),totalReviews,communityEngagement:getCommunityEngagement(totalReviews),recentTrend,priceLevel:Math.round(averagePrice),topKeywords}};}catch(error){console.error('Sentiment analysis error:',error);return getDefaultSentimentAnalysis();}};const calculateReviewTrend=reviews=>{if(reviews.length<2)return'stable';const sortedReviews=[...reviews].sort((a,b)=>b.time-a.time);const recentReviews=sortedReviews.slice(0,Math.ceil(sortedReviews.length/2));const olderReviews=sortedReviews.slice(Math.ceil(sortedReviews.length/2));const recentAvg=recentReviews.reduce((sum,r)=>sum+r.rating,0)/recentReviews.length;const olderAvg=olderReviews.reduce((sum,r)=>sum+r.rating,0)/olderReviews.length;if(recentAvg>olderAvg+0.3)return'improving';if(recentAvg<olderAvg-0.3)return'declining';return'stable';};const calculateSentimentScore=_ref10=>{let{averageRating,totalReviews,recentTrend,sentimentCounts,averagePrice}=_ref10;let score=0;// Rating score (max 100)\nscore+=averageRating/5*100;// Review volume score (max 30)\nscore+=Math.min(30,totalReviews/10);// Trend bonus (max 20)\nif(recentTrend==='improving')score+=20;else if(recentTrend==='stable')score+=10;// Sentiment ratio score (max 30)\nconst totalSentiments=sentimentCounts.positive+sentimentCounts.neutral+sentimentCounts.negative;if(totalSentiments>0){const positiveRatio=sentimentCounts.positive/totalSentiments;score+=positiveRatio*30;}// Price level adjustment (max 20)\nconst priceScore=20-averagePrice*5;// Lower prices get higher scores\nscore+=Math.max(0,priceScore);return Math.round(Math.min(200,score));};const getCommunityEngagement=totalReviews=>{if(totalReviews>500)return'Very High';if(totalReviews>200)return'High';if(totalReviews>100)return'Medium';if(totalReviews>50)return'Low';return'Very Low';};const getDefaultSentimentAnalysis=()=>({score:0,reviews:{positive:0,neutral:0,negative:0},details:{averageRating:'0.0',totalReviews:0,communityEngagement:'Low',recentTrend:'stable',priceLevel:0,topKeywords:[]}});if(!map)return;setLoading(true);setError('');clearPOIMarkers();try{const floodZoneData=await fetchFloodZoneData(location);setFloodData(floodZoneData);// Update flood zone visualization\nif(floodZoneOverlay){floodZoneOverlay.setMap(null);}if(floodZoneData.geometry&&map){const newOverlay=new google.maps.Polygon({paths:floodZoneData.geometry,strokeColor:getFloodZoneColor(floodZoneData.score),strokeOpacity:0.8,strokeWeight:2,fillColor:getFloodZoneColor(floodZoneData.score),fillOpacity:0.35,map:map});setFloodZoneOverlay(newOverlay);}const updateFloodZoneVisualization=(floodData,map)=>{if(floodZoneOverlay){floodZoneOverlay.setMap(null);}if(floodData.geometry&&floodData.geometry.length>0){const newOverlay=new google.maps.Polygon({paths:floodData.geometry,strokeColor:getFloodZoneColor(floodData.score),strokeOpacity:0.8,strokeWeight:2,fillColor:getFloodZoneColor(floodData.score),fillOpacity:0.35,map:map});// Add hover effect\nnewOverlay.addListener('mouseover',()=>{newOverlay.setOptions({fillOpacity:0.6,strokeWeight:3});});newOverlay.addListener('mouseout',()=>{newOverlay.setOptions({fillOpacity:0.35,strokeWeight:2});});setFloodZoneOverlay(newOverlay);}};const[crimeAnalysis,geocodeResult]=await Promise.all([fetchCrimeData(location,FBI_API_KEY),new Promise((resolve,reject)=>{const geocoder=new google.maps.Geocoder();geocoder.geocode({location},(results,status)=>{if(status==='OK'&&results!==null&&results!==void 0&&results[0]){resolve(results[0]);}else{reject(new Error('Geocoding failed'));}});})]);// Get place details and address first\nconst poiCategories={shopping:0,restaurant:0,school:0,park:0,transport:0};const poiScores={shopping:0,restaurant:0,school:0,park:0,transport:0};const newMarkers=[];const processedPlaces=new Set();// Search for each important place type\nfor(const[placeType,weight]of Object.entries(IMPORTANT_PLACES)){try{const places=await new Promise((resolve,reject)=>{service.nearbySearch({location,radius:searchRadius,type:placeType},(results,status)=>{if(status==='OK'&&results)resolve(results);else if(status==='ZERO_RESULTS')resolve([]);else reject(new Error(`Places search failed: ${status}`));});});places.forEach(place=>{if(!place.place_id||processedPlaces.has(place.place_id))return;processedPlaces.add(place.place_id);let category=null;let score=weight;if(placeType.includes('supermarket')||placeType.includes('shopping')){var _place$name;category='shopping';if((_place$name=place.name)!==null&&_place$name!==void 0&&_place$name.match(/walmart|kroger|target|tom thumb|costco|sam's club|whole foods/i)){score*=2;}}else if(placeType.includes('restaurant')||placeType.includes('cafe')){category='restaurant';}else if(placeType.includes('school')){var _place$name2;category='school';if((_place$name2=place.name)!==null&&_place$name2!==void 0&&_place$name2.match(/elementary|middle|high school/i)){score*=1.5;}}else if(placeType.includes('park')||placeType.includes('playground')){var _place$name3;category='park';if((_place$name3=place.name)!==null&&_place$name3!==void 0&&_place$name3.match(/community|regional|municipal/i)){score*=1.5;}}else if(placeType.includes('station')){category='transport';}if(category){poiCategories[category]++;poiScores[category]+=score;newMarkers.push(createPOIMarker(place,category));}});await new Promise(resolve=>setTimeout(resolve,200));}catch(error){console.warn(`Error searching for ${placeType}:`,error);}}setPoiMarkers(newMarkers);const MAX_CATEGORY_SCORES={shopping:50,// Major focus on retail availability\nrestaurant:38,// Important but not critical\nschool:10,// High importance for families\npark:25,// Good for community value\ntransport:75// Helpful but not crucial\n};// Calculate final category scores\nconst finalScores={shopping:Math.min(200,poiScores.shopping/MAX_CATEGORY_SCORES.shopping*200),restaurant:Math.min(200,poiScores.restaurant/MAX_CATEGORY_SCORES.restaurant*200),school:Math.min(200,poiScores.school/MAX_CATEGORY_SCORES.school*200),park:Math.min(200,poiScores.park/MAX_CATEGORY_SCORES.park*200),transport:Math.min(200,poiScores.transport/MAX_CATEGORY_SCORES.transport*200)};// Calculate overall POI score\nconst poiScore=Math.round(Math.min(200,Object.values(finalScores).reduce((a,b)=>a+b,0)/5));// Mock sentiment data (replace with real data in production)\nconst min=100;const max=200;const sentimentScore=Math.floor(Math.random()*(max-min+1))+min;let mockRating=Math.random()*(5-2.9+1)+2;mockRating=Math.round(mockRating*10)/10;const totalRatings=Math.floor(Math.random()*(max-min+1))+min;;// Set final results\nsetResults({poi:{score:poiScore,details:poiCategories},sentiment:{score:sentimentScore,details:{averageRating:mockRating.toString(),totalReviews:totalRatings,communityEngagement:totalRatings>100?'High':totalRatings>50?'Medium':'Low'}},heatMap:heatMapAnalysis,// Add heat map data\ncrime:crimeAnalysis,propertyDetails:{address:geocodeResult.formatted_address,coordinates:location,nearbyPOIs:newMarkers.length,searchRadius:searchRadius}});}catch(error){console.error('Analysis error:',error);setError('Error analyzing location. Please try a different location or adjust the search radius.');}finally{setLoading(false);}};const handleSearchSubmit=async()=>{if(!searchInput.trim()){setError('Please enter an address or coordinates');return;}try{const geocoder=new google.maps.Geocoder();const result=await new Promise((resolve,reject)=>{geocoder.geocode({address:searchInput},(results,status)=>{if(status==='OK'&&results!==null&&results!==void 0&&results[0]){resolve(results[0]);}else{reject(new Error('Geocoding failed'));}});});const location={// Updated to use GeoLocation\nlat:result.geometry.location.lat(),lng:result.geometry.location.lng()};updateMarkerAndCircle(location);void analyzeLocation(location);}catch(error){setError('Could not find location. Please check the address.');console.error('Search error:',error);}};// ... continuing from previous parts\nconst calculateTotalScore=results=>{return results.poi.score+results.sentiment.score+results.heatMap.score+results.crime.score;;};const renderAssessmentSummary=score=>{if(score>=750){return/*#__PURE__*/_jsx(\"div\",{className:\"text-green-600\",children:\"Excellent location! High potential for development with strong community features.\"});}else if(score>=500){return/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-600\",children:\"Good location with balanced amenities and growth potential.\"});}else if(score>=250){return/*#__PURE__*/_jsx(\"div\",{className:\"text-yellow-600\",children:\"Moderate potential. Consider future development plans in the area.\"});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600\",children:\"Limited amenities. May require significant infrastructure development.\"});}};if(!googleLoaded){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-semibold\",children:\"Loading Google Maps...\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Select Location\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Enter address or coordinates (lat,lng)\",value:searchInput,onChange:e=>setSearchInput(e.target.value)}),/*#__PURE__*/_jsx(Button,{onClick:()=>void handleSearchSubmit(),disabled:loading,children:loading?'Analyzing...':'Search'})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-sm\",children:error})]})]}),/*#__PURE__*/_jsx(MapControls,{searchRadius:searchRadius,onRadiusChange:setSearchRadius,onTogglePOIMarkers:setShowPOIMarkers,showPOIMarkers:showPOIMarkers,mapType:mapType,onMapTypeChange:setMapType,onResetView:()=>{if(marker&&map){const position=marker.getPosition();if(position){map.setCenter(position);map.setZoom(14);}}}}),/*#__PURE__*/_jsx(\"div\",{ref:mapRef,className:\"w-full h-[600px] rounded-lg shadow-lg border border-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium mb-2\",children:\"Map Legend:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2\",children:Object.entries({shopping:'yellow',restaurant:'red',school:'blue',park:'green',transport:'purple'}).map(_ref11=>{let[category,color]=_ref11;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-4 h-4 rounded-full\",style:{backgroundColor:color}}),/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:category})]},category);})})]}),results&&/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-48 h-48\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full\",style:{background:`conic-gradient(\n                          ${calculateTotalScore(results)>=600?'#22c55e':calculateTotalScore(results)>=400?'#eab308':'#ef4444'} 270deg,\n                          #e5e7eb 270deg\n                        )`}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-2 bg-white rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-5xl font-bold\",style:{color:calculateTotalScore(results)>=600?'#22c55e':calculateTotalScore(results)>=400?'#eab308':'#ef4444'},children:calculateTotalScore(results).toFixed(2)})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold mt-4 px-4 py-2 rounded-lg\",style:{color:calculateTotalScore(results)>=600?'#22c55e':calculateTotalScore(results)>=400?'#eab308':'#ef4444',backgroundColor:calculateTotalScore(results)>=600?'#22c55e15':calculateTotalScore(results)>=400?'#eab30815':'#ef444415'},children:calculateTotalScore(results)>=600?'Valuable area':calculateTotalScore(results)>=400?'Developing area':'Undeveloped area'})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:results&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Location Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Address:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-right\",children:results.propertyDetails.address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Coordinates:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[results.propertyDetails.coordinates.lat.toFixed(6),\",\",results.propertyDetails.coordinates.lng.toFixed(6)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Search Radius:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[results.propertyDetails.searchRadius,\"m\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Total POIs Found:\"}),/*#__PURE__*/_jsx(\"span\",{children:results.propertyDetails.nearbyPOIs})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Points of Interest\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold\",children:[results.poi.score,\"/200\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:Object.entries(results.poi.details).map(_ref12=>{let[category,count]=_ref12;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(CategoryIcon,{category:category}),/*#__PURE__*/_jsxs(\"span\",{className:\"capitalize\",children:[category,\": \",count]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[Math.round(count*(category==='school'?20:category==='park'?12:10)),\"-Data-Points\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-3 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:`h-full rounded-full ${category==='shopping'?'bg-yellow-500':category==='restaurant'?'bg-red-500':category==='school'?'bg-blue-500':category==='park'?'bg-green-500':'bg-purple-500'}`,style:{width:`${Math.min(100,count*20)}%`}})})]},category);})})]}),results.heatMap&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Market Heat Map\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold\",children:[results.heatMap.score.toFixed(2),\"/200\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"State Market Index\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",style:{color:getHeatMapColor(results.heatMap.details.average)},children:[results.heatMap.details.stateCode,\" - \",results.heatMap.details.average.toFixed(1)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-6 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full rounded-full transition-all duration-300\",style:{width:`${(results.heatMap.details.average-32.8)/(81.1-32.8)*100}%`,backgroundColor:getHeatMapColor(results.heatMap.details.average)}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Buyer's Market (<40)\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Balanced (40-60)\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Seller's Market (>60)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Market Type\"}),/*#__PURE__*/_jsxs(\"span\",{className:`px-3 py-1 rounded-full text-sm font-medium ${results.heatMap.details.marketType==='Seller'?'bg-blue-100 text-blue-800':results.heatMap.details.marketType==='Buyer'?'bg-red-100 text-red-800':'bg-yellow-100 text-yellow-800'}`,children:[results.heatMap.details.marketType,\" Market\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Demand Level\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-3 h-3 rounded-full ${results.heatMap.details.average>=60?'bg-blue-500':results.heatMap.details.average<=40?'bg-red-500':'bg-yellow-500'}`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:results.heatMap.details.average>=60?'High Demand':results.heatMap.details.average<=40?'Low Demand':'Moderate Demand'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:\"State Ranking\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-5xl font-bold\",children:[\"#\",getStateRanking(results.heatMap.details.stateCode),\"/50\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Among all US states\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:\"Price Trend\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-green-600\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-6xl font-bold\",children:[getPriceTrend(results.heatMap.details.average),\"%\"]}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 10l7-7m0 0l7 7m-7-7v18\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Annual appreciation\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:\"Market Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:results.heatMap.details.marketType==='Seller'?`Strong seller's market in ${results.heatMap.details.stateCode}. Property values are trending significantly higher than average, with sellers having strong negotiating power. Current market conditions favor quick sales and competitive pricing.`:results.heatMap.details.marketType==='Buyer'?`Favorable buyer's market in ${results.heatMap.details.stateCode}. Current conditions present good opportunities for property investment, with buyers having increased negotiating power. Properties may stay on market longer, allowing for more thorough evaluation.`:`Balanced market conditions in ${results.heatMap.details.stateCode}. Market shows healthy equilibrium between buyers and sellers, with stable pricing and reasonable negotiation opportunities for both parties.`}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Avg. Days on Market: \"}),getAverageDays(results.heatMap.details.average),\" days\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Inventory Level: \"}),getInventoryLevel(results.heatMap.details.average)]})]})]})]})]}),results&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Flood Zone Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold\",children:[floodData.score,\"/200\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Flood Risk Level\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",style:{color:getFloodZoneColor(floodData.score)},children:[floodData.riskLevel,\" Risk\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-6 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full rounded-full transition-all duration-300\",style:{width:`${floodData.score/200*100}%`,backgroundColor:getFloodZoneColor(floodData.score)}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"High Risk (<50)\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Moderate (50-100)\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Low Risk (>150)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Zone Type\"}),/*#__PURE__*/_jsxs(\"span\",{className:`px-3 py-1 rounded-full text-sm font-medium ${floodData.details.zoneType==='VE'||floodData.details.zoneType==='A'?'bg-red-100 text-red-800':floodData.details.zoneType==='AE'?'bg-yellow-100 text-yellow-800':'bg-green-100 text-green-800'}`,children:[\"Zone \",floodData.details.zoneType]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Annual Chance\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-3 h-3 rounded-full ${floodData.details.annualChance.includes('1%')?'bg-red-500':floodData.details.annualChance.includes('0.2%')?'bg-yellow-500':'bg-green-500'}`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:floodData.details.annualChance})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:\"Base Flood Elevation\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl font-bold\",children:floodData.details.baseFloodElevation?`${floodData.details.baseFloodElevation}'`:'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Above sea level\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:\"Insurance Required\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-1 text-blue-600\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-4xl font-bold\",children:floodData.score<100?'Yes':'Optional'})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Federal requirement\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:\"Flood Risk Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:floodData.score<50?`High-risk flood area in Zone ${floodData.details.zoneType}. This location has significant flood risk with mandatory flood insurance requirements. Consider comprehensive flood protection measures and emergency planning.`:floodData.score<100?`Moderate flood risk area in Zone ${floodData.details.zoneType}. While not in the highest risk category, flood insurance is recommended. Regular monitoring of local flood conditions advised.`:`Low to minimal flood risk area in Zone ${floodData.details.zoneType}. This location has reduced flood risk compared to other areas. Standard precautions and optional flood insurance may still be prudent.`}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Community Rating: \"}),floodData.score>150?'Excellent':floodData.score>100?'Good':floodData.score>50?'Fair':'Poor']}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Protection Level: \"}),floodData.details.baseFloodElevation?'Standard':'Unknown']})]})]})]})]}),results&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Crime Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold\",children:[results.crime.score,\"/200\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Safety Score\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",style:{color:getSafetyColor(results.crime.safetyScore)},children:[results.crime.safetyScore,\"/100\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-2 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full rounded-full transition-all duration-300\",style:{width:`${results.crime.safetyScore}%`,backgroundColor:getSafetyColor(results.crime.safetyScore)}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Crime Rate\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold\",children:[results.crime.crimeRate.toLocaleString(),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-normal text-gray-500 ml-1\",children:\"per 100k\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:getCrimeRateLevel(results.crime.crimeRate)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Violent Crime\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold\",children:[results.crime.violentCrime.toLocaleString(),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-normal text-gray-500 ml-1\",children:\"incidents\"})]}),/*#__PURE__*/_jsx(\"div\",{className:`text-sm ${getViolentCrimeColor(results.crime.violentCrime)}`,children:getViolentCrimeLevel(results.crime.violentCrime)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:\"Crime Breakdown\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:Object.entries(results.crime.details).map(_ref13=>{let[type,count]=_ref13;return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:type.replace(/([A-Z])/g,' $1').trim()}),/*#__PURE__*/_jsxs(\"span\",{children:[count.toLocaleString(),\" incidents\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-blue-500 rounded-full\",style:{width:`${count/Math.max(...Object.values(results.crime.details))*100}%`}})})]})},type);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:\"Safety Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:getSafetyAnalysis(results.crime.safetyScore,results.crime.crimeRate)}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Police Response: \"}),getPoliceResponse(results.crime.safetyScore)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Community Rating: \"}),getCommunityRating(results.crime.safetyScore)]})]})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Area Sentiment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold\",children:[results.sentiment.score,\"/200\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Rating\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[results.sentiment.details.averageRating,\" / 5.0\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-3 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-yellow-400 rounded-full\",style:{width:`${parseFloat(results.sentiment.details.averageRating)/5*100}%`}})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-2 rounded text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-600\",children:\"Positive\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:Math.floor(Math.random()*(30-20+1))+20})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-2 rounded text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-yellow-600\",children:\"Neutral\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:Math.floor(Math.random()*(15-4+1))+12})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 p-2 rounded text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-red-600\",children:\"Negative\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:Math.floor(Math.random()*(10-6+1))+4})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Reviews:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:results.sentiment.details.totalReviews})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Community Engagement:\"}),/*#__PURE__*/_jsx(\"div\",{className:`px-2 py-1 rounded-full text-sm ${results.sentiment.details.communityEngagement==='High'?'bg-green-100 text-green-600':results.sentiment.details.communityEngagement==='Medium'?'bg-yellow-100 text-yellow-600':'bg-red-100 text-red-600'}`,children:results.sentiment.details.communityEngagement})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Trend:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-green-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Improving\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-3 rounded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-blue-800 mb-2\",children:\"Area Highlights\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\",children:\"Family Friendly\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\",children:\"Quiet\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\",children:\"Safe\"})]})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4\",children:\"Overall Assessment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-4xl font-bold text-center\",children:[calculateTotalScore(results),\"/1000\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-4 bg-gray-200 rounded-full overflow-hidden mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-blue-500 rounded-full transition-all duration-500\",style:{width:`${calculateTotalScore(results)/1000*100}%`}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-1 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"250\"}),/*#__PURE__*/_jsx(\"span\",{children:\"500\"}),/*#__PURE__*/_jsx(\"span\",{children:\"750\"}),/*#__PURE__*/_jsx(\"span\",{children:\"1000\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2\",children:\"Assessment Summary:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 text-sm\",children:renderAssessmentSummary(calculateTotalScore(results))})]})]})]})})]})});};export default PropertyAssessmentTool;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WaveAnimation","className","children","generateMockFloodData","location","generateScore","min","max","peak","random","Math","round","sqrt","score","riskLevel","getRiskLevel","getZoneType","zoneType","details","annualChance","getAnnualChance","baseFloodElevation","getBaseFloodElevation","insuranceRequired","communityRating","getCommunityRating","protectionLevel","getProtectionLevel","description","getZoneDescription","elevation","STATE_HEAT_DATA","stateName","average","finalScore","FBI_API_KEY","fetchFloodZoneData","Promise","resolve","setTimeout","getFloodZoneColor","analyzeLocation","setLoading","floodData","setFloodData","map","radius","floodCircle","google","maps","Circle","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","center","floodZoneOverlay","setMap","setFloodZoneOverlay","error","console","processFloodZone","attributes","zoneId","FLD_ZONE","subtype","ZONE_SUBTY","isSpecialFloodHazardArea","SFHA_TF","STATIC_BFE","depth","DEPTH","velocity","VELOCITY","calculateFloodScore","baseScore","determineRiskLevel","fetchCrimeData","_agencyData$data","_agencyData$data$agen","_agencyData$data$agen2","_violentCrime$data","_violentCrime$data$","baseUrl","apiKey","agencyUrl","lat","lng","log","agencyResponse","fetch","headers","ok","errorText","text","Error","status","agencyData","json","data","agencies","ori","warn","getDefaultCrimeStats","startYear","endYear","fetchCrimeType","offense","url","response","violentCrime","propertyCrime","assaults","robberies","burglaries","thefts","vehicleThefts","all","getRecentData","_data$data","length","validData","filter","d","actual","undefined","population","totalViolentCrime","totalPropertyCrime","crimeRate","safetyScore","searchNearbyPlaces","service","type","reject","nearbySearch","results","getStateFromAddress","address","patterns","pattern","match","stateNames","Object","keys","state","toUpperCase","includes","handleMapError","errorMessage","code","message","retryMapOperation","operation","maxRetries","arguments","delay","i","IMPORTANT_PLACES","getDefaultFloodData","Card","_ref","Input","props","getMarketDescription","stateCode","marketType","Button","_ref2","onClick","disabled","Select","Slider","_ref3","value","onChange","step","label","MapControls","_ref4","searchRadius","onRadiusChange","onTogglePOIMarkers","showPOIMarkers","mapType","onMapTypeChange","onResetView","e","Number","target","checked","CategoryIcon","_ref5","category","icons","shopping","restaurant","school","park","transport","PropertyAssessmentTool","searchInput","setSearchInput","loading","setResults","setError","googleLoaded","setGoogleLoaded","marker","setMarker","searchCircle","setSearchCircle","poiMarkers","setPoiMarkers","setShowPOIMarkers","setMapType","setSearchRadius","mapRef","GOOGLE_API_KEY","createFloodZonePolygon","points","sides","angle","PI","push","cos","sin","getSafetyColor","getCrimeRateLevel","rate","getViolentCrimeLevel","count","getViolentCrimeColor","getSafetyAnalysis","getPoliceResponse","loadGoogleMaps","googleMapsScript","document","querySelector","head","removeChild","script","createElement","src","async","defer","onload","current","initMap","appendChild","window","setMapTypeId","setRadius","forEach","setVisible","getStateRanking","states","entries","sort","_ref6","_ref7","a","b","_ref8","indexOf","clearPOIMarkers","getPriceTrend","getAverageDays","getInventoryLevel","createPOIMarker","place","_place$geometry","geometry","Marker","position","title","name","icon","getPOIColor","scaledSize","Size","colors","defaultLocation","mapInstance","Map","zoom","mapTypeId","MapTypeId","ROADMAP","mapTypeControl","mapTypeControlOptions","style","MapTypeControlStyle","DROPDOWN_MENU","zoomControl","zoomControlOptions","ControlPosition","RIGHT_TOP","scaleControl","streetViewControl","fullscreenControl","addListener","latLng","clickedLocation","updateMarkerAndCircle","setPosition","newMarker","draggable","_newMarker$getPositio","_newMarker$getPositio2","newLocation","getPosition","setCenter","newCircle","panTo","setZoom","determineMarketType","getHeatMapColor","normalizedValue","red","blue","places","PlacesService","geocoder","Geocoder","geocodeResult","geocode","formatted_address","heatMapAnalysis","stateData","trend","analyzeSentiment","totalRating","totalReviews","recentReviews","priceSum","priceCount","keywords","place_id","getDetails","placeId","fields","result","rating","user_ratings_total","price_level","reviews","review","time","words","toLowerCase","split","word","set","get","averageRating","averagePrice","sentimentCounts","positive","r","neutral","negative","recentTrend","calculateReviewTrend","topKeywords","slice","_ref9","sentimentScore","calculateSentimentScore","toFixed","communityEngagement","getCommunityEngagement","priceLevel","getDefaultSentimentAnalysis","sortedReviews","ceil","olderReviews","recentAvg","reduce","sum","olderAvg","_ref10","totalSentiments","positiveRatio","priceScore","floodZoneData","newOverlay","Polygon","paths","updateFloodZoneVisualization","setOptions","crimeAnalysis","poiCategories","poiScores","newMarkers","processedPlaces","Set","placeType","weight","has","add","_place$name","_place$name2","_place$name3","MAX_CATEGORY_SCORES","finalScores","poiScore","values","floor","mockRating","totalRatings","poi","sentiment","toString","heatMap","crime","propertyDetails","coordinates","nearbyPOIs","handleSearchSubmit","trim","calculateTotalScore","renderAssessmentSummary","placeholder","ref","_ref11","color","backgroundColor","background","_ref12","width","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","toLocaleString","_ref13","replace","parseFloat"],"sources":["/Users/sanjith/Documents/GitHub/ranneL/src/RannelApp.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst WaveAnimation: React.FC = () => (\n  <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n    <div className=\"absolute inset-0 opacity-20\">\n      <div className=\"absolute inset-0 wave-animation\" />\n    </div>\n  </div>\n);\n// Add these interfaces for better type checking\ninterface POIWeights {\n  readonly [key: string]: number;\n}\n\ninterface FEMAFloodZoneResponse {\n  results: Array<{\n    attributes: {\n      FLD_ZONE: string;\n      ZONE_SUBTY: string;\n      SFHA_TF: string;\n      STATIC_BFE?: number;\n      DEPTH?: number;\n      VELOCITY?: number;\n    };\n    geometry: {\n      rings: number[][][];\n    };\n  }>;\n}\n\ninterface FEMAZoneAttributes {\n  zoneId: string;\n  subtype: string;\n  isSpecialFloodHazardArea: boolean;\n  baseFloodElevation?: number;\n  depth?: number;\n  velocity?: number;\n}\n\n\ninterface POIMaxScores {\n  readonly [key: string]: number;\n}\n\ninterface FloodZoneData {\n  score: number;\n  riskLevel: 'High' | 'Moderate' | 'Low' | 'Minimal';\n  details: {\n    zoneType: string;\n    description: string;\n    annualChance: string;\n    baseFloodElevation?: number;\n  };\n  geometry?: google.maps.LatLngLiteral[];\n}\n\ninterface GeoLocation {\n  lat: number;\n  lng: number;\n}\n\nconst generateMockFloodData = (location: GeoLocation): FloodZoneData => {\n  // Generate a random score with bias towards higher scores (lower flood risk)\n  // Using triangular distribution for more realistic data\n  const generateScore = (): number => {\n    const min = 50;\n    const max = 200;\n    const peak = 175; // Bias towards higher scores\n    const random = Math.random();\n    \n    if (random < (peak - min) / (max - min)) {\n      return Math.round(min + Math.sqrt(random * (max - min) * (peak - min)));\n    } else {\n      return Math.round(max - Math.sqrt((1 - random) * (max - min) * (max - peak)));\n    }\n  };\n\n  const score = generateScore();\n  const riskLevel = getRiskLevel(score);\n\n  // Generate zone type based on score\n  const getZoneType = (score: number): string => {\n    if (score > 150) return 'X';\n    if (score > 100) return 'X PROTECTED BY LEVEE';\n    if (score > 50) return 'AE';\n    return 'VE';\n  };\n\n  const zoneType = getZoneType(score);\n\n  return {\n    score,\n    riskLevel,\n    details: {\n      zoneType,\n      annualChance: getAnnualChance(score),\n      baseFloodElevation: getBaseFloodElevation(score),\n      insuranceRequired: score < 150,\n      communityRating: getCommunityRating(score),\n      protectionLevel: getProtectionLevel(score),\n      description: getZoneDescription(score)\n    }\n  };\n};\n\n// Helper functions for mock data\nconst getRiskLevel = (score: number): 'High' | 'Moderate' | 'Low' | 'Minimal' => {\n  if (score >= 150) return 'Minimal';\n  if (score >= 100) return 'Low';\n  if (score >= 50) return 'Moderate';\n  return 'High';\n};\n\nconst getAnnualChance = (score: number): string => {\n  if (score >= 150) return 'Less than 0.2% Annual Chance';\n  if (score >= 100) return '0.2% Annual Chance';\n  if (score >= 50) return '1% Annual Chance';\n  return '1% Annual Chance with Velocity';\n};\n\nconst getBaseFloodElevation = (score: number): string => {\n  if (score < 150) {\n    const elevation = Math.round(Math.random() * 15 + 5);\n    return `${elevation} ft`;\n  }\n  return 'N/A';\n};\n\nconst getCommunityRating = (score: number): string => {\n  if (score >= 150) return 'Excellent';\n  if (score >= 100) return 'Good';\n  if (score >= 50) return 'Fair';\n  return 'Poor';\n};\n\nconst getProtectionLevel = (score: number): string => {\n  if (score >= 150) return 'Excellent';\n  if (score >= 100) return 'Good';\n  if (score >= 50) return 'Moderate';\n  return 'Minimal';\n};\n\nconst getZoneDescription = (score: number): string => {\n  if (score >= 150) {\n    return 'Area of minimal flood hazard with very low risk of flooding. Standard precautions recommended.';\n  }\n  if (score >= 100) {\n    return 'Area protected by flood control systems with moderate protection. Basic flood insurance may be recommended.';\n  }\n  if (score >= 50) {\n    return 'Area with moderate flood risk. Consider flood protection measures and insurance coverage.';\n  }\n  return 'High-risk flood area with significant flood concerns. Comprehensive flood protection measures strongly advised.';\n};\n\ninterface StateHeatData {\n  stateName: string;\n  average: number;\n  finalScore: number;\n}\n\ninterface HeatMapDetails {\n  stateCode: string;\n  average: number;\n  score: number;\n  marketType: 'Buyer' | 'Balanced' | 'Seller';\n  trend: 'Rising' | 'Stable' | 'Falling';\n}\n\ninterface HeatMapAnalysis {\n  score: number;\n  details: HeatMapDetails;\n}\n\ninterface FBICrimeResponse {\n  data: Array<{\n    year: number;\n    actual: number;\n    cleared: number;\n    population: number;\n  }>;\n  error?: string;\n}\n\ninterface MapError extends Error {\n  code?: string;\n}\ninterface CrimeApiResponse {\n  results: Array<{\n    ori: string;\n    population: number;\n    violent_crime: number;\n    property_crime: number;\n    aggravated_assault: number;\n    robbery: number;\n    burglary: number;\n    larceny: number;\n    motor_vehicle_theft: number;\n  }>;\n}\n\ninterface CrimeStats {\n  crimeRate: number;\n  safetyScore: number;\n  violentCrime: number;\n  score: number;\n  details: CrimeDetails;\n}\n/*interface CrimeStats {\n  crimeRate: number;\n  safetyScore: number;\n  violentCrime: number;\n  score: number;\n  details: {\n    assaults: number;\n    robberies: number;\n    burglaries: number;\n    thefts: number;\n    vehicleThefts: number;\n  };\n}*/\n\n// Add CrimeDetails interface\ninterface CrimeDetails {\n  assaults: number;\n  robberies: number;\n  burglaries: number;\n  thefts: number;\n  vehicleThefts: number;\n}\n\n// Add CrimeData interface\ninterface CrimeData {\n  score: number;\n  crimeRate: number;\n  safetyScore: number;\n  violentCrime: number;\n  details: CrimeDetails;\n}\n\nconst STATE_HEAT_DATA: Record<string, StateHeatData> = {\n  \"CT\": { stateName: \"CT\", average: 81.1, finalScore: 191.33 },\n  \"RI\": { stateName: \"RI\", average: 77.8, finalScore: 184.34 },\n  \"NY\": { stateName: \"NY\", average: 74.2, finalScore: 174.46 },\n  \"ME\": { stateName: \"ME\", average: 72.4, finalScore: 169.16 },\n  \"AK\": { stateName: \"AK\", average: 69.7, finalScore: 164.34 },\n  \"IL\": { stateName: \"IL\", average: 67.1, finalScore: 158.07 },\n  \"MA\": { stateName: \"MA\", average: 66.8, finalScore: 156.87 },\n  \"ND\": { stateName: \"ND\", average: 66.6, finalScore: 157.11 },\n  \"MN\": { stateName: \"MN\", average: 64.3, finalScore: 150.60 },\n  \"NJ\": { stateName: \"NJ\", average: 62.4, finalScore: 148.67 },\n  \"WI\": { stateName: \"WI\", average: 61.7, finalScore: 144.34 },\n  \"VA\": { stateName: \"VA\", average: 60.5, finalScore: 143.37 },\n  \"NH\": { stateName: \"NH\", average: 59.8, finalScore: 140.48 },\n  \"MD\": { stateName: \"MD\", average: 59.7, finalScore: 141.93 },\n  \"PA\": { stateName: \"PA\", average: 59.5, finalScore: 140.48 },\n  \"OH\": { stateName: \"OH\", average: 59.4, finalScore: 138.31 },\n  \"MI\": { stateName: \"MI\", average: 59.4, finalScore: 137.83 },\n  \"CA\": { stateName: \"CA\", average: 57.9, finalScore: 136.14 },\n  \"VT\": { stateName: \"VT\", average: 56.7, finalScore: 133.01 },\n  \"NM\": { stateName: \"NM\", average: 56.1, finalScore: 133.73 },\n  \"WV\": { stateName: \"WV\", average: 55.7, finalScore: 131.57 },\n  \"SD\": { stateName: \"SD\", average: 54.3, finalScore: 128.19 },\n  \"DE\": { stateName: \"DE\", average: 54.0, finalScore: 128.43 },\n  \"KS\": { stateName: \"KS\", average: 52.0, finalScore: 121.93 },\n  \"UT\": { stateName: \"UT\", average: 51.7, finalScore: 122.65 },\n  \"NV\": { stateName: \"NV\", average: 51.3, finalScore: 121.45 },\n  \"MO\": { stateName: \"MO\", average: 50.7, finalScore: 119.52 },\n  \"WY\": { stateName: \"WY\", average: 49.6, finalScore: 114.70 },\n  \"WA\": { stateName: \"WA\", average: 48.9, finalScore: 114.46 },\n  \"IA\": { stateName: \"IA\", average: 48.3, finalScore: 112.53 },\n  \"CO\": { stateName: \"CO\", average: 47.0, finalScore: 110.12 },\n  \"IN\": { stateName: \"IN\", average: 46.3, finalScore: 107.71 },\n  \"NE\": { stateName: \"NE\", average: 45.8, finalScore: 106.02 },\n  \"AZ\": { stateName: \"AZ\", average: 45.7, finalScore: 109.16 },\n  \"ID\": { stateName: \"ID\", average: 44.9, finalScore: 104.82 },\n  \"OR\": { stateName: \"OR\", average: 44.5, finalScore: 104.34 },\n  \"LA\": { stateName: \"LA\", average: 43.7, finalScore: 104.10 },\n  \"GA\": { stateName: \"GA\", average: 43.7, finalScore: 102.65 },\n  \"MS\": { stateName: \"MS\", average: 43.6, finalScore: 104.10 },\n  \"AR\": { stateName: \"AR\", average: 43.1, finalScore: 102.89 },\n  \"AL\": { stateName: \"AL\", average: 42.3, finalScore: 99.76 },\n  \"OK\": { stateName: \"OK\", average: 42.0, finalScore: 99.76 },\n  \"NC\": { stateName: \"NC\", average: 42.0, finalScore: 98.07 },\n  \"TX\": { stateName: \"TX\", average: 39.9, finalScore: 94.46 },\n  \"MT\": { stateName: \"MT\", average: 39.7, finalScore: 92.29 },\n  \"HI\": { stateName: \"HI\", average: 38.6, finalScore: 90.60 },\n  \"KY\": { stateName: \"KY\", average: 37.5, finalScore: 87.95 },\n  \"TN\": { stateName: \"TN\", average: 35.9, finalScore: 84.58 },\n  \"SC\": { stateName: \"SC\", average: 35.4, finalScore: 84.10 },\n  \"FL\": { stateName: \"FL\", average: 32.8, finalScore: 78.31 }\n};\nconst FBI_API_KEY = 'KGCHD5QLxYmLrqKeuZrqnvBzx58e0ZhyRqW1jXYP';\nconst fetchFloodZoneData = async (location: GeoLocation): Promise<FloodZoneData> => {\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 500));\n  return generateMockFloodData(location);\n};\n\nconst getFloodZoneColor = (score: number): string => {\n  if (score >= 150) return '#22c55e'; // green\n  if (score >= 100) return '#84cc16'; // light green\n  if (score >= 50) return '#eab308'; // yellow\n  return '#ef4444'; // red\n};\n// Example usage in your analyzeLocation function\nconst analyzeLocation = async (location: GeoLocation): Promise<void> => {\n  setLoading(true);\n  try {\n    const floodData = await fetchFloodZoneData(location);\n    setFloodData(floodData);\n    \n    // Update visualization on the map\n    if (map && floodData.score < 150) {\n      // Create a circle to represent flood risk area\n      const radius = Math.max(100, (200 - floodData.score) * 10); // Higher risk = larger circle\n      const floodCircle = new google.maps.Circle({\n        strokeColor: getFloodZoneColor(floodData.score),\n        strokeOpacity: 0.8,\n        strokeWeight: 2,\n        fillColor: getFloodZoneColor(floodData.score),\n        fillOpacity: 0.35,\n        map,\n        center: location,\n        radius: radius // meters\n      });\n      \n\n      // Store reference to remove later if needed\n      if (floodZoneOverlay) {\n        floodZoneOverlay.setMap(null);\n      }\n      setFloodZoneOverlay(floodCircle);\n    }\n  } catch (error) {\n    console.error('Error in flood analysis:', error);\n  } finally {\n    setLoading(false);\n  }\n};\n\nconst processFloodZone = (attributes: any): FEMAZoneAttributes => {\n  return {\n    zoneId: attributes.FLD_ZONE,\n    subtype: attributes.ZONE_SUBTY || '',\n    isSpecialFloodHazardArea: attributes.SFHA_TF === 'T',\n    baseFloodElevation: attributes.STATIC_BFE,\n    depth: attributes.DEPTH,\n    velocity: attributes.VELOCITY\n  };\n};\n\nconst calculateFloodScore = (attributes: FEMAZoneAttributes): number => {\n  let baseScore = 200; // Start with max score (safest)\n\n  // Special Flood Hazard Area is the biggest factor\n  if (attributes.isSpecialFloodHazardArea) {\n    baseScore -= 100;\n  }\n\n  // Zone-specific adjustments\n  switch (attributes.zoneId) {\n    case 'V':\n    case 'VE':\n      baseScore -= 75; // Coastal high-velocity wave action\n      break;\n    case 'A':\n    case 'AE':\n    case 'AH':\n    case 'AO':\n      baseScore -= 50; // 1% annual chance flood areas\n      break;\n    case 'X':\n      if (attributes.subtype === '0.2 PCT ANNUAL CHANCE FLOOD HAZARD') {\n        baseScore -= 25; // 0.2% annual chance flood areas\n      }\n      break;\n  }\n\n  // Adjust for depth if available\n  if (attributes.depth) {\n    baseScore -= Math.min(25, attributes.depth * 5);\n  }\n\n  // Adjust for velocity if available\n  if (attributes.velocity) {\n    baseScore -= Math.min(25, attributes.velocity * 2);\n  }\n\n  // Ensure score stays within 0-200 range\n  return Math.max(0, Math.min(200, baseScore));\n};\n\nconst determineRiskLevel = (score: number): 'High' | 'Moderate' | 'Low' | 'Minimal' => {\n  if (score <= 50) return 'High';\n  if (score <= 100) return 'Moderate';\n  if (score <= 150) return 'Low';\n  return 'Minimal';\n};\n\n\n\nconst fetchCrimeData = async (location: GeoLocation): Promise<CrimeStats> => {\n  try {\n    // Updated base URL and endpoint\n    const baseUrl = 'https://api.usa.gov/crime/fbi/cde';\n    const apiKey = 'YOUR_NEW_API_KEY'; // Replace with your new API key\n\n    // First get the agency data\n    const agencyUrl = `${baseUrl}/agencies/byLocation?lat=${location.lat}&lng=${location.lng}&api_key=${apiKey}`;\n    console.log('Fetching agency data:', agencyUrl);\n    \n    const agencyResponse = await fetch(agencyUrl, {\n      headers: {\n        'Accept': 'application/json'\n      }\n    });\n\n    if (!agencyResponse.ok) {\n      const errorText = await agencyResponse.text();\n      console.error('Agency API Error:', errorText);\n      throw new Error(`Agency API Error: ${agencyResponse.status}`);\n    }\n\n    const agencyData = await agencyResponse.json();\n    console.log('Agency Data:', agencyData);\n\n    if (!agencyData?.data?.agencies?.[0]?.ori) {\n      console.warn('No agency found for location');\n      return getDefaultCrimeStats();\n    }\n\n    const ori = agencyData.data.agencies[0].ori;\n    const startYear = 2019;\n    const endYear = 2023;\n\n    // Function to fetch specific crime type data\n    const fetchCrimeType = async (offense: string): Promise<any> => {\n      const url = `${baseUrl}/offense/agencies/${ori}/${offense}/${startYear}/${endYear}?api_key=${apiKey}`;\n      console.log(`Fetching ${offense} data:`, url);\n\n      const response = await fetch(url, {\n        headers: {\n          'Accept': 'application/json'\n        }\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error(`${offense} API Error:`, errorText);\n        throw new Error(`${offense} API Error: ${response.status}`);\n      }\n\n      return response.json();\n    };\n\n    // Fetch all crime types\n    const [\n      violentCrime,\n      propertyCrime,\n      assaults,\n      robberies,\n      burglaries,\n      thefts,\n      vehicleThefts\n    ] = await Promise.all([\n      fetchCrimeType('violent-crime'),\n      fetchCrimeType('property-crime'),\n      fetchCrimeType('aggravated-assault'),\n      fetchCrimeType('robbery'),\n      fetchCrimeType('burglary'),\n      fetchCrimeType('larceny'),\n      fetchCrimeType('motor-vehicle-theft')\n    ]);\n\n    // Get most recent year's data\n    const getRecentData = (data: any) => {\n      if (!data?.data?.length) return 0;\n      const validData = data.data.filter((d: any) => d.actual !== undefined && d.population > 0);\n      return validData.length > 0 ? validData[validData.length - 1].actual : 0;\n    };\n\n    const population = violentCrime?.data?.[0]?.population || 100000;\n    const totalViolentCrime = getRecentData(violentCrime);\n    const totalPropertyCrime = getRecentData(propertyCrime);\n\n    // Calculate crime rate per 100,000 residents\n    const crimeRate = ((totalViolentCrime + totalPropertyCrime) / population) * 100000;\n    \n    // Calculate safety score (inverse relationship with crime rate)\n    const safetyScore = Math.max(0, Math.min(100, 100 - (crimeRate / 50)));\n    \n    // Calculate final score out of 200\n    const score = Math.round((safetyScore / 100) * 200);\n\n    return {\n      crimeRate: Math.round(crimeRate),\n      safetyScore: Math.round(safetyScore),\n      violentCrime: totalViolentCrime,\n      score,\n      details: {\n        assaults: getRecentData(assaults),\n        robberies: getRecentData(robberies),\n        burglaries: getRecentData(burglaries),\n        thefts: getRecentData(thefts),\n        vehicleThefts: getRecentData(vehicleThefts)\n      }\n    };\n\n  } catch (error) {\n    console.error('Error fetching crime data:', error);\n    // Return mock data as fallback\n    return {\n\n      crimeRate: 3592,\n      safetyScore: 65,\n      violentCrime: 150,\n      score: 130,\n      details: {\n        assaults: 85,\n        robberies: 25,\n        burglaries: 120,\n        thefts: 450,\n        vehicleThefts: 65\n      }\n    };\n  }\n};\n\nconst searchNearbyPlaces = async (service: google.maps.places.PlacesService, location: GeoLocation, radius: number, type: string): Promise<google.maps.places.PlaceResult[]> => {\n  return new Promise((resolve, reject) => {\n    service.nearbySearch({\n      location,\n      radius,\n      type: type // Now passing a single string instead of array\n    }, (results, status) => {\n      if (status === 'OK' && results) {\n        resolve(results);\n      } else if (status === 'ZERO_RESULTS') {\n        resolve([]);\n      } else {\n        reject(new Error(`Places search failed: ${status}`));\n      }\n    });\n  });\n};\n\ninterface CustomPlaceResult extends Omit<google.maps.places.PlaceResult, 'geometry'> {\n  geometry: {\n    location: google.maps.LatLng;\n    viewport?: google.maps.LatLngBounds;\n  };\n  place_id: string; // Make place_id required\n}\n\nconst getDefaultCrimeStats = (): CrimeStats => ({\n  crimeRate: 0,\n  safetyScore: 0,\n  violentCrime: 0,\n  score: 0,\n  details: {\n    assaults: 0,\n    robberies: 0,\n    burglaries: 0,\n    thefts: 0,\n    vehicleThefts: 0\n  }\n});\nconst getStateFromAddress = (address: string): string => {\n  // Try to match state in various formats\n  const patterns = [\n    /,\\s*([A-Z]{2})\\s*\\d{5}/, // Matches \", TX 75019\"\n    /,\\s*([A-Z]{2})\\s*,/, // Matches \", TX,\"\n    /,\\s*([A-Z]{2})\\s*$/, // Matches \", TX\" at end\n    /\\b([A-Z]{2})\\s*\\d{5}/, // Matches \"TX 75019\"\n  ];\n\n  for (const pattern of patterns) {\n    const match = address.match(pattern);\n    if (match && match[1]) {\n      return match[1];\n    }\n  }\n\n  // Additional check for common state names\n  const stateNames = Object.keys(STATE_HEAT_DATA);\n  for (const state of stateNames) {\n    if (address.toUpperCase().includes(state)) {\n      return state;\n    }\n  }\n\n  console.warn('No state found in address:', address);\n  return '';\n};\n\n// Add these helper functions\nconst handleMapError = (error: MapError) => {\n  console.error('Map error:', error);\n  let errorMessage = 'An error occurred with the map.';\n  \n  switch (error.code) {\n    case 'ZERO_RESULTS':\n      errorMessage = 'No results found for this location.';\n      break;\n    case 'OVER_QUERY_LIMIT':\n      errorMessage = 'Too many requests. Please try again later.';\n      break;\n    case 'REQUEST_DENIED':\n      errorMessage = 'Map request was denied. Please check your API key.';\n      break;\n    case 'INVALID_REQUEST':\n      errorMessage = 'Invalid map request.';\n      break;\n    default:\n      if (error.message) {\n        errorMessage = error.message;\n      }\n  }\n  \n  return errorMessage;\n};\n\nconst retryMapOperation = async (\n  operation: () => Promise<any>,\n  maxRetries: number = 3,\n  delay: number = 1000\n): Promise<any> => {\n  for (let i = 0; i < maxRetries; i++) {\n    try {\n      return await operation();\n    } catch (error) {\n      if (i === maxRetries - 1) throw error;\n      await new Promise(resolve => setTimeout(resolve, delay * (i + 1)));\n    }\n  }\n};\n\n// Define specific place types we care about\nconst IMPORTANT_PLACES: POIWeights = {\n  // Shopping\n  'grocery_or_supermarket': 5,    // Kroger, Walmart, etc.\n  'supermarket': 5,               // Additional tag for supermarkets\n  'shopping_mall': 5,              // Major shopping centers\n  'convenience_store': 2,          // Lower weight for convenience stores\n  \n  // Restaurants\n  'restaurant': 3,                 // Regular restaurants\n  'cafe': 2,                       // Cafes\n  'meal_takeaway': 2,              // Take-out places\n  //schools\n  // Schools\n  'primary_school': 8,             // Elementary schools\n  'secondary_school': 8,           // Middle/High schools\n  'school': 8,                     // General schools\n  \n  // Parks\n  'park': 1,                       // Public parks\n  'playground': 2,                 // Playgrounds\n  \n  // Transport\n  'transit_station': 5,            // Major transit stations\n  'bus_station': 3,                // Bus stops\n  'train_station': 5,              // Train stations\n};\n\n\n// Type definitions\ninterface PoiCategories {\n  shopping: number;\n  restaurant: number;\n  school: number;\n  park: number;\n  transport: number;\n}\n\ninterface PropertyDetails {\n  address: string;\n  coordinates: GeoLocation;  // Updated to use GeoLocation\n  nearbyPOIs: number;\n  searchRadius: number;\n}\n\ninterface SentimentDetails {\n  averageRating: string;\n  totalReviews: number;\n  communityEngagement: 'High' | 'Medium' | 'Low';\n  trend?: 'improving' | 'stable' | 'declining';\n  positiveReviews?: number;\n  neutralReviews?: number;\n  negativeReviews?: number;\n  highlights?: string[];\n}\n\n\n\nconst getDefaultFloodData = (): FloodZoneData => ({\n    score: 0,\n    riskLevel: 'High',\n    details: {\n      zoneType: 'Unknown',\n      description: 'Unable to determine flood zone',\n      annualChance: 'Unknown'\n    }\n  });\n\n\ninterface SentimentData {\n  score: number;\n  details: SentimentDetails;\n}\n\n// Update your results interface\ninterface AnalysisResults {\n  poi: {\n    score: number;\n    details: PoiCategories;\n  };\n  heatMap?: {\n    score: number;\n    details: HeatMapDetails;\n  };\n  crime: CrimeData;\n  sentiment: SentimentData;\n  propertyDetails: PropertyDetails;\n  \n}\n\n// Component props interfaces\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\ninterface ButtonProps {\n  onClick: () => void;\n  children: React.ReactNode;\n  disabled?: boolean;\n  className?: string;\n}\n\ninterface SliderProps {\n  value: number;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  min: number;\n  max: number;\n  step: number;\n  label: string;\n}\n\ninterface MapControlsProps {\n  searchRadius: number;\n  onRadiusChange: (value: number) => void;\n  onTogglePOIMarkers: (value: boolean) => void;\n  showPOIMarkers: boolean;\n  mapType: google.maps.MapTypeId | string;\n  onMapTypeChange: (value: string) => void;\n  onResetView: () => void;\n}\n\n// Custom components with TypeScript support\nconst Card: React.FC<CardProps> = ({ children, className = '' }) => (\n  <div className={`bg-white rounded-lg shadow p-4 ${className}`}>\n    {children}\n  </div>\n);\n\nconst Input: React.FC<React.InputHTMLAttributes<HTMLInputElement>> = (props) => (\n  <input\n    {...props}\n    className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n  />\n);\n\nconst getMarketDescription = (stateCode: string, marketType: string): string => {\n  switch (marketType) {\n    case 'Buyer':\n      return `Favorable buyer's market in ${stateCode}. High negotiation power for Buyers.`;\n    case 'Seller':\n      return `Strong seller's market in ${stateCode}. Property values trending higher than average.`;\n    default:\n      return `Balanced market conditions in ${stateCode}. Normal negotiation power for both parties.`;\n  }\n};\n\nconst Button: React.FC<ButtonProps> = ({ onClick, children, disabled, className = '' }) => (\n  <button\n    onClick={onClick}\n    className={`px-4 py-2 rounded-lg text-white font-medium ${\n      disabled \n        ? 'bg-gray-400 cursor-not-allowed' \n        : 'bg-blue-500 hover:bg-blue-600 active:bg-blue-700'\n    } ${className}`}\n    disabled={disabled}\n  >\n    {children}\n  </button>\n);\n\nconst Select: React.FC<React.SelectHTMLAttributes<HTMLSelectElement>> = (props) => (\n  <select\n    {...props}\n    className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n  />\n);\n\nconst Slider: React.FC<SliderProps> = ({ value, onChange, min, max, step, label }) => (\n  <div className=\"space-y-2\">\n    <div className=\"flex justify-between\">\n      <label className=\"text-sm font-medium\">{label}</label>\n      <span className=\"text-sm text-gray-600\">{value}m</span>\n    </div>\n    <input\n      type=\"range\"\n      min={min}\n      max={max}\n      step={step}\n      value={value}\n      onChange={onChange}\n      className=\"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer\"\n    />\n  </div>\n);\n\nconst MapControls: React.FC<MapControlsProps> = ({ \n  searchRadius,\n  onRadiusChange,\n  onTogglePOIMarkers,\n  showPOIMarkers,\n  mapType,\n  onMapTypeChange,\n  onResetView\n}) => (\n  <Card>\n    <h3 className=\"font-semibold\">Map Controls</h3>\n    \n    <Slider\n      value={searchRadius}\n      onChange={(e) => onRadiusChange(Number(e.target.value))}\n      min={1000}\n      max={5000}\n      step={100}\n      label=\"Search Radius\"\n    />\n    \n    <div className=\"flex items-center gap-2\">\n      <label className=\"text-sm font-medium\">Map Type:</label>\n      <Select \n        value={mapType} \n        onChange={(e) => onMapTypeChange(e.target.value)}\n        className=\"flex-1\"\n      >\n        <option value=\"roadmap\">Roadmap</option>\n        <option value=\"satellite\">Satellite</option>\n        <option value=\"hybrid\">Hybrid</option>\n        <option value=\"terrain\">Terrain</option>\n      </Select>\n    </div>\n    \n    <div className=\"flex items-center justify-between\">\n      <label className=\"flex items-center gap-2\">\n        <input\n          type=\"checkbox\"\n          checked={showPOIMarkers}\n          onChange={(e) => onTogglePOIMarkers(e.target.checked)}\n          className=\"rounded\"\n        />\n        <span className=\"text-sm font-medium\">Show POI Markers</span>\n      </label>\n      \n      <Button onClick={onResetView} className=\"px-3 py-1 text-sm\">\n        Reset View\n      </Button>\n    </div>\n  </Card>\n);\n\n\n\n\nconst CategoryIcon: React.FC<{ category: keyof PoiCategories }> = ({ category }) => {\n  const icons: Record<keyof PoiCategories, string> = {\n    shopping: '🏪',\n    restaurant: '🍽️',\n    school: '🏫',\n    park: '🌳',\n    transport: '🚉'\n  };\n  \n  return <span className=\"text-lg\">{icons[category]}</span>;\n};\nconst PropertyAssessmentTool: React.FC = () => {\n  const [searchInput, setSearchInput] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(false);\n  const [results, setResults] = useState<AnalysisResults | null>(null);\n  const [error, setError] = useState<string>('');\n  const [googleLoaded, setGoogleLoaded] = useState<boolean>(false);\n  const [map, setMap] = useState<google.maps.Map | null>(null);\n  const [marker, setMarker] = useState<google.maps.Marker | null>(null);\n  const [searchCircle, setSearchCircle] = useState<google.maps.Circle | null>(null);\n  const [poiMarkers, setPoiMarkers] = useState<google.maps.Marker[]>([]);\n  const [showPOIMarkers, setShowPOIMarkers] = useState<boolean>(true);\n  const [mapType, setMapType] = useState<string>('roadmap'); // Change from google.maps.MapTypeId to string\n\n  const [searchRadius, setSearchRadius] = useState<number>(1500);\n  const mapRef = useRef<HTMLDivElement>(null);\n\n  const GOOGLE_API_KEY = 'AIzaSyBf5WWjQksCtxIziKvs7kFq4qjPCf6SoZQ';\n\n  const [floodZoneOverlay, setFloodZoneOverlay] = useState<google.maps.Polygon | null>(null);\n  const [floodData, setFloodData] = useState<FloodZoneData | null>(null);\n\n  // Add this function to fetch and analyze flood data\n\n  const createFloodZonePolygon = (center: GeoLocation): google.maps.LatLngLiteral[] => {\n    const points: google.maps.LatLngLiteral[] = [];\n    const radius = 0.01; // Roughly 1km\n    const sides = 8;\n\n    for (let i = 0; i < sides; i++) {\n      const angle = (i / sides) * 2 * Math.PI;\n      points.push({\n        lat: center.lat + radius * Math.cos(angle),\n        lng: center.lng + radius * Math.sin(angle)\n      });\n    }\n    return points;\n  };\n\n\n  const getSafetyColor = (score: number): string => {\n    if (score >= 80) return '#22c55e'; // green-500\n    if (score >= 60) return '#84cc16'; // lime-500\n    if (score >= 40) return '#eab308'; // yellow-500\n    if (score >= 20) return '#f97316'; // orange-500\n    return '#ef4444'; // red-500\n  };\n  \n  const getCrimeRateLevel = (rate: number): string => {\n    if (rate < 2000) return 'Very Low';\n    if (rate < 3000) return 'Low';\n    if (rate < 4000) return 'Moderate';\n    if (rate < 5000) return 'High';\n    return 'Very High';\n  };\n  \n  const getViolentCrimeLevel = (count: number): string => {\n    if (count < 50) return 'Very Low';\n    if (count < 100) return 'Low';\n    if (count < 200) return 'Moderate';\n    if (count < 300) return 'High';\n    return 'Very High';\n  };\n  \n  const getViolentCrimeColor = (count: number): string => {\n    if (count < 50) return 'text-green-600';\n    if (count < 100) return 'text-lime-600';\n    if (count < 200) return 'text-yellow-600';\n    if (count < 300) return 'text-orange-600';\n    return 'text-red-600';\n  };\n  \n  const getSafetyAnalysis = (safetyScore: number, crimeRate: number): string => {\n    if (safetyScore >= 80) {\n      return `This area demonstrates exceptional safety standards with a remarkably low crime rate of ${crimeRate} per 100,000 residents. The community benefits from effective law enforcement and strong neighborhood safety programs.`;\n    }\n    if (safetyScore >= 60) {\n      return `The area maintains good safety levels with a moderate crime rate of ${crimeRate} per 100,000 residents. While generally safe, standard precautions are recommended.`;\n    }\n    if (safetyScore >= 40) {\n      return `Safety in this area is moderate with a crime rate of ${crimeRate} per 100,000 residents. Additional security measures and awareness are recommended.`;\n    }\n    return `The area shows elevated crime levels with a rate of ${crimeRate} per 100,000 residents. Comprehensive security measures and increased caution are strongly advised.`;\n  };\n  \n  const getPoliceResponse = (safetyScore: number): string => {\n    if (safetyScore >= 80) return 'Excellent';\n    if (safetyScore >= 60) return 'Good';\n    if (safetyScore >= 40) return 'Average';\n    return 'Below Average';\n  };\n  \n  const getCommunityRating = (safetyScore: number): string => {\n    if (safetyScore >= 80) return 'Very Safe';\n    if (safetyScore >= 60) return 'Safe';\n    if (safetyScore >= 40) return 'Moderate';\n    return 'Caution Advised';\n  };\n\n  useEffect(() => {\n    const loadGoogleMaps = () => {\n      // Check if Google Maps is already loaded\n      const googleMapsScript = document.querySelector('script[src*=\"maps.googleapis.com\"]');\n      if (googleMapsScript) {\n        document.head.removeChild(googleMapsScript);\n      }\n  \n      const script = document.createElement('script');\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_API_KEY}&libraries=places,drawing`;\n      script.async = true;\n      script.defer = true;\n      script.onload = () => {\n        setGoogleLoaded(true);\n        if (mapRef.current) {\n          initMap();\n        }\n      };\n  \n      document.head.appendChild(script);\n    };\n  \n    loadGoogleMaps();\n  \n    return () => {\n      const script = document.querySelector('script[src*=\"maps.googleapis.com\"]');\n      if (script) {\n        document.head.removeChild(script);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (map && window.google) {\n      map.setMapTypeId(mapType as google.maps.MapTypeId);\n    }\n  }, [mapType, map]);\n  \n  // Update the MapControls props interface\n  interface MapControlsProps {\n    searchRadius: number;\n    onRadiusChange: (value: number) => void;\n    onTogglePOIMarkers: (value: boolean) => void;\n    showPOIMarkers: boolean;\n    mapType: string; // Change from google.maps.MapTypeId to string\n    onMapTypeChange: (value: string) => void;\n    onResetView: () => void;\n  }\n\n  useEffect(() => {\n    if (searchCircle) {\n      searchCircle.setRadius(searchRadius);\n    }\n  }, [searchRadius, searchCircle]);\n\n  useEffect(() => {\n    poiMarkers.forEach(marker => {\n      marker.setVisible(showPOIMarkers);\n    });\n  }, [showPOIMarkers, poiMarkers]);\n\n  // Continue with the rest of your component implementation...\n  // I'll continue with the remaining functions in the next part.\n  interface Location {\n    lat: number;\n    lng: number;\n  }\n  \n  const getStateRanking = (stateCode: string): number => {\n    const states = Object.entries(STATE_HEAT_DATA)\n      .sort(([, a], [, b]) => b.average - a.average)\n      .map(([code]) => code);\n    return states.indexOf(stateCode) + 1;\n  };\n\n  interface PlaceGeometry {\n    location: google.maps.LatLng;\n    viewport?: google.maps.LatLngBounds;\n  }\n  \n  interface PlaceResult extends google.maps.places.PlaceResult {\n    geometry: PlaceGeometry;\n    types: string[];\n    vicinity?: string;\n  }\n  \n  interface PlaceReview {\n    rating: number;\n    text: string;\n    time: number;\n  }\n  \n  interface SentimentAnalysis {\n    score: number;\n    reviews: {\n      positive: number;\n      neutral: number;\n      negative: number;\n    };\n    details: {\n      averageRating: string;\n      totalReviews: number;\n      communityEngagement: string;\n      recentTrend: 'improving' | 'stable' | 'declining';\n      priceLevel: number;\n      topKeywords: string[];\n    };\n  }\n  \n  \n    const clearPOIMarkers = (): void => {\n      poiMarkers.forEach(marker => marker.setMap(null));\n      setPoiMarkers([]);\n    };\n\n    const getPriceTrend = (average: number): number => {\n      // Calculate price trend based on market average\n      if (average >= 60) return 8.5;\n      if (average <= 40) return 2.5;\n      return 5.5;\n    };\n    \n    const getAverageDays = (average: number): number => {\n      // Calculate average days on market based on market average\n      if (average >= 60) return 25;\n      if (average <= 40) return 75;\n      return 45;\n    };\n    \n    const getInventoryLevel = (average: number): string => {\n      if (average >= 60) return 'Low';\n      if (average <= 40) return 'High';\n      return 'Moderate';\n    };\n  \n    const createPOIMarker = (place: google.maps.places.PlaceResult, category: keyof PoiCategories): google.maps.Marker => {\n      if (!map || !place.geometry?.location) {\n        throw new Error('Invalid place data or map not initialized');\n      }\n    \n      \n      const marker = new google.maps.Marker({\n        position: place.geometry.location,\n        map: showPOIMarkers ? map : null,\n        title: place.name || '',\n        icon: {\n          url: `https://maps.google.com/mapfiles/ms/icons/${getPOIColor(category)}-dot.png`,\n          scaledSize: new google.maps.Size(32, 32)\n        }\n      });\n    \n      return marker;\n    };\n    \n  \n    const getPOIColor = (category: keyof PoiCategories): string => {\n      const colors: Record<keyof PoiCategories, string> = {\n        shopping: 'yellow',\n        restaurant: 'red',\n        school: 'blue',\n        park: 'green',\n        transport: 'purple'\n      };\n      return colors[category];\n    };\n  \n    const initMap = (): void => {\n      if (!mapRef.current) return;\n    \n      const defaultLocation = { lat: 32.9612, lng: -96.9902 }; // Centered on Coppell, TX\n      \n      const mapInstance = new window.google.maps.Map(mapRef.current, {\n        zoom: 12,\n        center: defaultLocation,\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        mapTypeControl: true,\n        mapTypeControlOptions: {\n          style: google.maps.MapTypeControlStyle.DROPDOWN_MENU\n        },\n        zoomControl: true,\n        zoomControlOptions: {\n          position: google.maps.ControlPosition.RIGHT_TOP\n        },\n        scaleControl: true,\n        streetViewControl: true,\n        fullscreenControl: true\n      });\n    \n      mapInstance.addListener('click', (e: google.maps.MapMouseEvent) => {\n        if (e.latLng) {\n          const clickedLocation = {\n            lat: e.latLng.lat(),\n            lng: e.latLng.lng()\n          };\n          updateMarkerAndCircle(clickedLocation);\n          void analyzeLocation(clickedLocation);\n        }\n      });\n    \n      setMap(mapInstance);\n    };\n  \n    const updateMarkerAndCircle = (location: GeoLocation): void => {\n      if (!map) return;\n  \n      // Update or create marker\n      if (marker) {\n        marker.setPosition(location);\n      } else {\n        const newMarker = new google.maps.Marker({\n          position: location,\n          map: map,\n          draggable: true\n        });\n        \n        newMarker.addListener('dragend', () => {\n          const newLocation = {\n            lat: newMarker.getPosition()?.lat() || 0,\n            lng: newMarker.getPosition()?.lng() || 0\n          };\n          updateMarkerAndCircle(newLocation);\n          void analyzeLocation(newLocation);\n        });\n        \n        setMarker(newMarker);\n      }\n  \n      // Update or create search radius circle\n      if (searchCircle) {\n        searchCircle.setCenter(location);\n      } else {\n        const newCircle = new google.maps.Circle({\n          map: map,\n          center: location,\n          radius: searchRadius,\n          fillColor: '#4299e1',\n          fillOpacity: 0.15,\n          strokeColor: '#4299e1',\n          strokeWeight: 2\n        });\n        setSearchCircle(newCircle);\n      }\n  \n      map.panTo(location);\n      map.setZoom(14);\n    };\n\n    const determineMarketType = (average: number): 'Buyer' | 'Balanced' | 'Seller' => {\n      if (average <= 40) return 'Buyer';\n      if (average >= 60) return 'Seller';\n      return 'Balanced';\n    };\n    \n    const getHeatMapColor = (average: number): string => {\n      // Higher values are more blue (seller's market)\n      // Lower values are more red (buyer's market)\n      const normalizedValue = (average - 32.8) / (81.1 - 32.8); // Normalize based on min/max from data\n      const red = Math.round(255 * (1 - normalizedValue));\n      const blue = Math.round(255 * normalizedValue);\n      return `rgb(${red}, ${Math.min(red, blue) / 2}, ${blue})`;\n    };\n  \n    const analyzeLocation = async (location: GeoLocation): Promise<void> => {\n      \n      const service = new google.maps.places.PlacesService(map as google.maps.Map);\n      const geocoder = new google.maps.Geocoder();\n      const geocodeResult = await new Promise<google.maps.GeocoderResult>((resolve, reject) => {\n        geocoder.geocode({ location }, (results, status) => {\n          if (status === 'OK' && results?.[0]) {\n            resolve(results[0]);\n          } else {\n            reject(new Error('Geocoding failed'));\n          }\n        });\n      });\n\n      //const stateCode = getStateFromAddress(geocodeResult.formatted_address);\n      //const stateData = STATE_HEAT_DATA[stateCode];\n      const stateCode = getStateFromAddress(geocodeResult.formatted_address);\n      let heatMapAnalysis: HeatMapAnalysis;\n\n      if (stateCode && STATE_HEAT_DATA[stateCode]) {\n        const stateData = STATE_HEAT_DATA[stateCode];\n        const marketType = determineMarketType(stateData.average);\n\n        heatMapAnalysis = {\n          score: stateData.finalScore,\n          details: {\n            stateCode: stateCode,\n            average: stateData.average,\n            score: stateData.finalScore,\n            marketType: marketType as 'Buyer' | 'Balanced' | 'Seller',\n            trend: stateData.average <= 40 ? 'Falling' : stateData.average >= 60 ? 'Rising' : 'Stable'\n          }\n        };\n      } else {\n        console.error('State not found in address:', geocodeResult.formatted_address);\n        heatMapAnalysis = {\n          score: 0,\n          details: {\n            stateCode: 'N/A',\n            average: 0,\n            score: 0,\n            marketType: 'Balanced',\n            trend: 'Stable'\n          }\n        };\n      }\n      \n\n\n      const analyzeSentiment = async (\n        service: google.maps.places.PlacesService,\n        location: GeoLocation,\n        radius: number\n      ): Promise<SentimentAnalysis> => {\n        try {\n          // Get nearby places with their reviews\n          const places = await new Promise<google.maps.places.PlaceResult[]>((resolve, reject) => {\n            service.nearbySearch({\n              location,\n              radius,\n              type: ['establishment']\n            }, (results, status) => {\n              if (status === 'OK' && results) resolve(results);\n              else if (status === 'ZERO_RESULTS') resolve([]);\n              else reject(new Error(`Places search failed: ${status}`));\n            });\n          });\n      \n          let totalRating = 0;\n          let totalReviews = 0;\n          let recentReviews: PlaceReview[] = [];\n          let priceSum = 0;\n          let priceCount = 0;\n          const keywords = new Map<string, number>();\n      \n          // Analyze each place\n          for (const place of places) {\n            if (!place.place_id) continue;\n      \n            // Get detailed place information including reviews\n            const details = await new Promise<google.maps.places.PlaceResult>((resolve, reject) => {\n              service.getDetails({\n                placeId: place.place_id,\n                fields: ['rating', 'review', 'user_ratings_total', 'price_level']\n              }, (result, status) => {\n                if (status === 'OK' && result) resolve(result);\n                else reject(new Error(`Place details failed: ${status}`));\n              });\n            });\n      \n            if (details.rating) {\n              totalRating += details.rating;\n              totalReviews += details.user_ratings_total || 0;\n            }\n      \n            if (details.price_level !== undefined) {\n              priceSum += details.price_level;\n              priceCount++;\n            }\n      \n            // Process reviews\n            if (details.reviews) {\n              recentReviews.push(...details.reviews.map(review => ({\n                rating: review.rating,\n                text: review.text,\n                time: review.time\n              })));\n\n\n      \n              // Extract keywords from reviews\n              details.reviews.forEach(review => {\n                const words = review.text.toLowerCase()\n                  .split(/\\W+/)\n                  .filter(word => word.length > 3)\n                  .filter(word => !['this', 'that', 'with', 'from', 'they', 'have'].includes(word));\n      \n                words.forEach(word => {\n                  keywords.set(word, (keywords.get(word) || 0) + 1);\n                });\n              });\n            }\n          }\n      \n          // Calculate averages and scores\n          const averageRating = totalReviews > 0 ? totalRating / places.length : 0;\n          const averagePrice = priceCount > 0 ? priceSum / priceCount : 0;\n      \n          // Analyze review sentiment\n          const sentimentCounts = {\n            positive: recentReviews.filter(r => r.rating >= 4).length,\n            neutral: recentReviews.filter(r => r.rating === 3).length,\n            negative: recentReviews.filter(r => r.rating <= 2).length\n          };\n      \n          // Calculate recent trend\n          const recentTrend = calculateReviewTrend(recentReviews);\n      \n          // Get top keywords\n          const topKeywords = [...keywords.entries()]\n            .sort((a, b) => b[1] - a[1])\n            .slice(0, 5)\n            .map(([word]) => word);\n      \n          // Calculate final sentiment score (out of 200)\n          const sentimentScore = calculateSentimentScore({\n            averageRating,\n            totalReviews,\n            recentTrend,\n            sentimentCounts,\n            averagePrice\n          });\n      \n          return {\n            score: sentimentScore,\n            reviews: sentimentCounts,\n            details: {\n              averageRating: averageRating.toFixed(1),\n              totalReviews,\n              communityEngagement: getCommunityEngagement(totalReviews),\n              recentTrend,\n              priceLevel: Math.round(averagePrice),\n              topKeywords\n            }\n          };\n        } catch (error) {\n          console.error('Sentiment analysis error:', error);\n          return getDefaultSentimentAnalysis();\n        }\n      };\n      \n      const calculateReviewTrend = (reviews: PlaceReview[]): 'improving' | 'stable' | 'declining' => {\n        if (reviews.length < 2) return 'stable';\n      \n        const sortedReviews = [...reviews].sort((a, b) => b.time - a.time);\n        const recentReviews = sortedReviews.slice(0, Math.ceil(sortedReviews.length / 2));\n        const olderReviews = sortedReviews.slice(Math.ceil(sortedReviews.length / 2));\n      \n        const recentAvg = recentReviews.reduce((sum, r) => sum + r.rating, 0) / recentReviews.length;\n        const olderAvg = olderReviews.reduce((sum, r) => sum + r.rating, 0) / olderReviews.length;\n      \n        if (recentAvg > olderAvg + 0.3) return 'improving';\n        if (recentAvg < olderAvg - 0.3) return 'declining';\n        return 'stable';\n      };\n      \n\n      const calculateSentimentScore = ({\n        averageRating,\n        totalReviews,\n        recentTrend,\n        sentimentCounts,\n        averagePrice\n      }: {\n        averageRating: number;\n        totalReviews: number;\n        recentTrend: string;\n        sentimentCounts: { positive: number; neutral: number; negative: number };\n        averagePrice: number;\n      }): number => {\n        let score = 0;\n      \n        // Rating score (max 100)\n        score += (averageRating / 5) * 100;\n      \n        // Review volume score (max 30)\n        score += Math.min(30, totalReviews / 10);\n      \n        // Trend bonus (max 20)\n        if (recentTrend === 'improving') score += 20;\n        else if (recentTrend === 'stable') score += 10;\n      \n        // Sentiment ratio score (max 30)\n        const totalSentiments = sentimentCounts.positive + sentimentCounts.neutral + sentimentCounts.negative;\n        if (totalSentiments > 0) {\n          const positiveRatio = sentimentCounts.positive / totalSentiments;\n          score += positiveRatio * 30;\n        }\n      \n        // Price level adjustment (max 20)\n        const priceScore = 20 - (averagePrice * 5); // Lower prices get higher scores\n        score += Math.max(0, priceScore);\n      \n        return Math.round(Math.min(200, score));\n      };\n      \n      const getCommunityEngagement = (totalReviews: number): string => {\n        if (totalReviews > 500) return 'Very High';\n        if (totalReviews > 200) return 'High';\n        if (totalReviews > 100) return 'Medium';\n        if (totalReviews > 50) return 'Low';\n        return 'Very Low';\n      };\n      \n      const getDefaultSentimentAnalysis = (): SentimentAnalysis => ({\n        score: 0,\n        reviews: { positive: 0, neutral: 0, negative: 0 },\n        details: {\n          averageRating: '0.0',\n          totalReviews: 0,\n          communityEngagement: 'Low',\n          recentTrend: 'stable',\n          priceLevel: 0,\n          topKeywords: []\n        }\n      });\n      if (!map) return;\n    \n      setLoading(true);\n      setError('');\n      clearPOIMarkers();\n    \n      try {\n\n        const floodZoneData = await fetchFloodZoneData(location);\n      setFloodData(floodZoneData);\n\n      // Update flood zone visualization\n      if (floodZoneOverlay) {\n        floodZoneOverlay.setMap(null);\n      }\n\n      if (floodZoneData.geometry && map) {\n        const newOverlay = new google.maps.Polygon({\n          paths: floodZoneData.geometry,\n          strokeColor: getFloodZoneColor(floodZoneData.score),\n          strokeOpacity: 0.8,\n          strokeWeight: 2,\n          fillColor: getFloodZoneColor(floodZoneData.score),\n          fillOpacity: 0.35,\n          map: map\n        });\n        setFloodZoneOverlay(newOverlay);\n      }\n\n      const updateFloodZoneVisualization = (floodData: FloodZoneData, map: google.maps.Map) => {\n        if (floodZoneOverlay) {\n          floodZoneOverlay.setMap(null);\n        }\n      \n        if (floodData.geometry && floodData.geometry.length > 0) {\n          const newOverlay = new google.maps.Polygon({\n            paths: floodData.geometry,\n            strokeColor: getFloodZoneColor(floodData.score),\n            strokeOpacity: 0.8,\n            strokeWeight: 2,\n            fillColor: getFloodZoneColor(floodData.score),\n            fillOpacity: 0.35,\n            map: map\n          });\n      \n          // Add hover effect\n          newOverlay.addListener('mouseover', () => {\n            newOverlay.setOptions({\n              fillOpacity: 0.6,\n\n              strokeWeight: 3\n            });\n          });\n      \n          newOverlay.addListener('mouseout', () => {\n            newOverlay.setOptions({\n              fillOpacity: 0.35,\n              strokeWeight: 2\n            });\n          });\n      \n          setFloodZoneOverlay(newOverlay);\n        }\n      };\n        \n        const [crimeAnalysis, geocodeResult] = await Promise.all([\n          fetchCrimeData(location,FBI_API_KEY),\n          new Promise<google.maps.GeocoderResult>((resolve, reject) => {\n            const geocoder = new google.maps.Geocoder();\n            geocoder.geocode({ location }, (results, status) => {\n              if (status === 'OK' && results?.[0]) {\n                resolve(results[0]);\n              } else {\n                reject(new Error('Geocoding failed'));\n              }\n            });\n          })\n        ]);\n    \n        // Get place details and address first\n        \n    \n        const poiCategories: PoiCategories = {\n          shopping: 0,\n          restaurant: 0,\n          school: 0,\n          park: 0,\n          transport: 0\n        };\n    \n        const poiScores: PoiCategories = {\n          shopping: 0,\n          restaurant: 0,\n          school: 0,\n          park: 0,\n          transport: 0\n        };\n    \n        const newMarkers: google.maps.Marker[] = [];\n        const processedPlaces = new Set<string>();\n    \n        // Search for each important place type\n        for (const [placeType, weight] of Object.entries(IMPORTANT_PLACES)) {\n          try {\n            const places = await new Promise<google.maps.places.PlaceResult[]>((resolve, reject) => {\n              service.nearbySearch({\n                location,\n                radius: searchRadius,\n                type: placeType as google.maps.places.PlaceType,\n              }, (results, status) => {\n                if (status === 'OK' && results) resolve(results);\n                else if (status === 'ZERO_RESULTS') resolve([]);\n                else reject(new Error(`Places search failed: ${status}`));\n              });\n            });\n    \n            places.forEach(place => {\n              if (!place.place_id || processedPlaces.has(place.place_id)) return;\n              processedPlaces.add(place.place_id);\n    \n              let category: keyof PoiCategories | null = null;\n              let score = weight;\n    \n              if (placeType.includes('supermarket') || placeType.includes('shopping')) {\n                category = 'shopping';\n                if (place.name?.match(/walmart|kroger|target|tom thumb|costco|sam's club|whole foods/i)) {\n                  score *= 2;\n                }\n              } else if (placeType.includes('restaurant') || placeType.includes('cafe')) {\n                category = 'restaurant';\n              } else if (placeType.includes('school')) {\n                category = 'school';\n                if (place.name?.match(/elementary|middle|high school/i)) {\n                  score *= 1.5;\n                }\n              } else if (placeType.includes('park') || placeType.includes('playground')) {\n                category = 'park';\n                if (place.name?.match(/community|regional|municipal/i)) {\n                  score *= 1.5;\n                }\n              } else if (placeType.includes('station')) {\n                category = 'transport';\n              }\n    \n              if (category) {\n                poiCategories[category]++;\n                poiScores[category] += score;\n                newMarkers.push(createPOIMarker(place, category));\n              }\n            });\n    \n            await new Promise(resolve => setTimeout(resolve, 200));\n    \n          } catch (error) {\n            console.warn(`Error searching for ${placeType}:`, error);\n          }\n        }\n    \n        setPoiMarkers(newMarkers);\n    \n        const MAX_CATEGORY_SCORES: POIMaxScores = {\n          shopping: 50,      // Major focus on retail availability\n          restaurant: 38,    // Important but not critical\n          school: 10,        // High importance for families\n          park: 25,          // Good for community value\n          transport: 75      // Helpful but not crucial\n        };\n        // Calculate final category scores\n        const finalScores = {\n          shopping: Math.min(200, (poiScores.shopping / MAX_CATEGORY_SCORES.shopping) * 200),\n          restaurant: Math.min(200, (poiScores.restaurant / MAX_CATEGORY_SCORES.restaurant) * 200),\n          school: Math.min(200, (poiScores.school / MAX_CATEGORY_SCORES.school) * 200),\n          park: Math.min(200, (poiScores.park / MAX_CATEGORY_SCORES.park) * 200),\n          transport: Math.min(200, (poiScores.transport / MAX_CATEGORY_SCORES.transport) * 200)\n        };\n    \n        // Calculate overall POI score\n        const poiScore = Math.round(Math.min(200, \n          Object.values(finalScores).reduce((a, b) => a + b, 0) / 5\n        ));\n    \n        // Mock sentiment data (replace with real data in production)\n        const min = 100;\n        const max = 200;\n        const sentimentScore = Math.floor(Math.random() * (max - min + 1)) + min;\n        let mockRating = (Math.random() * (5 - 2.9 + 1)) + 2;\n        mockRating = Math.round(mockRating * 10) / 10;\n        const totalRatings = Math.floor(Math.random() * (max - min + 1)) + min;;\n    \n        // Set final results\n        setResults({\n          poi: {\n            score: poiScore,\n            details: poiCategories\n          },\n          sentiment: {\n            score: sentimentScore,\n            details: {\n              averageRating: mockRating.toString(),\n              totalReviews: totalRatings,\n              communityEngagement: totalRatings > 100 ? 'High' : totalRatings > 50 ? 'Medium' : 'Low'\n            }\n          },\n          heatMap: heatMapAnalysis,  // Add heat map data\n          crime: crimeAnalysis,\n          propertyDetails: {\n            address: geocodeResult.formatted_address,\n            coordinates: location,\n            nearbyPOIs: newMarkers.length,\n            searchRadius: searchRadius\n          }\n        });\n    \n      } catch (error) {\n        console.error('Analysis error:', error);\n        setError('Error analyzing location. Please try a different location or adjust the search radius.');\n      } finally {\n        setLoading(false);\n      }\n    };\n  \n    const handleSearchSubmit = async (): Promise<void> => {\n      if (!searchInput.trim()) {\n        setError('Please enter an address or coordinates');\n        return;\n      }\n  \n      try {\n        const geocoder = new google.maps.Geocoder();\n        const result = await new Promise<google.maps.GeocoderResult>((resolve, reject) => {\n          geocoder.geocode({ address: searchInput }, (results, status) => {\n            if (status === 'OK' && results?.[0]) {\n              resolve(results[0]);\n            } else {\n              reject(new Error('Geocoding failed'));\n            }\n          });\n        });\n  \n        const location: GeoLocation = {  // Updated to use GeoLocation\n          lat: result.geometry.location.lat(),\n          lng: result.geometry.location.lng()\n        };\n  \n        updateMarkerAndCircle(location);\n        void analyzeLocation(location);\n      } catch (error) {\n        setError('Could not find location. Please check the address.');\n        console.error('Search error:', error);\n      }\n    };\n  \n    // ... continuing from previous parts\n\n  const calculateTotalScore = (results: AnalysisResults): number => {\n    return results.poi.score + results.sentiment.score + results.heatMap.score + results.crime.score;;\n  };\n\n  const renderAssessmentSummary = (score: number): JSX.Element => {\n    if (score >= 750) {\n      return (\n        <div className=\"text-green-600\">\n          Excellent location! High potential for development with strong community features.\n        </div>\n      );\n    } else if (score >= 500) {\n      return (\n        <div className=\"text-blue-600\">\n          Good location with balanced amenities and growth potential.\n        </div>\n      );\n    } else if (score >= 250) {\n      return (\n        <div className=\"text-yellow-600\">\n          Moderate potential. Consider future development plans in the area.\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"text-red-600\">\n          Limited amenities. May require significant infrastructure development.\n        </div>\n      );\n    }\n  };\n\n  if (!googleLoaded) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-xl font-semibold\">Loading Google Maps...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-4\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {/* Left column: Map and controls */}\n        <div className=\"space-y-4\">\n          <Card>\n            <h2 className=\"text-2xl font-bold mb-4\">Select Location</h2>\n            <div className=\"flex flex-col gap-4\">\n              <div className=\"flex gap-4\">\n                <Input\n                  type=\"text\"\n                  placeholder=\"Enter address or coordinates (lat,lng)\"\n                  value={searchInput}\n                  onChange={(e) => setSearchInput(e.target.value)}\n                />\n                <Button\n                  onClick={() => void handleSearchSubmit()}\n                  disabled={loading}\n                >\n                  {loading ? 'Analyzing...' : 'Search'}\n                </Button>\n              </div>\n              {error && (\n                <div className=\"text-red-500 text-sm\">{error}</div>\n              )}\n            </div>\n            \n          </Card>\n          \n          <MapControls\n            searchRadius={searchRadius}\n            onRadiusChange={setSearchRadius}\n            onTogglePOIMarkers={setShowPOIMarkers}\n            showPOIMarkers={showPOIMarkers}\n            mapType={mapType}\n            onMapTypeChange={setMapType}\n            onResetView={() => {\n              if (marker && map) {\n                const position = marker.getPosition();\n                if (position) {\n                  map.setCenter(position);\n                  map.setZoom(14);\n                }\n              }\n            }}\n          />\n          \n          <div \n            ref={mapRef} \n            className=\"w-full h-[600px] rounded-lg shadow-lg border border-gray-200\"\n          ></div>\n          \n          <div className=\"text-sm text-gray-600\">\n            <div className=\"font-medium mb-2\">Map Legend:</div>\n            <div className=\"grid grid-cols-2 gap-2\">\n              {Object.entries({\n                shopping: 'yellow',\n                restaurant: 'red',\n                school: 'blue',\n                park: 'green',\n                transport: 'purple'\n              }).map(([category, color]) => (\n                <div key={category} className=\"flex items-center gap-2\">\n                  <span \n                    className=\"w-4 h-4 rounded-full\" \n                    style={{ backgroundColor: color }}\n                  ></span>\n                  <span className=\"capitalize\">{category}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n          {/* Add Score Circle right after map legend */}\n            {results && (\n              <Card>\n                <div className=\"flex flex-col items-center\">\n                  {/* Circle */}\n                  <div className=\"relative w-48 h-48\">\n                    <div \n                      className=\"absolute inset-0 rounded-full\"\n                      style={{ \n                        background: `conic-gradient(\n                          ${calculateTotalScore(results) >= 600 ? '#22c55e' : \n                            calculateTotalScore(results) >= 400 ? '#eab308' : '#ef4444'} 270deg,\n                          #e5e7eb 270deg\n                        )`\n                      }}\n                    />\n                    <div className=\"absolute inset-2 bg-white rounded-full flex items-center justify-center\">\n                      <span \n                        className=\"text-5xl font-bold\"\n                        style={{ \n                          color: calculateTotalScore(results) >= 600 ? '#22c55e' : \n                                calculateTotalScore(results) >= 400 ? '#eab308' : '#ef4444'\n                        }}\n                      >\n                        {calculateTotalScore(results).toFixed(2)}\n                      </span>\n                    </div>\n                  </div>\n                  \n                  {/* Label */}\n                  <div \n                    className=\"text-2xl font-bold mt-4 px-4 py-2 rounded-lg\"\n                    style={{ \n                      color: calculateTotalScore(results) >= 600 ? '#22c55e' : \n                            calculateTotalScore(results) >= 400 ? '#eab308' : '#ef4444',\n                      backgroundColor: calculateTotalScore(results) >= 600 ? '#22c55e15' : \n                                    calculateTotalScore(results) >= 400 ? '#eab30815' : '#ef444415'\n                    }}\n                  >\n                    {calculateTotalScore(results) >= 600 ? 'Valuable area' : \n                    calculateTotalScore(results) >= 400 ? 'Developing area' : 'Undeveloped area'}\n                  </div>\n                </div>\n              </Card>\n            )}\n            \n\n        </div>\n        {/* Add Score Circle right after map legend */}\n\n\n        {/* Right column: Results */}\n        <div className=\"space-y-4\">\n          {results && (\n            <>\n              <Card>\n                <h3 className=\"text-xl font-bold mb-4\">Location Details</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"font-medium\">Address:</span>\n                    <span className=\"text-right\">{results.propertyDetails.address}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"font-medium\">Coordinates:</span>\n                    <span>\n                      {results.propertyDetails.coordinates.lat.toFixed(6)}, \n                      {results.propertyDetails.coordinates.lng.toFixed(6)}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"font-medium\">Search Radius:</span>\n                    <span>{results.propertyDetails.searchRadius}m</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"font-medium\">Total POIs Found:</span>\n                    <span>{results.propertyDetails.nearbyPOIs}</span>\n                  </div>\n                </div>\n              </Card>\n\n              <Card>\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h3 className=\"text-lg font-semibold\">Points of Interest</h3>\n                  <div className=\"text-2xl font-bold\">{results.poi.score}/200</div>\n                </div>\n                <div className=\"space-y-3\">\n                  {(Object.entries(results.poi.details) as [keyof PoiCategories, number][]).map(([category, count]) => (\n                    <div key={category} className=\"relative\">\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <div className=\"flex items-center gap-2\">\n                          <CategoryIcon category={category} />\n                          <span className=\"capitalize\">\n                            {category}: {count}\n                          </span>\n                        </div>\n                        <span className=\"text-sm text-gray-600\">\n                          {Math.round((count * (\n                            category === 'school' ? 20 : \n                            category === 'park' ? 12 : 10\n                          )))}\n                           -Data-Points\n                        </span>\n                      </div>\n                      <div className=\"w-full h-3 bg-gray-200 rounded-full overflow-hidden\">\n                        <div \n                          className={`h-full rounded-full ${\n                            category === 'shopping' ? 'bg-yellow-500' :\n                            category === 'restaurant' ? 'bg-red-500' :\n                            category === 'school' ? 'bg-blue-500' :\n                            category === 'park' ? 'bg-green-500' :\n                            'bg-purple-500'\n                          }`}\n                          style={{ \n                            width: `${Math.min(100, (count * 20))}%`\n                          }}\n                        ></div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </Card>\n\n              {results.heatMap && (\n                <Card>\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-lg font-semibold\">Market Heat Map</h3>\n                    <div className=\"text-2xl font-bold\">{results.heatMap.score.toFixed(2)}/200</div>\n                  </div>\n                \n                  <div className=\"space-y-4\">\n                    {/* State Score */}\n                    <div>\n                      <div className=\"flex justify-between mb-1\">\n                        <span>State Market Index</span>\n                        <span className=\"font-medium\" style={{ \n                          color: getHeatMapColor(results.heatMap.details.average) \n                        }}>\n                          {results.heatMap.details.stateCode} - {results.heatMap.details.average.toFixed(1)}\n                        </span>\n                      </div>\n                      <div className=\"w-full h-6 bg-gray-200 rounded-full overflow-hidden\">\n                        <div \n                          className=\"h-full rounded-full transition-all duration-300\"\n                          style={{ \n                            width: `${((results.heatMap.details.average - 32.8) / (81.1 - 32.8)) * 100}%`,\n                            backgroundColor: getHeatMapColor(results.heatMap.details.average)\n                          }}\n                        />\n                      </div>\n                      <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\n                        <span>Buyer's Market (&lt;40)</span>\n                        <span>Balanced (40-60)</span>\n                        <span>Seller's Market (&gt;60)</span>\n                      </div>\n                    </div>\n                \n                    {/* Market Stats Grid */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"text-sm text-gray-600 mb-1\">Market Type</div>\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${\n                          results.heatMap.details.marketType === 'Seller' \n                            ? 'bg-blue-100 text-blue-800'\n                            : results.heatMap.details.marketType === 'Buyer'\n                            ? 'bg-red-100 text-red-800'\n                            : 'bg-yellow-100 text-yellow-800'\n                        }`}>\n                          {results.heatMap.details.marketType} Market\n                        </span>\n                      </div>\n                \n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"text-sm text-gray-600 mb-1\">Demand Level</div>\n                        <div className=\"flex items-center gap-2\">\n                          <div className={`w-3 h-3 rounded-full ${\n                            results.heatMap.details.average >= 60 ? 'bg-blue-500' :\n                            results.heatMap.details.average <= 40 ? 'bg-red-500' :\n                            'bg-yellow-500'\n                          }`}></div>\n                          <span className=\"text-sm font-medium\">\n                            {results.heatMap.details.average >= 60 ? 'High Demand' :\n                             results.heatMap.details.average <= 40 ? 'Low Demand' :\n                             'Moderate Demand'}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                \n                    {/* Market Metrics */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"space-y-2\">\n                        <div className=\"text-sm font-medium\">State Ranking</div>\n                        <div className=\"text-5xl font-bold\">\n                          #{getStateRanking(results.heatMap.details.stateCode)}/50\n                        </div>\n                        <div className=\"text-xs text-gray-500\">\n                          Among all US states\n                        </div>\n                      </div>\n                      \n                      <div className=\"space-y-2\">\n                        <div className=\"text-sm font-medium\">Price Trend</div>\n                        <div className=\"flex items-center gap-1 text-green-600\">\n                          <span className=\"text-6xl font-bold\">\n                            {getPriceTrend(results.heatMap.details.average)}%\n                          </span>\n                          <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 10l7-7m0 0l7 7m-7-7v18\" />\n                          </svg>\n                        </div>\n                        <div className=\"text-xs text-gray-500\">Annual appreciation</div>\n                      </div>\n                    </div>\n                \n                    {/* Market Analysis */}\n                    <div className=\"bg-gray-50 p-4 rounded-lg space-y-3\">\n                      <div className=\"font-medium\">Market Analysis</div>\n                      <div className=\"text-sm text-gray-600\">\n                        {results.heatMap.details.marketType === 'Seller' \n                          ? `Strong seller's market in ${results.heatMap.details.stateCode}. Property values are trending significantly higher than average, with sellers having strong negotiating power. Current market conditions favor quick sales and competitive pricing.`\n                          : results.heatMap.details.marketType === 'Buyer'\n                          ? `Favorable buyer's market in ${results.heatMap.details.stateCode}. Current conditions present good opportunities for property investment, with buyers having increased negotiating power. Properties may stay on market longer, allowing for more thorough evaluation.`\n                          : `Balanced market conditions in ${results.heatMap.details.stateCode}. Market shows healthy equilibrium between buyers and sellers, with stable pricing and reasonable negotiation opportunities for both parties.`}\n                      </div>\n                      <div className=\"grid grid-cols-2 gap-2 mt-2\">\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Avg. Days on Market: </span>\n                          {getAverageDays(results.heatMap.details.average)} days\n                        </div>\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Inventory Level: </span>\n                          {getInventoryLevel(results.heatMap.details.average)}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \n                </Card>\n              )}\n              \n              {results && (\n                <Card>\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-lg font-semibold\">Flood Zone Analysis</h3>\n                    <div className=\"text-2xl font-bold\">{floodData.score}/200</div>\n                  </div>\n\n                  <div className=\"space-y-4\">\n                    {/* Risk Level Indicator */}\n                    <div>\n                      <div className=\"flex justify-between mb-1\">\n                        <span>Flood Risk Level</span>\n                        <span className=\"font-medium\" style={{ \n                          color: getFloodZoneColor(floodData.score) \n                        }}>\n                          {floodData.riskLevel} Risk\n                        </span>\n                      </div>\n                      <div className=\"w-full h-6 bg-gray-200 rounded-full overflow-hidden\">\n                        <div \n                          className=\"h-full rounded-full transition-all duration-300\"\n                          style={{ \n                            width: `${(floodData.score / 200) * 100}%`,\n                            backgroundColor: getFloodZoneColor(floodData.score)\n                          }}\n                        />\n                      </div>\n                      <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\n                        <span>High Risk (&lt;50)</span>\n                        <span>Moderate (50-100)</span>\n                        <span>Low Risk (&gt;150)</span>\n                      </div>\n                    </div>\n\n                    {/* Flood Zone Stats Grid */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"text-sm text-gray-600 mb-1\">Zone Type</div>\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${\n                          floodData.details.zoneType === 'VE' || floodData.details.zoneType === 'A' \n                            ? 'bg-red-100 text-red-800'\n                            : floodData.details.zoneType === 'AE'\n                            ? 'bg-yellow-100 text-yellow-800'\n                            : 'bg-green-100 text-green-800'\n                        }`}>\n                          Zone {floodData.details.zoneType}\n                        </span>\n                      </div>\n\n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"text-sm text-gray-600 mb-1\">Annual Chance</div>\n                        <div className=\"flex items-center gap-2\">\n                          <div className={`w-3 h-3 rounded-full ${\n                            floodData.details.annualChance.includes('1%') ? 'bg-red-500' :\n                            floodData.details.annualChance.includes('0.2%') ? 'bg-yellow-500' :\n                            'bg-green-500'\n                          }`}></div>\n                          <span className=\"text-sm font-medium\">\n                            {floodData.details.annualChance}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Flood Metrics */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"space-y-2\">\n                        <div className=\"text-sm font-medium\">Base Flood Elevation</div>\n                        <div className=\"text-5xl font-bold\">\n                          {floodData.details.baseFloodElevation \n                            ? `${floodData.details.baseFloodElevation}'` \n                            : 'N/A'}\n                        </div>\n                        <div className=\"text-xs text-gray-500\">\n                          Above sea level\n                        </div>\n                      </div>\n                      \n                      <div className=\"space-y-2\">\n                        <div className=\"text-sm font-medium\">Insurance Required</div>\n                        <div className=\"flex items-center gap-1 text-blue-600\">\n                          <span className=\"text-4xl font-bold\">\n                            {floodData.score < 100 ? 'Yes' : 'Optional'}\n                          </span>\n                        </div>\n                        <div className=\"text-xs text-gray-500\">Federal requirement</div>\n                      </div>\n                    </div>\n\n                    {/* Flood Analysis */}\n                    <div className=\"bg-gray-50 p-4 rounded-lg space-y-3\">\n                      <div className=\"font-medium\">Flood Risk Analysis</div>\n                      <div className=\"text-sm text-gray-600\">\n                        {floodData.score < 50 \n                          ? `High-risk flood area in Zone ${floodData.details.zoneType}. This location has significant flood risk with mandatory flood insurance requirements. Consider comprehensive flood protection measures and emergency planning.`\n                          : floodData.score < 100\n                          ? `Moderate flood risk area in Zone ${floodData.details.zoneType}. While not in the highest risk category, flood insurance is recommended. Regular monitoring of local flood conditions advised.`\n                          : `Low to minimal flood risk area in Zone ${floodData.details.zoneType}. This location has reduced flood risk compared to other areas. Standard precautions and optional flood insurance may still be prudent.`}\n                      </div>\n                      <div className=\"grid grid-cols-2 gap-2 mt-2\">\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Community Rating: </span>\n                          {floodData.score > 150 ? 'Excellent' : \n                          floodData.score > 100 ? 'Good' :\n                          floodData.score > 50 ? 'Fair' : 'Poor'}\n                        </div>\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Protection Level: </span>\n                          {floodData.details.baseFloodElevation ? 'Standard' : 'Unknown'}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </Card>\n              )}\n\n              {results && (\n                <Card>\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-lg font-semibold\">Crime Analysis</h3>\n                    <div className=\"text-2xl font-bold\">{results.crime.score}/200</div>\n                  </div>\n\n                  <div className=\"space-y-4\">\n                    {/* Safety Score */}\n                    <div>\n                      <div className=\"flex justify-between mb-1\">\n                        <span>Safety Score</span>\n                        <span className=\"font-medium\" style={{ \n                          color: getSafetyColor(results.crime.safetyScore) \n                        }}>\n                          {results.crime.safetyScore}/100\n                        </span>\n                      </div>\n                      <div className=\"w-full h-2 bg-gray-200 rounded-full overflow-hidden\">\n                        <div \n                          className=\"h-full rounded-full transition-all duration-300\"\n                          style={{ \n                            width: `${results.crime.safetyScore}%`,\n                            backgroundColor: getSafetyColor(results.crime.safetyScore)\n                          }}\n                        />\n                      </div>\n                    </div>\n\n                    {/* Crime Stats Grid */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"text-sm text-gray-600 mb-1\">Crime Rate</div>\n                        <div className=\"text-xl font-bold\">\n                          {results.crime.crimeRate.toLocaleString()}\n                          <span className=\"text-sm font-normal text-gray-500 ml-1\">per 100k</span>\n                        </div>\n                        <div className=\"text-sm text-gray-500\">\n                          {getCrimeRateLevel(results.crime.crimeRate)}\n                        </div>\n                      </div>\n\n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"text-sm text-gray-600 mb-1\">Violent Crime</div>\n                        <div className=\"text-xl font-bold\">\n                          {results.crime.violentCrime.toLocaleString()}\n                          <span className=\"text-sm font-normal text-gray-500 ml-1\">incidents</span>\n                        </div>\n                        <div className={`text-sm ${getViolentCrimeColor(results.crime.violentCrime)}`}>\n                          {getViolentCrimeLevel(results.crime.violentCrime)}\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Crime Breakdown */}\n                    <div className=\"bg-gray-50 p-4 rounded-lg space-y-3\">\n                      <div className=\"font-medium\">Crime Breakdown</div>\n                      <div className=\"space-y-2\">\n                        {(Object.entries(results.crime.details) as [keyof CrimeDetails, number][]).map(([type, count]) => (\n                          <div key={type} className=\"flex items-center gap-2\">\n                            <div className=\"w-full\">\n                              <div className=\"flex justify-between text-sm mb-1\">\n                                <span className=\"capitalize\">{type.replace(/([A-Z])/g, ' $1').trim()}</span>\n                                <span>{count.toLocaleString()} incidents</span>\n                              </div>\n                              <div className=\"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden\">\n                                <div \n                                  className=\"h-full bg-blue-500 rounded-full\"\n                                  style={{ \n                                    width: `${(count / Math.max(...Object.values(results.crime.details))) * 100}%`\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Safety Analysis */}\n                    <div className=\"bg-gray-50 p-4 rounded-lg space-y-2\">\n                      <div className=\"font-medium\">Safety Analysis</div>\n                      <div className=\"text-sm text-gray-600\">\n                        {getSafetyAnalysis(results.crime.safetyScore, results.crime.crimeRate)}\n                      </div>\n                      <div className=\"grid grid-cols-2 gap-2 mt-2\">\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Police Response: </span>\n                          {getPoliceResponse(results.crime.safetyScore)}\n                        </div>\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium\">Community Rating: </span>\n                          {getCommunityRating(results.crime.safetyScore)}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </Card>\n              )}\n              <Card>\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h3 className=\"text-lg font-semibold\">Area Sentiment</h3>\n                  <div className=\"text-2xl font-bold\">{results.sentiment.score}/200</div>\n                </div>\n                <div className=\"space-y-4\">\n                  {/* Rating Section */}\n                  <div className=\"flex items-center gap-2 mb-3\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex justify-between mb-1\">\n                        <span>Rating</span>\n                        <span className=\"font-medium\">\n                          {results.sentiment.details.averageRating} / 5.0\n                        </span>\n                      </div>\n                      <div className=\"w-full h-3 bg-gray-200 rounded-full overflow-hidden\">\n                        <div \n                          className=\"h-full bg-yellow-400 rounded-full\"\n                          style={{ \n                            width: `${(parseFloat(results.sentiment.details.averageRating) / 5) * 100}%`\n                          }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Review Stats */}\n                  <div className=\"grid grid-cols-3 gap-2\">\n                    <div className=\"bg-green-50 p-2 rounded text-center\">\n                      <div className=\"text-sm text-green-600\">Positive</div>\n                      <div className=\"font-medium\">{Math.floor(Math.random() * (30 - 20 + 1)) + 20}</div>\n                    </div>\n                    <div className=\"bg-yellow-50 p-2 rounded text-center\">\n                      <div className=\"text-sm text-yellow-600\">Neutral</div>\n                      <div className=\"font-medium\">{Math.floor(Math.random() * (15 - 4 + 1)) + 12}</div>\n                    </div>\n                    <div className=\"bg-red-50 p-2 rounded text-center\">\n                      <div className=\"text-sm text-red-600\">Negative</div>\n                      <div className=\"font-medium\">{Math.floor(Math.random() * (10 - 6 + 1)) + 4}</div>\n                    </div>\n                  </div>\n\n                  {/* Community Stats */}\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between items-center\">\n                      <span>Total Reviews:</span>\n                      <span className=\"font-medium\">\n                        {results.sentiment.details.totalReviews}\n                      </span>\n                    </div>\n                    \n                    <div className=\"flex justify-between items-center\">\n                      <span>Community Engagement:</span>\n                      <div \n                        className={`px-2 py-1 rounded-full text-sm ${\n                          results.sentiment.details.communityEngagement === 'High' \n                            ? 'bg-green-100 text-green-600' \n                            : results.sentiment.details.communityEngagement === 'Medium'\n                            ? 'bg-yellow-100 text-yellow-600'\n                            : 'bg-red-100 text-red-600'\n                        }`}\n                      >\n                        {results.sentiment.details.communityEngagement}\n                      </div>\n                    </div>\n\n                    <div className=\"flex justify-between items-center\">\n                      <span>Trend:</span>\n                      <div className=\"flex items-center gap-1 text-green-600\">\n                        <span className=\"text-sm\">Improving</span>\n                        <svg \n                          className=\"w-4 h-4\" \n                          fill=\"none\" \n                          stroke=\"currentColor\" \n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path \n                            strokeLinecap=\"round\" \n                            strokeLinejoin=\"round\" \n                            strokeWidth={2} \n                            d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" \n                          />\n                        </svg>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Area Highlights */}\n                  <div className=\"bg-blue-50 p-3 rounded\">\n                    <div className=\"text-sm font-medium text-blue-800 mb-2\">Area Highlights</div>\n                    <div className=\"flex flex-wrap gap-2\">\n                      <span className=\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\">Family Friendly</span>\n                      <span className=\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\">Quiet</span>\n                      <span className=\"px-2 py-1 bg-white rounded-full text-sm text-blue-600\">Safe</span>\n                    </div>\n                  </div>\n                </div>\n              </Card>\n              \n              <Card>\n                <h3 className=\"text-xl font-bold mb-4\">Overall Assessment</h3>\n                <div className=\"relative mb-6\">\n                  <div className=\"text-4xl font-bold text-center\">\n                    {calculateTotalScore(results)}/1000\n                  </div>\n                  <div className=\"w-full h-4 bg-gray-200 rounded-full overflow-hidden mt-4\">\n                    <div \n                      className=\"h-full bg-blue-500 rounded-full transition-all duration-500\"\n                      style={{ \n                        width: `${(calculateTotalScore(results) / 1000) * 100}%`\n                      }}\n                    ></div>\n                  </div>\n                  <div className=\"flex justify-between mt-1 text-sm text-gray-600\">\n                    <span>0</span>\n                    <span>250</span>\n                    <span>500</span>\n                    <span>750</span>\n                    <span>1000</span>\n                  </div>\n                </div>\n                \n                <div className=\"bg-blue-50 p-4 rounded-lg\">\n                  <h4 className=\"font-semibold mb-2\">Assessment Summary:</h4>\n                  <div className=\"space-y-2 text-sm\">\n                    {renderAssessmentSummary(calculateTotalScore(results))}\n                  </div>\n                </div>\n              </Card>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default PropertyAssessmentTool;\n\n\n    "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}